<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="author" content="John Coene" />

<meta name="date" content="2018-08-25" />

<title>Plugins</title>

<script src="data:application/x-javascript;base64,KGZ1bmN0aW9uKCkgewogIC8vIElmIHdpbmRvdy5IVE1MV2lkZ2V0cyBpcyBhbHJlYWR5IGRlZmluZWQsIHRoZW4gdXNlIGl0OyBvdGhlcndpc2UgY3JlYXRlIGEKICAvLyBuZXcgb2JqZWN0LiBUaGlzIGFsbG93cyBwcmVjZWRpbmcgY29kZSB0byBzZXQgb3B0aW9ucyB0aGF0IGFmZmVjdCB0aGUKICAvLyBpbml0aWFsaXphdGlvbiBwcm9jZXNzICh0aG91Z2ggbm9uZSBjdXJyZW50bHkgZXhpc3QpLgogIHdpbmRvdy5IVE1MV2lkZ2V0cyA9IHdpbmRvdy5IVE1MV2lkZ2V0cyB8fCB7fTsKCiAgLy8gU2VlIGlmIHdlJ3JlIHJ1bm5pbmcgaW4gYSB2aWV3ZXIgcGFuZS4gSWYgbm90LCB3ZSdyZSBpbiBhIHdlYiBicm93c2VyLgogIHZhciB2aWV3ZXJNb2RlID0gd2luZG93LkhUTUxXaWRnZXRzLnZpZXdlck1vZGUgPQogICAgICAvXGJ2aWV3ZXJfcGFuZT0xXGIvLnRlc3Qod2luZG93LmxvY2F0aW9uKTsKCiAgLy8gU2VlIGlmIHdlJ3JlIHJ1bm5pbmcgaW4gU2hpbnkgbW9kZS4gSWYgbm90LCBpdCdzIGEgc3RhdGljIGRvY3VtZW50LgogIC8vIE5vdGUgdGhhdCBzdGF0aWMgd2lkZ2V0cyBjYW4gYXBwZWFyIGluIGJvdGggU2hpbnkgYW5kIHN0YXRpYyBtb2RlcywgYnV0CiAgLy8gb2J2aW91c2x5LCBTaGlueSB3aWRnZXRzIGNhbiBvbmx5IGFwcGVhciBpbiBTaGlueSBhcHBzL2RvY3VtZW50cy4KICB2YXIgc2hpbnlNb2RlID0gd2luZG93LkhUTUxXaWRnZXRzLnNoaW55TW9kZSA9CiAgICAgIHR5cGVvZih3aW5kb3cuU2hpbnkpICE9PSAidW5kZWZpbmVkIiAmJiAhIXdpbmRvdy5TaGlueS5vdXRwdXRCaW5kaW5nczsKCiAgLy8gV2UgY2FuJ3QgY291bnQgb24galF1ZXJ5IGJlaW5nIGF2YWlsYWJsZSwgc28gd2UgaW1wbGVtZW50IG91ciBvd24KICAvLyB2ZXJzaW9uIGlmIG5lY2Vzc2FyeS4KICBmdW5jdGlvbiBxdWVyeVNlbGVjdG9yQWxsKHNjb3BlLCBzZWxlY3RvcikgewogICAgaWYgKHR5cGVvZihqUXVlcnkpICE9PSAidW5kZWZpbmVkIiAmJiBzY29wZSBpbnN0YW5jZW9mIGpRdWVyeSkgewogICAgICByZXR1cm4gc2NvcGUuZmluZChzZWxlY3Rvcik7CiAgICB9CiAgICBpZiAoc2NvcGUucXVlcnlTZWxlY3RvckFsbCkgewogICAgICByZXR1cm4gc2NvcGUucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBhc0FycmF5KHZhbHVlKSB7CiAgICBpZiAodmFsdWUgPT09IG51bGwpCiAgICAgIHJldHVybiBbXTsKICAgIGlmICgkLmlzQXJyYXkodmFsdWUpKQogICAgICByZXR1cm4gdmFsdWU7CiAgICByZXR1cm4gW3ZhbHVlXTsKICB9CgogIC8vIEltcGxlbWVudCBqUXVlcnkncyBleHRlbmQKICBmdW5jdGlvbiBleHRlbmQodGFyZ2V0IC8qLCAuLi4gKi8pIHsKICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09IDEpIHsKICAgICAgcmV0dXJuIHRhcmdldDsKICAgIH0KICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7CiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07CiAgICAgIGZvciAodmFyIHByb3AgaW4gc291cmNlKSB7CiAgICAgICAgaWYgKHNvdXJjZS5oYXNPd25Qcm9wZXJ0eShwcm9wKSkgewogICAgICAgICAgdGFyZ2V0W3Byb3BdID0gc291cmNlW3Byb3BdOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgcmV0dXJuIHRhcmdldDsKICB9CgogIC8vIElFOCBkb2Vzbid0IHN1cHBvcnQgQXJyYXkuZm9yRWFjaC4KICBmdW5jdGlvbiBmb3JFYWNoKHZhbHVlcywgY2FsbGJhY2ssIHRoaXNBcmcpIHsKICAgIGlmICh2YWx1ZXMuZm9yRWFjaCkgewogICAgICB2YWx1ZXMuZm9yRWFjaChjYWxsYmFjaywgdGhpc0FyZyk7CiAgICB9IGVsc2UgewogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlcy5sZW5ndGg7IGkrKykgewogICAgICAgIGNhbGxiYWNrLmNhbGwodGhpc0FyZywgdmFsdWVzW2ldLCBpLCB2YWx1ZXMpOwogICAgICB9CiAgICB9CiAgfQoKICAvLyBSZXBsYWNlcyB0aGUgc3BlY2lmaWVkIG1ldGhvZCB3aXRoIHRoZSByZXR1cm4gdmFsdWUgb2YgZnVuY1NvdXJjZS4KICAvLwogIC8vIE5vdGUgdGhhdCBmdW5jU291cmNlIHNob3VsZCBub3QgQkUgdGhlIG5ldyBtZXRob2QsIGl0IHNob3VsZCBiZSBhIGZ1bmN0aW9uCiAgLy8gdGhhdCBSRVRVUk5TIHRoZSBuZXcgbWV0aG9kLiBmdW5jU291cmNlIHJlY2VpdmVzIGEgc2luZ2xlIGFyZ3VtZW50IHRoYXQgaXMKICAvLyB0aGUgb3ZlcnJpZGRlbiBtZXRob2QsIGl0IGNhbiBiZSBjYWxsZWQgZnJvbSB0aGUgbmV3IG1ldGhvZC4gVGhlIG92ZXJyaWRkZW4KICAvLyBtZXRob2QgY2FuIGJlIGNhbGxlZCBsaWtlIGEgcmVndWxhciBmdW5jdGlvbiwgaXQgaGFzIHRoZSB0YXJnZXQgcGVybWFuZW50bHkKICAvLyBib3VuZCB0byBpdCBzbyAidGhpcyIgd2lsbCB3b3JrIGNvcnJlY3RseS4KICBmdW5jdGlvbiBvdmVycmlkZU1ldGhvZCh0YXJnZXQsIG1ldGhvZE5hbWUsIGZ1bmNTb3VyY2UpIHsKICAgIHZhciBzdXBlckZ1bmMgPSB0YXJnZXRbbWV0aG9kTmFtZV0gfHwgZnVuY3Rpb24oKSB7fTsKICAgIHZhciBzdXBlckZ1bmNCb3VuZCA9IGZ1bmN0aW9uKCkgewogICAgICByZXR1cm4gc3VwZXJGdW5jLmFwcGx5KHRhcmdldCwgYXJndW1lbnRzKTsKICAgIH07CiAgICB0YXJnZXRbbWV0aG9kTmFtZV0gPSBmdW5jU291cmNlKHN1cGVyRnVuY0JvdW5kKTsKICB9CgogIC8vIEFkZCBhIG1ldGhvZCB0byBkZWxlZ2F0b3IgdGhhdCwgd2hlbiBpbnZva2VkLCBjYWxscwogIC8vIGRlbGVnYXRlZS5tZXRob2ROYW1lLiBJZiB0aGVyZSBpcyBubyBzdWNoIG1ldGhvZCBvbgogIC8vIHRoZSBkZWxlZ2F0ZWUsIGJ1dCB0aGVyZSB3YXMgb25lIG9uIGRlbGVnYXRvciBiZWZvcmUKICAvLyBkZWxlZ2F0ZU1ldGhvZCB3YXMgY2FsbGVkLCB0aGVuIHRoZSBvcmlnaW5hbCB2ZXJzaW9uCiAgLy8gaXMgaW52b2tlZCBpbnN0ZWFkLgogIC8vIEZvciBleGFtcGxlOgogIC8vCiAgLy8gdmFyIGEgPSB7CiAgLy8gICBtZXRob2QxOiBmdW5jdGlvbigpIHsgY29uc29sZS5sb2coJ2ExJyk7IH0KICAvLyAgIG1ldGhvZDI6IGZ1bmN0aW9uKCkgeyBjb25zb2xlLmxvZygnYTInKTsgfQogIC8vIH07CiAgLy8gdmFyIGIgPSB7CiAgLy8gICBtZXRob2QxOiBmdW5jdGlvbigpIHsgY29uc29sZS5sb2coJ2IxJyk7IH0KICAvLyB9OwogIC8vIGRlbGVnYXRlTWV0aG9kKGEsIGIsICJtZXRob2QxIik7CiAgLy8gZGVsZWdhdGVNZXRob2QoYSwgYiwgIm1ldGhvZDIiKTsKICAvLyBhLm1ldGhvZDEoKTsKICAvLyBhLm1ldGhvZDIoKTsKICAvLwogIC8vIFRoZSBvdXRwdXQgd291bGQgYmUgImIxIiwgImEyIi4KICBmdW5jdGlvbiBkZWxlZ2F0ZU1ldGhvZChkZWxlZ2F0b3IsIGRlbGVnYXRlZSwgbWV0aG9kTmFtZSkgewogICAgdmFyIGluaGVyaXRlZCA9IGRlbGVnYXRvclttZXRob2ROYW1lXTsKICAgIGRlbGVnYXRvclttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkgewogICAgICB2YXIgdGFyZ2V0ID0gZGVsZWdhdGVlOwogICAgICB2YXIgbWV0aG9kID0gZGVsZWdhdGVlW21ldGhvZE5hbWVdOwoKICAgICAgLy8gVGhlIG1ldGhvZCBkb2Vzbid0IGV4aXN0IG9uIHRoZSBkZWxlZ2F0ZWUuIEluc3RlYWQsCiAgICAgIC8vIGNhbGwgdGhlIG1ldGhvZCBvbiB0aGUgZGVsZWdhdG9yLCBpZiBpdCBleGlzdHMuCiAgICAgIGlmICghbWV0aG9kKSB7CiAgICAgICAgdGFyZ2V0ID0gZGVsZWdhdG9yOwogICAgICAgIG1ldGhvZCA9IGluaGVyaXRlZDsKICAgICAgfQoKICAgICAgaWYgKG1ldGhvZCkgewogICAgICAgIHJldHVybiBtZXRob2QuYXBwbHkodGFyZ2V0LCBhcmd1bWVudHMpOwogICAgICB9CiAgICB9OwogIH0KCiAgLy8gSW1wbGVtZW50IGEgdmFndWUgZmFjc2ltaWxpZSBvZiBqUXVlcnkncyBkYXRhIG1ldGhvZAogIGZ1bmN0aW9uIGVsZW1lbnREYXRhKGVsLCBuYW1lLCB2YWx1ZSkgewogICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT0gMikgewogICAgICByZXR1cm4gZWxbImh0bWx3aWRnZXRfZGF0YV8iICsgbmFtZV07CiAgICB9IGVsc2UgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT0gMykgewogICAgICBlbFsiaHRtbHdpZGdldF9kYXRhXyIgKyBuYW1lXSA9IHZhbHVlOwogICAgICByZXR1cm4gZWw7CiAgICB9IGVsc2UgewogICAgICB0aHJvdyBuZXcgRXJyb3IoIldyb25nIG51bWJlciBvZiBhcmd1bWVudHMgZm9yIGVsZW1lbnREYXRhOiAiICsKICAgICAgICBhcmd1bWVudHMubGVuZ3RoKTsKICAgIH0KICB9CgogIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzQ0NjE3MC9lc2NhcGUtc3RyaW5nLWZvci11c2UtaW4tamF2YXNjcmlwdC1yZWdleAogIGZ1bmN0aW9uIGVzY2FwZVJlZ0V4cChzdHIpIHsKICAgIHJldHVybiBzdHIucmVwbGFjZSgvW1wtXFtcXVwvXHtcfVwoXClcKlwrXD9cLlxcXF5cJFx8XS9nLCAiXFwkJiIpOwogIH0KCiAgZnVuY3Rpb24gaGFzQ2xhc3MoZWwsIGNsYXNzTmFtZSkgewogICAgdmFyIHJlID0gbmV3IFJlZ0V4cCgiXFxiIiArIGVzY2FwZVJlZ0V4cChjbGFzc05hbWUpICsgIlxcYiIpOwogICAgcmV0dXJuIHJlLnRlc3QoZWwuY2xhc3NOYW1lKTsKICB9CgogIC8vIGVsZW1lbnRzIC0gYXJyYXkgKG9yIGFycmF5LWxpa2Ugb2JqZWN0KSBvZiBIVE1MIGVsZW1lbnRzCiAgLy8gY2xhc3NOYW1lIC0gY2xhc3MgbmFtZSB0byB0ZXN0IGZvcgogIC8vIGluY2x1ZGUgLSBpZiB0cnVlLCBvbmx5IHJldHVybiBlbGVtZW50cyB3aXRoIGdpdmVuIGNsYXNzTmFtZTsKICAvLyAgIGlmIGZhbHNlLCBvbmx5IHJldHVybiBlbGVtZW50cyAqd2l0aG91dCogZ2l2ZW4gY2xhc3NOYW1lCiAgZnVuY3Rpb24gZmlsdGVyQnlDbGFzcyhlbGVtZW50cywgY2xhc3NOYW1lLCBpbmNsdWRlKSB7CiAgICB2YXIgcmVzdWx0cyA9IFtdOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkrKykgewogICAgICBpZiAoaGFzQ2xhc3MoZWxlbWVudHNbaV0sIGNsYXNzTmFtZSkgPT0gaW5jbHVkZSkKICAgICAgICByZXN1bHRzLnB1c2goZWxlbWVudHNbaV0pOwogICAgfQogICAgcmV0dXJuIHJlc3VsdHM7CiAgfQoKICBmdW5jdGlvbiBvbihvYmosIGV2ZW50TmFtZSwgZnVuYykgewogICAgaWYgKG9iai5hZGRFdmVudExpc3RlbmVyKSB7CiAgICAgIG9iai5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgZnVuYywgZmFsc2UpOwogICAgfSBlbHNlIGlmIChvYmouYXR0YWNoRXZlbnQpIHsKICAgICAgb2JqLmF0dGFjaEV2ZW50KGV2ZW50TmFtZSwgZnVuYyk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBvZmYob2JqLCBldmVudE5hbWUsIGZ1bmMpIHsKICAgIGlmIChvYmoucmVtb3ZlRXZlbnRMaXN0ZW5lcikKICAgICAgb2JqLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBmdW5jLCBmYWxzZSk7CiAgICBlbHNlIGlmIChvYmouZGV0YWNoRXZlbnQpIHsKICAgICAgb2JqLmRldGFjaEV2ZW50KGV2ZW50TmFtZSwgZnVuYyk7CiAgICB9CiAgfQoKICAvLyBUcmFuc2xhdGUgYXJyYXkgb2YgdmFsdWVzIHRvIHRvcC9yaWdodC9ib3R0b20vbGVmdCwgYXMgdXN1YWwgd2l0aAogIC8vIHRoZSAicGFkZGluZyIgQ1NTIHByb3BlcnR5CiAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL3BhZGRpbmcKICBmdW5jdGlvbiB1bnBhY2tQYWRkaW5nKHZhbHVlKSB7CiAgICBpZiAodHlwZW9mKHZhbHVlKSA9PT0gIm51bWJlciIpCiAgICAgIHZhbHVlID0gW3ZhbHVlXTsKICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDEpIHsKICAgICAgcmV0dXJuIHt0b3A6IHZhbHVlWzBdLCByaWdodDogdmFsdWVbMF0sIGJvdHRvbTogdmFsdWVbMF0sIGxlZnQ6IHZhbHVlWzBdfTsKICAgIH0KICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDIpIHsKICAgICAgcmV0dXJuIHt0b3A6IHZhbHVlWzBdLCByaWdodDogdmFsdWVbMV0sIGJvdHRvbTogdmFsdWVbMF0sIGxlZnQ6IHZhbHVlWzFdfTsKICAgIH0KICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDMpIHsKICAgICAgcmV0dXJuIHt0b3A6IHZhbHVlWzBdLCByaWdodDogdmFsdWVbMV0sIGJvdHRvbTogdmFsdWVbMl0sIGxlZnQ6IHZhbHVlWzFdfTsKICAgIH0KICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDQpIHsKICAgICAgcmV0dXJuIHt0b3A6IHZhbHVlWzBdLCByaWdodDogdmFsdWVbMV0sIGJvdHRvbTogdmFsdWVbMl0sIGxlZnQ6IHZhbHVlWzNdfTsKICAgIH0KICB9CgogIC8vIENvbnZlcnQgYW4gdW5wYWNrZWQgcGFkZGluZyBvYmplY3QgdG8gYSBDU1MgdmFsdWUKICBmdW5jdGlvbiBwYWRkaW5nVG9Dc3MocGFkZGluZ09iaikgewogICAgcmV0dXJuIHBhZGRpbmdPYmoudG9wICsgInB4ICIgKyBwYWRkaW5nT2JqLnJpZ2h0ICsgInB4ICIgKyBwYWRkaW5nT2JqLmJvdHRvbSArICJweCAiICsgcGFkZGluZ09iai5sZWZ0ICsgInB4IjsKICB9CgogIC8vIE1ha2VzIGEgbnVtYmVyIHN1aXRhYmxlIGZvciBDU1MKICBmdW5jdGlvbiBweCh4KSB7CiAgICBpZiAodHlwZW9mKHgpID09PSAibnVtYmVyIikKICAgICAgcmV0dXJuIHggKyAicHgiOwogICAgZWxzZQogICAgICByZXR1cm4geDsKICB9CgogIC8vIFJldHJpZXZlcyBydW50aW1lIHdpZGdldCBzaXppbmcgaW5mb3JtYXRpb24gZm9yIGFuIGVsZW1lbnQuCiAgLy8gVGhlIHJldHVybiB2YWx1ZSBpcyBlaXRoZXIgbnVsbCwgb3IgYW4gb2JqZWN0IHdpdGggZmlsbCwgcGFkZGluZywKICAvLyBkZWZhdWx0V2lkdGgsIGRlZmF1bHRIZWlnaHQgZmllbGRzLgogIGZ1bmN0aW9uIHNpemluZ1BvbGljeShlbCkgewogICAgdmFyIHNpemluZ0VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcigic2NyaXB0W2RhdGEtZm9yPSciICsgZWwuaWQgKyAiJ11bdHlwZT0nYXBwbGljYXRpb24vaHRtbHdpZGdldC1zaXppbmcnXSIpOwogICAgaWYgKCFzaXppbmdFbCkKICAgICAgcmV0dXJuIG51bGw7CiAgICB2YXIgc3AgPSBKU09OLnBhcnNlKHNpemluZ0VsLnRleHRDb250ZW50IHx8IHNpemluZ0VsLnRleHQgfHwgInt9Iik7CiAgICBpZiAodmlld2VyTW9kZSkgewogICAgICByZXR1cm4gc3Audmlld2VyOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIHNwLmJyb3dzZXI7CiAgICB9CiAgfQoKICAvLyBAcGFyYW0gdGFza3MgQXJyYXkgb2Ygc3RyaW5ncyAob3IgZmFsc3kgdmFsdWUsIGluIHdoaWNoIGNhc2Ugbm8tb3ApLgogIC8vICAgRWFjaCBlbGVtZW50IG11c3QgYmUgYSB2YWxpZCBKYXZhU2NyaXB0IGV4cHJlc3Npb24gdGhhdCB5aWVsZHMgYQogIC8vICAgZnVuY3Rpb24uIE9yLCBjYW4gYmUgYW4gYXJyYXkgb2Ygb2JqZWN0cyB3aXRoICJjb2RlIiBhbmQgImRhdGEiCiAgLy8gICBwcm9wZXJ0aWVzOyBpbiB0aGlzIGNhc2UsIHRoZSAiY29kZSIgcHJvcGVydHkgc2hvdWxkIGJlIGEgc3RyaW5nCiAgLy8gICBvZiBKUyB0aGF0J3MgYW4gZXhwciB0aGF0IHlpZWxkcyBhIGZ1bmN0aW9uLCBhbmQgImRhdGEiIHNob3VsZCBiZQogIC8vICAgYW4gb2JqZWN0IHRoYXQgd2lsbCBiZSBhZGRlZCBhcyBhbiBhZGRpdGlvbmFsIGFyZ3VtZW50IHdoZW4gdGhhdAogIC8vICAgZnVuY3Rpb24gaXMgY2FsbGVkLgogIC8vIEBwYXJhbSB0YXJnZXQgVGhlIG9iamVjdCB0aGF0IHdpbGwgYmUgInRoaXMiIGZvciBlYWNoIGZ1bmN0aW9uCiAgLy8gICBleGVjdXRpb24uCiAgLy8gQHBhcmFtIGFyZ3MgQXJyYXkgb2YgYXJndW1lbnRzIHRvIGJlIHBhc3NlZCB0byB0aGUgZnVuY3Rpb25zLiAoVGhlCiAgLy8gICBzYW1lIGFyZ3VtZW50cyB3aWxsIGJlIHBhc3NlZCB0byBhbGwgZnVuY3Rpb25zLikKICBmdW5jdGlvbiBldmFsQW5kUnVuKHRhc2tzLCB0YXJnZXQsIGFyZ3MpIHsKICAgIGlmICh0YXNrcykgewogICAgICBmb3JFYWNoKHRhc2tzLCBmdW5jdGlvbih0YXNrKSB7CiAgICAgICAgdmFyIHRoZXNlQXJncyA9IGFyZ3M7CiAgICAgICAgaWYgKHR5cGVvZih0YXNrKSA9PT0gIm9iamVjdCIpIHsKICAgICAgICAgIHRoZXNlQXJncyA9IHRoZXNlQXJncy5jb25jYXQoW3Rhc2suZGF0YV0pOwogICAgICAgICAgdGFzayA9IHRhc2suY29kZTsKICAgICAgICB9CiAgICAgICAgdmFyIHRhc2tGdW5jID0gZXZhbCgiKCIgKyB0YXNrICsgIikiKTsKICAgICAgICBpZiAodHlwZW9mKHRhc2tGdW5jKSAhPT0gImZ1bmN0aW9uIikgewogICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJUYXNrIG11c3QgYmUgYSBmdW5jdGlvbiEgU291cmNlOlxuIiArIHRhc2spOwogICAgICAgIH0KICAgICAgICB0YXNrRnVuYy5hcHBseSh0YXJnZXQsIHRoZXNlQXJncyk7CiAgICAgIH0pOwogICAgfQogIH0KCiAgZnVuY3Rpb24gaW5pdFNpemluZyhlbCkgewogICAgdmFyIHNpemluZyA9IHNpemluZ1BvbGljeShlbCk7CiAgICBpZiAoIXNpemluZykKICAgICAgcmV0dXJuOwoKICAgIHZhciBjZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaHRtbHdpZGdldF9jb250YWluZXIiKTsKICAgIGlmICghY2VsKQogICAgICByZXR1cm47CgogICAgaWYgKHR5cGVvZihzaXppbmcucGFkZGluZykgIT09ICJ1bmRlZmluZWQiKSB7CiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUubWFyZ2luID0gIjAiOwogICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnBhZGRpbmcgPSBwYWRkaW5nVG9Dc3ModW5wYWNrUGFkZGluZyhzaXppbmcucGFkZGluZykpOwogICAgfQoKICAgIGlmIChzaXppbmcuZmlsbCkgewogICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gImhpZGRlbiI7CiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUud2lkdGggPSAiMTAwJSI7CiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuaGVpZ2h0ID0gIjEwMCUiOwogICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUud2lkdGggPSAiMTAwJSI7CiAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5oZWlnaHQgPSAiMTAwJSI7CiAgICAgIGlmIChjZWwpIHsKICAgICAgICBjZWwuc3R5bGUucG9zaXRpb24gPSAiYWJzb2x1dGUiOwogICAgICAgIHZhciBwYWQgPSB1bnBhY2tQYWRkaW5nKHNpemluZy5wYWRkaW5nKTsKICAgICAgICBjZWwuc3R5bGUudG9wID0gcGFkLnRvcCArICJweCI7CiAgICAgICAgY2VsLnN0eWxlLnJpZ2h0ID0gcGFkLnJpZ2h0ICsgInB4IjsKICAgICAgICBjZWwuc3R5bGUuYm90dG9tID0gcGFkLmJvdHRvbSArICJweCI7CiAgICAgICAgY2VsLnN0eWxlLmxlZnQgPSBwYWQubGVmdCArICJweCI7CiAgICAgICAgZWwuc3R5bGUud2lkdGggPSAiMTAwJSI7CiAgICAgICAgZWwuc3R5bGUuaGVpZ2h0ID0gIjEwMCUiOwogICAgICB9CgogICAgICByZXR1cm4gewogICAgICAgIGdldFdpZHRoOiBmdW5jdGlvbigpIHsgcmV0dXJuIGNlbC5vZmZzZXRXaWR0aDsgfSwKICAgICAgICBnZXRIZWlnaHQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gY2VsLm9mZnNldEhlaWdodDsgfQogICAgICB9OwoKICAgIH0gZWxzZSB7CiAgICAgIGVsLnN0eWxlLndpZHRoID0gcHgoc2l6aW5nLndpZHRoKTsKICAgICAgZWwuc3R5bGUuaGVpZ2h0ID0gcHgoc2l6aW5nLmhlaWdodCk7CgogICAgICByZXR1cm4gewogICAgICAgIGdldFdpZHRoOiBmdW5jdGlvbigpIHsgcmV0dXJuIGVsLm9mZnNldFdpZHRoOyB9LAogICAgICAgIGdldEhlaWdodDogZnVuY3Rpb24oKSB7IHJldHVybiBlbC5vZmZzZXRIZWlnaHQ7IH0KICAgICAgfTsKICAgIH0KICB9CgogIC8vIERlZmF1bHQgaW1wbGVtZW50YXRpb25zIGZvciBtZXRob2RzCiAgdmFyIGRlZmF1bHRzID0gewogICAgZmluZDogZnVuY3Rpb24oc2NvcGUpIHsKICAgICAgcmV0dXJuIHF1ZXJ5U2VsZWN0b3JBbGwoc2NvcGUsICIuIiArIHRoaXMubmFtZSk7CiAgICB9LAogICAgcmVuZGVyRXJyb3I6IGZ1bmN0aW9uKGVsLCBlcnIpIHsKICAgICAgdmFyICRlbCA9ICQoZWwpOwoKICAgICAgdGhpcy5jbGVhckVycm9yKGVsKTsKCiAgICAgIC8vIEFkZCBhbGwgdGhlc2UgZXJyb3IgY2xhc3NlcywgYXMgU2hpbnkgZG9lcwogICAgICB2YXIgZXJyQ2xhc3MgPSAic2hpbnktb3V0cHV0LWVycm9yIjsKICAgICAgaWYgKGVyci50eXBlICE9PSBudWxsKSB7CiAgICAgICAgLy8gdXNlIHRoZSBjbGFzc2VzIG9mIHRoZSBlcnJvciBjb25kaXRpb24gYXMgQ1NTIGNsYXNzIG5hbWVzCiAgICAgICAgZXJyQ2xhc3MgPSBlcnJDbGFzcyArICIgIiArICQubWFwKGFzQXJyYXkoZXJyLnR5cGUpLCBmdW5jdGlvbih0eXBlKSB7CiAgICAgICAgICByZXR1cm4gZXJyQ2xhc3MgKyAiLSIgKyB0eXBlOwogICAgICAgIH0pLmpvaW4oIiAiKTsKICAgICAgfQogICAgICBlcnJDbGFzcyA9IGVyckNsYXNzICsgIiBodG1sd2lkZ2V0cy1lcnJvciI7CgogICAgICAvLyBJcyBlbCBpbmxpbmUgb3IgYmxvY2s/IElmIGlubGluZSBvciBpbmxpbmUtYmxvY2ssIGp1c3QgZGlzcGxheTpub25lIGl0CiAgICAgIC8vIGFuZCBhZGQgYW4gaW5saW5lIGVycm9yLgogICAgICB2YXIgZGlzcGxheSA9ICRlbC5jc3MoImRpc3BsYXkiKTsKICAgICAgJGVsLmRhdGEoInJlc3RvcmUtZGlzcGxheS1tb2RlIiwgZGlzcGxheSk7CgogICAgICBpZiAoZGlzcGxheSA9PT0gImlubGluZSIgfHwgZGlzcGxheSA9PT0gImlubGluZS1ibG9jayIpIHsKICAgICAgICAkZWwuaGlkZSgpOwogICAgICAgIGlmIChlcnIubWVzc2FnZSAhPT0gIiIpIHsKICAgICAgICAgIHZhciBlcnJvclNwYW4gPSAkKCI8c3Bhbj4iKS5hZGRDbGFzcyhlcnJDbGFzcyk7CiAgICAgICAgICBlcnJvclNwYW4udGV4dChlcnIubWVzc2FnZSk7CiAgICAgICAgICAkZWwuYWZ0ZXIoZXJyb3JTcGFuKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAoZGlzcGxheSA9PT0gImJsb2NrIikgewogICAgICAgIC8vIElmIGJsb2NrLCBhZGQgYW4gZXJyb3IganVzdCBhZnRlciB0aGUgZWwsIHNldCB2aXNpYmlsaXR5Om5vbmUgb24gdGhlCiAgICAgICAgLy8gZWwsIGFuZCBwb3NpdGlvbiB0aGUgZXJyb3IgdG8gYmUgb24gdG9wIG9mIHRoZSBlbC4KICAgICAgICAvLyBNYXJrIGl0IHdpdGggYSB1bmlxdWUgSUQgYW5kIENTUyBjbGFzcyBzbyB3ZSBjYW4gcmVtb3ZlIGl0IGxhdGVyLgogICAgICAgICRlbC5jc3MoInZpc2liaWxpdHkiLCAiaGlkZGVuIik7CiAgICAgICAgaWYgKGVyci5tZXNzYWdlICE9PSAiIikgewogICAgICAgICAgdmFyIGVycm9yRGl2ID0gJCgiPGRpdj4iKS5hZGRDbGFzcyhlcnJDbGFzcykuY3NzKCJwb3NpdGlvbiIsICJhYnNvbHV0ZSIpCiAgICAgICAgICAgIC5jc3MoInRvcCIsIGVsLm9mZnNldFRvcCkKICAgICAgICAgICAgLmNzcygibGVmdCIsIGVsLm9mZnNldExlZnQpCiAgICAgICAgICAgIC8vIHNldHRpbmcgd2lkdGggY2FuIHB1c2ggb3V0IHRoZSBwYWdlIHNpemUsIGZvcmNpbmcgb3RoZXJ3aXNlCiAgICAgICAgICAgIC8vIHVubmVjZXNzYXJ5IHNjcm9sbGJhcnMgdG8gYXBwZWFyIGFuZCBtYWtpbmcgaXQgaW1wb3NzaWJsZSBmb3IKICAgICAgICAgICAgLy8gdGhlIGVsZW1lbnQgdG8gc2hyaW5rOyBzbyB1c2UgbWF4LXdpZHRoIGluc3RlYWQKICAgICAgICAgICAgLmNzcygibWF4V2lkdGgiLCBlbC5vZmZzZXRXaWR0aCkKICAgICAgICAgICAgLmNzcygiaGVpZ2h0IiwgZWwub2Zmc2V0SGVpZ2h0KTsKICAgICAgICAgIGVycm9yRGl2LnRleHQoZXJyLm1lc3NhZ2UpOwogICAgICAgICAgJGVsLmFmdGVyKGVycm9yRGl2KTsKCiAgICAgICAgICAvLyBSZWFsbHkgZHVtYiB3YXkgdG8ga2VlcCB0aGUgc2l6ZS9wb3NpdGlvbiBvZiB0aGUgZXJyb3IgaW4gc3luYyB3aXRoCiAgICAgICAgICAvLyB0aGUgcGFyZW50IGVsZW1lbnQgYXMgdGhlIHdpbmRvdyBpcyByZXNpemVkIG9yIHdoYXRldmVyLgogICAgICAgICAgdmFyIGludElkID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIGlmICghZXJyb3JEaXZbMF0ucGFyZW50RWxlbWVudCkgewogICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50SWQpOwogICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICBlcnJvckRpdgogICAgICAgICAgICAgIC5jc3MoInRvcCIsIGVsLm9mZnNldFRvcCkKICAgICAgICAgICAgICAuY3NzKCJsZWZ0IiwgZWwub2Zmc2V0TGVmdCkKICAgICAgICAgICAgICAuY3NzKCJtYXhXaWR0aCIsIGVsLm9mZnNldFdpZHRoKQogICAgICAgICAgICAgIC5jc3MoImhlaWdodCIsIGVsLm9mZnNldEhlaWdodCk7CiAgICAgICAgICB9LCA1MDApOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGNsZWFyRXJyb3I6IGZ1bmN0aW9uKGVsKSB7CiAgICAgIHZhciAkZWwgPSAkKGVsKTsKICAgICAgdmFyIGRpc3BsYXkgPSAkZWwuZGF0YSgicmVzdG9yZS1kaXNwbGF5LW1vZGUiKTsKICAgICAgJGVsLmRhdGEoInJlc3RvcmUtZGlzcGxheS1tb2RlIiwgbnVsbCk7CgogICAgICBpZiAoZGlzcGxheSA9PT0gImlubGluZSIgfHwgZGlzcGxheSA9PT0gImlubGluZS1ibG9jayIpIHsKICAgICAgICBpZiAoZGlzcGxheSkKICAgICAgICAgICRlbC5jc3MoImRpc3BsYXkiLCBkaXNwbGF5KTsKICAgICAgICAkKGVsLm5leHRTaWJsaW5nKS5maWx0ZXIoIi5odG1sd2lkZ2V0cy1lcnJvciIpLnJlbW92ZSgpOwogICAgICB9IGVsc2UgaWYgKGRpc3BsYXkgPT09ICJibG9jayIpewogICAgICAgICRlbC5jc3MoInZpc2liaWxpdHkiLCAiaW5oZXJpdCIpOwogICAgICAgICQoZWwubmV4dFNpYmxpbmcpLmZpbHRlcigiLmh0bWx3aWRnZXRzLWVycm9yIikucmVtb3ZlKCk7CiAgICAgIH0KICAgIH0sCiAgICBzaXppbmc6IHt9CiAgfTsKCiAgLy8gQ2FsbGVkIGJ5IHdpZGdldCBiaW5kaW5ncyB0byByZWdpc3RlciBhIG5ldyB0eXBlIG9mIHdpZGdldC4gVGhlIGRlZmluaXRpb24KICAvLyBvYmplY3QgY2FuIGNvbnRhaW4gdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOgogIC8vIC0gbmFtZSAocmVxdWlyZWQpIC0gQSBzdHJpbmcgaW5kaWNhdGluZyB0aGUgYmluZGluZyBuYW1lLCB3aGljaCB3aWxsIGJlCiAgLy8gICB1c2VkIGJ5IGRlZmF1bHQgYXMgdGhlIENTUyBjbGFzc25hbWUgdG8gbG9vayBmb3IuCiAgLy8gLSBpbml0aWFsaXplIChvcHRpb25hbCkgLSBBIGZ1bmN0aW9uKGVsKSB0aGF0IHdpbGwgYmUgY2FsbGVkIG9uY2UgcGVyCiAgLy8gICB3aWRnZXQgZWxlbWVudDsgaWYgYSB2YWx1ZSBpcyByZXR1cm5lZCwgaXQgd2lsbCBiZSBwYXNzZWQgYXMgdGhlIHRoaXJkCiAgLy8gICB2YWx1ZSB0byByZW5kZXJWYWx1ZS4KICAvLyAtIHJlbmRlclZhbHVlIChyZXF1aXJlZCkgLSBBIGZ1bmN0aW9uKGVsLCBkYXRhLCBpbml0VmFsdWUpIHRoYXQgd2lsbCBiZQogIC8vICAgY2FsbGVkIHdpdGggZGF0YS4gU3RhdGljIGNvbnRleHRzIHdpbGwgY2F1c2UgdGhpcyB0byBiZSBjYWxsZWQgb25jZSBwZXIKICAvLyAgIGVsZW1lbnQ7IFNoaW55IGFwcHMgd2lsbCBjYXVzZSB0aGlzIHRvIGJlIGNhbGxlZCBtdWx0aXBsZSB0aW1lcyBwZXIKICAvLyAgIGVsZW1lbnQsIGFzIHRoZSBkYXRhIGNoYW5nZXMuCiAgd2luZG93LkhUTUxXaWRnZXRzLndpZGdldCA9IGZ1bmN0aW9uKGRlZmluaXRpb24pIHsKICAgIGlmICghZGVmaW5pdGlvbi5uYW1lKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcigiV2lkZ2V0IG11c3QgaGF2ZSBhIG5hbWUiKTsKICAgIH0KICAgIGlmICghZGVmaW5pdGlvbi50eXBlKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcigiV2lkZ2V0IG11c3QgaGF2ZSBhIHR5cGUiKTsKICAgIH0KICAgIC8vIEN1cnJlbnRseSB3ZSBvbmx5IHN1cHBvcnQgb3V0cHV0IHdpZGdldHMKICAgIGlmIChkZWZpbml0aW9uLnR5cGUgIT09ICJvdXRwdXQiKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcigiVW5yZWNvZ25pemVkIHdpZGdldCB0eXBlICciICsgZGVmaW5pdGlvbi50eXBlICsgIiciKTsKICAgIH0KICAgIC8vIFRPRE86IFZlcmlmeSB0aGF0IC5uYW1lIGlzIGEgdmFsaWQgQ1NTIGNsYXNzbmFtZQoKICAgIC8vIFN1cHBvcnQgbmV3LXN0eWxlIGluc3RhbmNlLWJvdW5kIGRlZmluaXRpb25zLiBPbGQtc3R5bGUgY2xhc3MtYm91bmQKICAgIC8vIGRlZmluaXRpb25zIGhhdmUgb25lIHdpZGdldCAib2JqZWN0IiBwZXIgd2lkZ2V0IHBlciB0eXBlL2NsYXNzIG9mCiAgICAvLyB3aWRnZXQ7IHRoZSByZW5kZXJWYWx1ZSBhbmQgcmVzaXplIG1ldGhvZHMgb24gc3VjaCB3aWRnZXQgb2JqZWN0cwogICAgLy8gdGFrZSBlbCBhbmQgaW5zdGFuY2UgYXJndW1lbnRzLCBiZWNhdXNlIHRoZSB3aWRnZXQgb2JqZWN0IGNhbid0CiAgICAvLyBzdG9yZSB0aGVtLiBOZXctc3R5bGUgaW5zdGFuY2UtYm91bmQgZGVmaW5pdGlvbnMgaGF2ZSBvbmUgd2lkZ2V0CiAgICAvLyBvYmplY3QgcGVyIHdpZGdldCBpbnN0YW5jZTsgdGhlIGRlZmluaXRpb24gdGhhdCdzIHBhc3NlZCBpbiBkb2Vzbid0CiAgICAvLyBwcm92aWRlIHJlbmRlclZhbHVlIG9yIHJlc2l6ZSBtZXRob2RzIGF0IGFsbCwganVzdCB0aGUgc2luZ2xlIG1ldGhvZAogICAgLy8gICBmYWN0b3J5KGVsLCB3aWR0aCwgaGVpZ2h0KQogICAgLy8gd2hpY2ggcmV0dXJucyBhbiBvYmplY3QgdGhhdCBoYXMgcmVuZGVyVmFsdWUoeCkgYW5kIHJlc2l6ZSh3LCBoKS4KICAgIC8vIFRoaXMgZW5hYmxlcyBhIGZhciBtb3JlIG5hdHVyYWwgcHJvZ3JhbW1pbmcgc3R5bGUgZm9yIHRoZSB3aWRnZXQKICAgIC8vIGF1dGhvciwgd2hvIGNhbiBzdG9yZSBwZXItaW5zdGFuY2Ugc3RhdGUgdXNpbmcgZWl0aGVyIE9PLXN0eWxlCiAgICAvLyBpbnN0YW5jZSBmaWVsZHMgb3IgZnVuY3Rpb25hbC1zdHlsZSBjbG9zdXJlIHZhcmlhYmxlcyAoSSBndWVzcyB0aGlzCiAgICAvLyBpcyBpbiBjb250cmFzdCB0byB3aGF0IGNhbiBvbmx5IGJlIGNhbGxlZCBDLXN0eWxlIHBzZXVkby1PTyB3aGljaCBpcwogICAgLy8gd2hhdCB3ZSByZXF1aXJlZCBiZWZvcmUpLgogICAgaWYgKGRlZmluaXRpb24uZmFjdG9yeSkgewogICAgICBkZWZpbml0aW9uID0gY3JlYXRlTGVnYWN5RGVmaW5pdGlvbkFkYXB0ZXIoZGVmaW5pdGlvbik7CiAgICB9CgogICAgaWYgKCFkZWZpbml0aW9uLnJlbmRlclZhbHVlKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcigiV2lkZ2V0IG11c3QgaGF2ZSBhIHJlbmRlclZhbHVlIGZ1bmN0aW9uIik7CiAgICB9CgogICAgLy8gRm9yIHN0YXRpYyByZW5kZXJpbmcgKG5vbi1TaGlueSksIHVzZSBhIHNpbXBsZSB3aWRnZXQgcmVnaXN0cmF0aW9uCiAgICAvLyBzY2hlbWUuIFdlIGFsc28gdXNlIHRoaXMgc2NoZW1lIGZvciBTaGlueSBhcHBzL2RvY3VtZW50cyB0aGF0IGFsc28KICAgIC8vIGNvbnRhaW4gc3RhdGljIHdpZGdldHMuCiAgICB3aW5kb3cuSFRNTFdpZGdldHMud2lkZ2V0cyA9IHdpbmRvdy5IVE1MV2lkZ2V0cy53aWRnZXRzIHx8IFtdOwogICAgLy8gTWVyZ2UgZGVmYXVsdHMgaW50byB0aGUgZGVmaW5pdGlvbjsgZG9uJ3QgbXV0YXRlIHRoZSBvcmlnaW5hbCBkZWZpbml0aW9uLgogICAgdmFyIHN0YXRpY0JpbmRpbmcgPSBleHRlbmQoe30sIGRlZmF1bHRzLCBkZWZpbml0aW9uKTsKICAgIG92ZXJyaWRlTWV0aG9kKHN0YXRpY0JpbmRpbmcsICJmaW5kIiwgZnVuY3Rpb24oc3VwZXJmdW5jKSB7CiAgICAgIHJldHVybiBmdW5jdGlvbihzY29wZSkgewogICAgICAgIHZhciByZXN1bHRzID0gc3VwZXJmdW5jKHNjb3BlKTsKICAgICAgICAvLyBGaWx0ZXIgb3V0IFNoaW55IG91dHB1dHMsIHdlIG9ubHkgd2FudCB0aGUgc3RhdGljIGtpbmQKICAgICAgICByZXR1cm4gZmlsdGVyQnlDbGFzcyhyZXN1bHRzLCAiaHRtbC13aWRnZXQtb3V0cHV0IiwgZmFsc2UpOwogICAgICB9OwogICAgfSk7CiAgICB3aW5kb3cuSFRNTFdpZGdldHMud2lkZ2V0cy5wdXNoKHN0YXRpY0JpbmRpbmcpOwoKICAgIGlmIChzaGlueU1vZGUpIHsKICAgICAgLy8gU2hpbnkgaXMgcnVubmluZy4gUmVnaXN0ZXIgdGhlIGRlZmluaXRpb24gd2l0aCBhbiBvdXRwdXQgYmluZGluZy4KICAgICAgLy8gVGhlIGRlZmluaXRpb24gaXRzZWxmIHdpbGwgbm90IGJlIHRoZSBvdXRwdXQgYmluZGluZywgaW5zdGVhZAogICAgICAvLyB3ZSB3aWxsIG1ha2UgYW4gb3V0cHV0IGJpbmRpbmcgb2JqZWN0IHRoYXQgZGVsZWdhdGVzIHRvIHRoZQogICAgICAvLyBkZWZpbml0aW9uLiBUaGlzIGlzIGJlY2F1c2Ugd2UgZm9vbGlzaGx5IHVzZWQgdGhlIHNhbWUgbWV0aG9kCiAgICAgIC8vIG5hbWUgKHJlbmRlclZhbHVlKSBmb3IgaHRtbHdpZGdldHMgZGVmaW5pdGlvbiBhbmQgU2hpbnkgYmluZGluZ3MKICAgICAgLy8gYnV0IHRoZXkgYWN0dWFsbHkgaGF2ZSBxdWl0ZSBkaWZmZXJlbnQgc2VtYW50aWNzICh0aGUgU2hpbnkKICAgICAgLy8gYmluZGluZ3MgcmVjZWl2ZSBkYXRhIHRoYXQgaW5jbHVkZXMgbG90cyBvZiBtZXRhZGF0YSB0aGF0IGl0CiAgICAgIC8vIHN0cmlwcyBvZmYgYmVmb3JlIGNhbGxpbmcgaHRtbHdpZGdldHMgcmVuZGVyVmFsdWUpLiBXZSBjYW4ndAogICAgICAvLyBqdXN0IGlnbm9yZSB0aGUgZGlmZmVyZW5jZSBiZWNhdXNlIGluIHNvbWUgd2lkZ2V0cyBpdCdzIGhlbHBmdWwKICAgICAgLy8gdG8gY2FsbCB0aGlzLnJlbmRlclZhbHVlKCkgZnJvbSBpbnNpZGUgb2YgcmVzaXplKCksIGFuZCBpZgogICAgICAvLyB3ZSdyZSBub3QgZGVsZWdhdGluZywgdGhlbiB0aGF0IGNhbGwgd2lsbCBnbyB0byB0aGUgU2hpbnkKICAgICAgLy8gdmVyc2lvbiBpbnN0ZWFkIG9mIHRoZSBodG1sd2lkZ2V0cyB2ZXJzaW9uLgoKICAgICAgLy8gTWVyZ2UgZGVmYXVsdHMgd2l0aCBkZWZpbml0aW9uLCB3aXRob3V0IG11dGF0aW5nIGVpdGhlci4KICAgICAgdmFyIGJpbmRpbmdEZWYgPSBleHRlbmQoe30sIGRlZmF1bHRzLCBkZWZpbml0aW9uKTsKCiAgICAgIC8vIFRoaXMgb2JqZWN0IHdpbGwgYmUgb3VyIGFjdHVhbCBTaGlueSBiaW5kaW5nLgogICAgICB2YXIgc2hpbnlCaW5kaW5nID0gbmV3IFNoaW55Lk91dHB1dEJpbmRpbmcoKTsKCiAgICAgIC8vIFdpdGggYSBmZXcgZXhjZXB0aW9ucywgd2UnbGwgd2FudCB0byBzaW1wbHkgdXNlIHRoZSBiaW5kaW5nRGVmJ3MKICAgICAgLy8gdmVyc2lvbiBvZiBtZXRob2RzIGlmIHRoZXkgYXJlIGF2YWlsYWJsZSwgb3RoZXJ3aXNlIGZhbGwgYmFjayB0bwogICAgICAvLyBTaGlueSdzIGRlZmF1bHRzLiBOT1RFOiBJZiBTaGlueSdzIG91dHB1dCBiaW5kaW5ncyBnYWluIGFkZGl0aW9uYWwKICAgICAgLy8gbWV0aG9kcyBpbiB0aGUgZnV0dXJlLCBhbmQgd2Ugd2FudCB0aGVtIHRvIGJlIG92ZXJyaWRlYWJsZSBieQogICAgICAvLyBIVE1MV2lkZ2V0IGJpbmRpbmcgZGVmaW5pdGlvbnMsIHRoZW4gd2UnbGwgbmVlZCB0byBhZGQgdGhlbSB0byB0aGlzCiAgICAgIC8vIGxpc3QuCiAgICAgIGRlbGVnYXRlTWV0aG9kKHNoaW55QmluZGluZywgYmluZGluZ0RlZiwgImdldElkIik7CiAgICAgIGRlbGVnYXRlTWV0aG9kKHNoaW55QmluZGluZywgYmluZGluZ0RlZiwgIm9uVmFsdWVDaGFuZ2UiKTsKICAgICAgZGVsZWdhdGVNZXRob2Qoc2hpbnlCaW5kaW5nLCBiaW5kaW5nRGVmLCAib25WYWx1ZUVycm9yIik7CiAgICAgIGRlbGVnYXRlTWV0aG9kKHNoaW55QmluZGluZywgYmluZGluZ0RlZiwgInJlbmRlckVycm9yIik7CiAgICAgIGRlbGVnYXRlTWV0aG9kKHNoaW55QmluZGluZywgYmluZGluZ0RlZiwgImNsZWFyRXJyb3IiKTsKICAgICAgZGVsZWdhdGVNZXRob2Qoc2hpbnlCaW5kaW5nLCBiaW5kaW5nRGVmLCAic2hvd1Byb2dyZXNzIik7CgogICAgICAvLyBUaGUgZmluZCwgcmVuZGVyVmFsdWUsIGFuZCByZXNpemUgYXJlIGhhbmRsZWQgZGlmZmVyZW50bHksIGJlY2F1c2Ugd2UKICAgICAgLy8gd2FudCB0byBhY3R1YWxseSBkZWNvcmF0ZSB0aGUgYmVoYXZpb3Igb2YgdGhlIGJpbmRpbmdEZWYgbWV0aG9kcy4KCiAgICAgIHNoaW55QmluZGluZy5maW5kID0gZnVuY3Rpb24oc2NvcGUpIHsKICAgICAgICB2YXIgcmVzdWx0cyA9IGJpbmRpbmdEZWYuZmluZChzY29wZSk7CgogICAgICAgIC8vIE9ubHkgcmV0dXJuIGVsZW1lbnRzIHRoYXQgYXJlIFNoaW55IG91dHB1dHMsIG5vdCBzdGF0aWMgb25lcwogICAgICAgIHZhciBkeW5hbWljUmVzdWx0cyA9IHJlc3VsdHMuZmlsdGVyKCIuaHRtbC13aWRnZXQtb3V0cHV0Iik7CgogICAgICAgIC8vIEl0J3MgcG9zc2libGUgdGhhdCB3aGF0ZXZlciBjYXVzZWQgU2hpbnkgdG8gdGhpbmsgdGhlcmUgbWlnaHQgYmUKICAgICAgICAvLyBuZXcgZHluYW1pYyBvdXRwdXRzLCBhbHNvIGNhdXNlZCB0aGVyZSB0byBiZSBuZXcgc3RhdGljIG91dHB1dHMuCiAgICAgICAgLy8gU2luY2UgdGhlcmUgbWlnaHQgYmUgbG90cyBvZiBkaWZmZXJlbnQgaHRtbHdpZGdldHMgYmluZGluZ3MsIHdlCiAgICAgICAgLy8gc2NoZWR1bGUgZXhlY3V0aW9uIGZvciBsYXRlci0tbm8gbmVlZCB0byBzdGF0aWNSZW5kZXIgbXVsdGlwbGUKICAgICAgICAvLyB0aW1lcy4KICAgICAgICBpZiAocmVzdWx0cy5sZW5ndGggIT09IGR5bmFtaWNSZXN1bHRzLmxlbmd0aCkKICAgICAgICAgIHNjaGVkdWxlU3RhdGljUmVuZGVyKCk7CgogICAgICAgIHJldHVybiBkeW5hbWljUmVzdWx0czsKICAgICAgfTsKCiAgICAgIC8vIFdyYXAgcmVuZGVyVmFsdWUgdG8gaGFuZGxlIGluaXRpYWxpemF0aW9uLCB3aGljaCB1bmZvcnR1bmF0ZWx5IGlzbid0CiAgICAgIC8vIHN1cHBvcnRlZCBuYXRpdmVseSBieSBTaGlueSBhdCB0aGUgdGltZSBvZiB0aGlzIHdyaXRpbmcuCgogICAgICBzaGlueUJpbmRpbmcucmVuZGVyVmFsdWUgPSBmdW5jdGlvbihlbCwgZGF0YSkgewogICAgICAgIFNoaW55LnJlbmRlckRlcGVuZGVuY2llcyhkYXRhLmRlcHMpOwogICAgICAgIC8vIFJlc29sdmUgc3RyaW5ncyBtYXJrZWQgYXMgamF2YXNjcmlwdCBsaXRlcmFscyB0byBvYmplY3RzCiAgICAgICAgaWYgKCEoZGF0YS5ldmFscyBpbnN0YW5jZW9mIEFycmF5KSkgZGF0YS5ldmFscyA9IFtkYXRhLmV2YWxzXTsKICAgICAgICBmb3IgKHZhciBpID0gMDsgZGF0YS5ldmFscyAmJiBpIDwgZGF0YS5ldmFscy5sZW5ndGg7IGkrKykgewogICAgICAgICAgd2luZG93LkhUTUxXaWRnZXRzLmV2YWx1YXRlU3RyaW5nTWVtYmVyKGRhdGEueCwgZGF0YS5ldmFsc1tpXSk7CiAgICAgICAgfQogICAgICAgIGlmICghYmluZGluZ0RlZi5yZW5kZXJPbk51bGxWYWx1ZSkgewogICAgICAgICAgaWYgKGRhdGEueCA9PT0gbnVsbCkgewogICAgICAgICAgICBlbC5zdHlsZS52aXNpYmlsaXR5ID0gImhpZGRlbiI7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGVsLnN0eWxlLnZpc2liaWxpdHkgPSAiaW5oZXJpdCI7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGlmICghZWxlbWVudERhdGEoZWwsICJpbml0aWFsaXplZCIpKSB7CiAgICAgICAgICBpbml0U2l6aW5nKGVsKTsKCiAgICAgICAgICBlbGVtZW50RGF0YShlbCwgImluaXRpYWxpemVkIiwgdHJ1ZSk7CiAgICAgICAgICBpZiAoYmluZGluZ0RlZi5pbml0aWFsaXplKSB7CiAgICAgICAgICAgIHZhciByZXN1bHQgPSBiaW5kaW5nRGVmLmluaXRpYWxpemUoZWwsIGVsLm9mZnNldFdpZHRoLAogICAgICAgICAgICAgIGVsLm9mZnNldEhlaWdodCk7CiAgICAgICAgICAgIGVsZW1lbnREYXRhKGVsLCAiaW5pdF9yZXN1bHQiLCByZXN1bHQpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBiaW5kaW5nRGVmLnJlbmRlclZhbHVlKGVsLCBkYXRhLngsIGVsZW1lbnREYXRhKGVsLCAiaW5pdF9yZXN1bHQiKSk7CiAgICAgICAgZXZhbEFuZFJ1bihkYXRhLmpzSG9va3MucmVuZGVyLCBlbGVtZW50RGF0YShlbCwgImluaXRfcmVzdWx0IiksIFtlbCwgZGF0YS54XSk7CiAgICAgIH07CgogICAgICAvLyBPbmx5IG92ZXJyaWRlIHJlc2l6ZSBpZiBiaW5kaW5nRGVmIGltcGxlbWVudHMgaXQKICAgICAgaWYgKGJpbmRpbmdEZWYucmVzaXplKSB7CiAgICAgICAgc2hpbnlCaW5kaW5nLnJlc2l6ZSA9IGZ1bmN0aW9uKGVsLCB3aWR0aCwgaGVpZ2h0KSB7CiAgICAgICAgICAvLyBTaGlueSBjYW4gY2FsbCByZXNpemUgYmVmb3JlIGluaXRpYWxpemUvcmVuZGVyVmFsdWUgaGF2ZSBiZWVuCiAgICAgICAgICAvLyBjYWxsZWQsIHdoaWNoIGRvZXNuJ3QgbWFrZSBzZW5zZSBmb3Igd2lkZ2V0cy4KICAgICAgICAgIGlmIChlbGVtZW50RGF0YShlbCwgImluaXRpYWxpemVkIikpIHsKICAgICAgICAgICAgYmluZGluZ0RlZi5yZXNpemUoZWwsIHdpZHRoLCBoZWlnaHQsIGVsZW1lbnREYXRhKGVsLCAiaW5pdF9yZXN1bHQiKSk7CiAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgfQoKICAgICAgU2hpbnkub3V0cHV0QmluZGluZ3MucmVnaXN0ZXIoc2hpbnlCaW5kaW5nLCBiaW5kaW5nRGVmLm5hbWUpOwogICAgfQogIH07CgogIHZhciBzY2hlZHVsZVN0YXRpY1JlbmRlclRpbWVySWQgPSBudWxsOwogIGZ1bmN0aW9uIHNjaGVkdWxlU3RhdGljUmVuZGVyKCkgewogICAgaWYgKCFzY2hlZHVsZVN0YXRpY1JlbmRlclRpbWVySWQpIHsKICAgICAgc2NoZWR1bGVTdGF0aWNSZW5kZXJUaW1lcklkID0gc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICBzY2hlZHVsZVN0YXRpY1JlbmRlclRpbWVySWQgPSBudWxsOwogICAgICAgIHdpbmRvdy5IVE1MV2lkZ2V0cy5zdGF0aWNSZW5kZXIoKTsKICAgICAgfSwgMSk7CiAgICB9CiAgfQoKICAvLyBSZW5kZXIgc3RhdGljIHdpZGdldHMgYWZ0ZXIgdGhlIGRvY3VtZW50IGZpbmlzaGVzIGxvYWRpbmcKICAvLyBTdGF0aWNhbGx5IHJlbmRlciBhbGwgZWxlbWVudHMgdGhhdCBhcmUgb2YgdGhpcyB3aWRnZXQncyBjbGFzcwogIHdpbmRvdy5IVE1MV2lkZ2V0cy5zdGF0aWNSZW5kZXIgPSBmdW5jdGlvbigpIHsKICAgIHZhciBiaW5kaW5ncyA9IHdpbmRvdy5IVE1MV2lkZ2V0cy53aWRnZXRzIHx8IFtdOwogICAgZm9yRWFjaChiaW5kaW5ncywgZnVuY3Rpb24oYmluZGluZykgewogICAgICB2YXIgbWF0Y2hlcyA9IGJpbmRpbmcuZmluZChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpOwogICAgICBmb3JFYWNoKG1hdGNoZXMsIGZ1bmN0aW9uKGVsKSB7CiAgICAgICAgdmFyIHNpemVPYmogPSBpbml0U2l6aW5nKGVsLCBiaW5kaW5nKTsKCiAgICAgICAgaWYgKGhhc0NsYXNzKGVsLCAiaHRtbC13aWRnZXQtc3RhdGljLWJvdW5kIikpCiAgICAgICAgICByZXR1cm47CiAgICAgICAgZWwuY2xhc3NOYW1lID0gZWwuY2xhc3NOYW1lICsgIiBodG1sLXdpZGdldC1zdGF0aWMtYm91bmQiOwoKICAgICAgICB2YXIgaW5pdFJlc3VsdDsKICAgICAgICBpZiAoYmluZGluZy5pbml0aWFsaXplKSB7CiAgICAgICAgICBpbml0UmVzdWx0ID0gYmluZGluZy5pbml0aWFsaXplKGVsLAogICAgICAgICAgICBzaXplT2JqID8gc2l6ZU9iai5nZXRXaWR0aCgpIDogZWwub2Zmc2V0V2lkdGgsCiAgICAgICAgICAgIHNpemVPYmogPyBzaXplT2JqLmdldEhlaWdodCgpIDogZWwub2Zmc2V0SGVpZ2h0CiAgICAgICAgICApOwogICAgICAgICAgZWxlbWVudERhdGEoZWwsICJpbml0X3Jlc3VsdCIsIGluaXRSZXN1bHQpOwogICAgICAgIH0KCiAgICAgICAgaWYgKGJpbmRpbmcucmVzaXplKSB7CiAgICAgICAgICB2YXIgbGFzdFNpemUgPSB7fTsKICAgICAgICAgIHZhciByZXNpemVIYW5kbGVyID0gZnVuY3Rpb24oZSkgewogICAgICAgICAgICB2YXIgc2l6ZSA9IHsKICAgICAgICAgICAgICB3OiBzaXplT2JqID8gc2l6ZU9iai5nZXRXaWR0aCgpIDogZWwub2Zmc2V0V2lkdGgsCiAgICAgICAgICAgICAgaDogc2l6ZU9iaiA/IHNpemVPYmouZ2V0SGVpZ2h0KCkgOiBlbC5vZmZzZXRIZWlnaHQKICAgICAgICAgICAgfTsKICAgICAgICAgICAgaWYgKHNpemUudyA9PT0gMCAmJiBzaXplLmggPT09IDApCiAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICBpZiAoc2l6ZS53ID09PSBsYXN0U2l6ZS53ICYmIHNpemUuaCA9PT0gbGFzdFNpemUuaCkKICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIGxhc3RTaXplID0gc2l6ZTsKICAgICAgICAgICAgYmluZGluZy5yZXNpemUoZWwsIHNpemUudywgc2l6ZS5oLCBpbml0UmVzdWx0KTsKICAgICAgICAgIH07CgogICAgICAgICAgb24od2luZG93LCAicmVzaXplIiwgcmVzaXplSGFuZGxlcik7CgogICAgICAgICAgLy8gVGhpcyBpcyBuZWVkZWQgZm9yIGNhc2VzIHdoZXJlIHdlJ3JlIHJ1bm5pbmcgaW4gYSBTaGlueQogICAgICAgICAgLy8gYXBwLCBidXQgdGhlIHdpZGdldCBpdHNlbGYgaXMgbm90IGEgU2hpbnkgb3V0cHV0LCBidXQKICAgICAgICAgIC8vIHJhdGhlciBhIHNpbXBsZSBzdGF0aWMgd2lkZ2V0LiBPbmUgZXhhbXBsZSBvZiB0aGlzIGlzCiAgICAgICAgICAvLyBhbiBybWFya2Rvd24gZG9jdW1lbnQgdGhhdCBoYXMgcnVudGltZTpzaGlueSBhbmQgd2lkZ2V0CiAgICAgICAgICAvLyB0aGF0IGlzbid0IGluIGEgcmVuZGVyIGZ1bmN0aW9uLiBTaGlueSBvbmx5IGtub3dzIHRvCiAgICAgICAgICAvLyBjYWxsIHJlc2l6ZSBoYW5kbGVycyBmb3IgU2hpbnkgb3V0cHV0cywgbm90IGZvciBzdGF0aWMKICAgICAgICAgIC8vIHdpZGdldHMsIHNvIHdlIGRvIGl0IG91cnNlbHZlcy4KICAgICAgICAgIGlmICh3aW5kb3cualF1ZXJ5KSB7CiAgICAgICAgICAgIHdpbmRvdy5qUXVlcnkoZG9jdW1lbnQpLm9uKAogICAgICAgICAgICAgICJzaG93bi5odG1sd2lkZ2V0cyBzaG93bi5icy50YWIuaHRtbHdpZGdldHMgc2hvd24uYnMuY29sbGFwc2UuaHRtbHdpZGdldHMiLAogICAgICAgICAgICAgIHJlc2l6ZUhhbmRsZXIKICAgICAgICAgICAgKTsKICAgICAgICAgICAgd2luZG93LmpRdWVyeShkb2N1bWVudCkub24oCiAgICAgICAgICAgICAgImhpZGRlbi5odG1sd2lkZ2V0cyBoaWRkZW4uYnMudGFiLmh0bWx3aWRnZXRzIGhpZGRlbi5icy5jb2xsYXBzZS5odG1sd2lkZ2V0cyIsCiAgICAgICAgICAgICAgcmVzaXplSGFuZGxlcgogICAgICAgICAgICApOwogICAgICAgICAgfQoKICAgICAgICAgIC8vIFRoaXMgaXMgbmVlZGVkIGZvciB0aGUgc3BlY2lmaWMgY2FzZSBvZiBpb3NsaWRlcywgd2hpY2gKICAgICAgICAgIC8vIGZsaXBzIHNsaWRlcyBiZXR3ZWVuIGRpc3BsYXk6bm9uZSBhbmQgZGlzcGxheTpibG9jay4KICAgICAgICAgIC8vIElkZWFsbHkgd2Ugd291bGQgbm90IGhhdmUgdG8gaGF2ZSBpb3NsaWRlLXNwZWNpZmljIGNvZGUKICAgICAgICAgIC8vIGhlcmUsIGJ1dCByYXRoZXIgaGF2ZSBpb3NsaWRlcyByYWlzZSBhIGdlbmVyaWMgZXZlbnQsCiAgICAgICAgICAvLyBidXQgdGhlIHJtYXJrZG93biBwYWNrYWdlIGp1c3Qgd2VudCB0byBDUkFOIHNvIHRoZQogICAgICAgICAgLy8gd2luZG93IHRvIGdldHRpbmcgdGhhdCBmaXhlZCBtYXkgYmUgbG9uZy4KICAgICAgICAgIGlmICh3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcikgewogICAgICAgICAgICAvLyBJdCdzIE9LIHRvIGxpbWl0IHRoaXMgdG8gd2luZG93LmFkZEV2ZW50TGlzdGVuZXIKICAgICAgICAgICAgLy8gYnJvd3NlcnMgYmVjYXVzZSBpb3NsaWRlcyBpdHNlbGYgb25seSBzdXBwb3J0cwogICAgICAgICAgICAvLyBzdWNoIGJyb3dzZXJzLgogICAgICAgICAgICBvbihkb2N1bWVudCwgInNsaWRlZW50ZXIiLCByZXNpemVIYW5kbGVyKTsKICAgICAgICAgICAgb24oZG9jdW1lbnQsICJzbGlkZWxlYXZlIiwgcmVzaXplSGFuZGxlcik7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICB2YXIgc2NyaXB0RGF0YSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoInNjcmlwdFtkYXRhLWZvcj0nIiArIGVsLmlkICsgIiddW3R5cGU9J2FwcGxpY2F0aW9uL2pzb24nXSIpOwogICAgICAgIGlmIChzY3JpcHREYXRhKSB7CiAgICAgICAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2Uoc2NyaXB0RGF0YS50ZXh0Q29udGVudCB8fCBzY3JpcHREYXRhLnRleHQpOwogICAgICAgICAgLy8gUmVzb2x2ZSBzdHJpbmdzIG1hcmtlZCBhcyBqYXZhc2NyaXB0IGxpdGVyYWxzIHRvIG9iamVjdHMKICAgICAgICAgIGlmICghKGRhdGEuZXZhbHMgaW5zdGFuY2VvZiBBcnJheSkpIGRhdGEuZXZhbHMgPSBbZGF0YS5ldmFsc107CiAgICAgICAgICBmb3IgKHZhciBrID0gMDsgZGF0YS5ldmFscyAmJiBrIDwgZGF0YS5ldmFscy5sZW5ndGg7IGsrKykgewogICAgICAgICAgICB3aW5kb3cuSFRNTFdpZGdldHMuZXZhbHVhdGVTdHJpbmdNZW1iZXIoZGF0YS54LCBkYXRhLmV2YWxzW2tdKTsKICAgICAgICAgIH0KICAgICAgICAgIGJpbmRpbmcucmVuZGVyVmFsdWUoZWwsIGRhdGEueCwgaW5pdFJlc3VsdCk7CiAgICAgICAgICBldmFsQW5kUnVuKGRhdGEuanNIb29rcy5yZW5kZXIsIGluaXRSZXN1bHQsIFtlbCwgZGF0YS54XSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0pOwoKICAgIGludm9rZVBvc3RSZW5kZXJIYW5kbGVycygpOwogIH0KCiAgLy8gV2FpdCB1bnRpbCBhZnRlciB0aGUgZG9jdW1lbnQgaGFzIGxvYWRlZCB0byByZW5kZXIgdGhlIHdpZGdldHMuCiAgaWYgKGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIpIHsKICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLCBmdW5jdGlvbigpIHsKICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsIGFyZ3VtZW50cy5jYWxsZWUsIGZhbHNlKTsKICAgICAgd2luZG93LkhUTUxXaWRnZXRzLnN0YXRpY1JlbmRlcigpOwogICAgfSwgZmFsc2UpOwogIH0gZWxzZSBpZiAoZG9jdW1lbnQuYXR0YWNoRXZlbnQpIHsKICAgIGRvY3VtZW50LmF0dGFjaEV2ZW50KCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCBmdW5jdGlvbigpIHsKICAgICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICJjb21wbGV0ZSIpIHsKICAgICAgICBkb2N1bWVudC5kZXRhY2hFdmVudCgib25yZWFkeXN0YXRlY2hhbmdlIiwgYXJndW1lbnRzLmNhbGxlZSk7CiAgICAgICAgd2luZG93LkhUTUxXaWRnZXRzLnN0YXRpY1JlbmRlcigpOwogICAgICB9CiAgICB9KTsKICB9CgoKICB3aW5kb3cuSFRNTFdpZGdldHMuZ2V0QXR0YWNobWVudFVybCA9IGZ1bmN0aW9uKGRlcG5hbWUsIGtleSkgewogICAgLy8gSWYgbm8ga2V5LCBkZWZhdWx0IHRvIHRoZSBmaXJzdCBpdGVtCiAgICBpZiAodHlwZW9mKGtleSkgPT09ICJ1bmRlZmluZWQiKQogICAgICBrZXkgPSAxOwoKICAgIHZhciBsaW5rID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZGVwbmFtZSArICItIiArIGtleSArICItYXR0YWNobWVudCIpOwogICAgaWYgKCFsaW5rKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcigiQXR0YWNobWVudCAiICsgZGVwbmFtZSArICIvIiArIGtleSArICIgbm90IGZvdW5kIGluIGRvY3VtZW50Iik7CiAgICB9CiAgICByZXR1cm4gbGluay5nZXRBdHRyaWJ1dGUoImhyZWYiKTsKICB9OwoKICB3aW5kb3cuSFRNTFdpZGdldHMuZGF0YWZyYW1lVG9EMyA9IGZ1bmN0aW9uKGRmKSB7CiAgICB2YXIgbmFtZXMgPSBbXTsKICAgIHZhciBsZW5ndGg7CiAgICBmb3IgKHZhciBuYW1lIGluIGRmKSB7CiAgICAgICAgaWYgKGRmLmhhc093blByb3BlcnR5KG5hbWUpKQogICAgICAgICAgICBuYW1lcy5wdXNoKG5hbWUpOwogICAgICAgIGlmICh0eXBlb2YoZGZbbmFtZV0pICE9PSAib2JqZWN0IiB8fCB0eXBlb2YoZGZbbmFtZV0ubGVuZ3RoKSA9PT0gInVuZGVmaW5lZCIpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJBbGwgZmllbGRzIG11c3QgYmUgYXJyYXlzIik7CiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YobGVuZ3RoKSAhPT0gInVuZGVmaW5lZCIgJiYgbGVuZ3RoICE9PSBkZltuYW1lXS5sZW5ndGgpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJBbGwgZmllbGRzIG11c3QgYmUgYXJyYXlzIG9mIHRoZSBzYW1lIGxlbmd0aCIpOwogICAgICAgIH0KICAgICAgICBsZW5ndGggPSBkZltuYW1lXS5sZW5ndGg7CiAgICB9CiAgICB2YXIgcmVzdWx0cyA9IFtdOwogICAgdmFyIGl0ZW07CiAgICBmb3IgKHZhciByb3cgPSAwOyByb3cgPCBsZW5ndGg7IHJvdysrKSB7CiAgICAgICAgaXRlbSA9IHt9OwogICAgICAgIGZvciAodmFyIGNvbCA9IDA7IGNvbCA8IG5hbWVzLmxlbmd0aDsgY29sKyspIHsKICAgICAgICAgICAgaXRlbVtuYW1lc1tjb2xdXSA9IGRmW25hbWVzW2NvbF1dW3Jvd107CiAgICAgICAgfQogICAgICAgIHJlc3VsdHMucHVzaChpdGVtKTsKICAgIH0KICAgIHJldHVybiByZXN1bHRzOwogIH07CgogIHdpbmRvdy5IVE1MV2lkZ2V0cy50cmFuc3Bvc2VBcnJheTJEID0gZnVuY3Rpb24oYXJyYXkpIHsKICAgICAgaWYgKGFycmF5Lmxlbmd0aCA9PT0gMCkgcmV0dXJuIGFycmF5OwogICAgICB2YXIgbmV3QXJyYXkgPSBhcnJheVswXS5tYXAoZnVuY3Rpb24oY29sLCBpKSB7CiAgICAgICAgICByZXR1cm4gYXJyYXkubWFwKGZ1bmN0aW9uKHJvdykgewogICAgICAgICAgICAgIHJldHVybiByb3dbaV0KICAgICAgICAgIH0pCiAgICAgIH0pOwogICAgICByZXR1cm4gbmV3QXJyYXk7CiAgfTsKICAvLyBTcGxpdCB2YWx1ZSBhdCBzcGxpdENoYXIsIGJ1dCBhbGxvdyBzcGxpdENoYXIgdG8gYmUgZXNjYXBlZAogIC8vIHVzaW5nIGVzY2FwZUNoYXIuIEFueSBvdGhlciBjaGFyYWN0ZXJzIGVzY2FwZWQgYnkgZXNjYXBlQ2hhcgogIC8vIHdpbGwgYmUgaW5jbHVkZWQgYXMgdXN1YWwgKGluY2x1ZGluZyBlc2NhcGVDaGFyIGl0c2VsZikuCiAgZnVuY3Rpb24gc3BsaXRXaXRoRXNjYXBlKHZhbHVlLCBzcGxpdENoYXIsIGVzY2FwZUNoYXIpIHsKICAgIHZhciByZXN1bHRzID0gW107CiAgICB2YXIgZXNjYXBlTW9kZSA9IGZhbHNlOwogICAgdmFyIGN1cnJlbnRSZXN1bHQgPSAiIjsKICAgIGZvciAodmFyIHBvcyA9IDA7IHBvcyA8IHZhbHVlLmxlbmd0aDsgcG9zKyspIHsKICAgICAgaWYgKCFlc2NhcGVNb2RlKSB7CiAgICAgICAgaWYgKHZhbHVlW3Bvc10gPT09IHNwbGl0Q2hhcikgewogICAgICAgICAgcmVzdWx0cy5wdXNoKGN1cnJlbnRSZXN1bHQpOwogICAgICAgICAgY3VycmVudFJlc3VsdCA9ICIiOwogICAgICAgIH0gZWxzZSBpZiAodmFsdWVbcG9zXSA9PT0gZXNjYXBlQ2hhcikgewogICAgICAgICAgZXNjYXBlTW9kZSA9IHRydWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGN1cnJlbnRSZXN1bHQgKz0gdmFsdWVbcG9zXTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY3VycmVudFJlc3VsdCArPSB2YWx1ZVtwb3NdOwogICAgICAgIGVzY2FwZU1vZGUgPSBmYWxzZTsKICAgICAgfQogICAgfQogICAgaWYgKGN1cnJlbnRSZXN1bHQgIT09ICIiKSB7CiAgICAgIHJlc3VsdHMucHVzaChjdXJyZW50UmVzdWx0KTsKICAgIH0KICAgIHJldHVybiByZXN1bHRzOwogIH0KICAvLyBGdW5jdGlvbiBhdXRob3JlZCBieSBZaWh1aS9KSiBBbGxhaXJlCiAgd2luZG93LkhUTUxXaWRnZXRzLmV2YWx1YXRlU3RyaW5nTWVtYmVyID0gZnVuY3Rpb24obywgbWVtYmVyKSB7CiAgICB2YXIgcGFydHMgPSBzcGxpdFdpdGhFc2NhcGUobWVtYmVyLCAnLicsICdcXCcpOwogICAgZm9yICh2YXIgaSA9IDAsIGwgPSBwYXJ0cy5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgdmFyIHBhcnQgPSBwYXJ0c1tpXTsKICAgICAgLy8gcGFydCBtYXkgYmUgYSBjaGFyYWN0ZXIgb3IgJ251bWVyaWMnIG1lbWJlciBuYW1lCiAgICAgIGlmIChvICE9PSBudWxsICYmIHR5cGVvZiBvID09PSAib2JqZWN0IiAmJiBwYXJ0IGluIG8pIHsKICAgICAgICBpZiAoaSA9PSAobCAtIDEpKSB7IC8vIGlmIHdlIGFyZSBhdCB0aGUgZW5kIG9mIHRoZSBsaW5lIHRoZW4gZXZhbHVsYXRlCiAgICAgICAgICBpZiAodHlwZW9mIG9bcGFydF0gPT09ICJzdHJpbmciKQogICAgICAgICAgICBvW3BhcnRdID0gZXZhbCgiKCIgKyBvW3BhcnRdICsgIikiKTsKICAgICAgICB9IGVsc2UgeyAvLyBvdGhlcndpc2UgY29udGludWUgdG8gbmV4dCBlbWJlZGRlZCBvYmplY3QKICAgICAgICAgIG8gPSBvW3BhcnRdOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH07CgogIC8vIFJldHJpZXZlIHRoZSBIVE1MV2lkZ2V0IGluc3RhbmNlIChpLmUuIHRoZSByZXR1cm4gdmFsdWUgb2YgYW4KICAvLyBIVE1MV2lkZ2V0IGJpbmRpbmcncyBpbml0aWFsaXplKCkgb3IgZmFjdG9yeSgpIGZ1bmN0aW9uKQogIC8vIGFzc29jaWF0ZWQgd2l0aCBhbiBlbGVtZW50LCBvciBudWxsIGlmIG5vbmUuCiAgd2luZG93LkhUTUxXaWRnZXRzLmdldEluc3RhbmNlID0gZnVuY3Rpb24oZWwpIHsKICAgIHJldHVybiBlbGVtZW50RGF0YShlbCwgImluaXRfcmVzdWx0Iik7CiAgfTsKCiAgLy8gRmluZHMgdGhlIGZpcnN0IGVsZW1lbnQgaW4gdGhlIHNjb3BlIHRoYXQgbWF0Y2hlcyB0aGUgc2VsZWN0b3IsCiAgLy8gYW5kIHJldHVybnMgdGhlIEhUTUxXaWRnZXQgaW5zdGFuY2UgKGkuZS4gdGhlIHJldHVybiB2YWx1ZSBvZgogIC8vIGFuIEhUTUxXaWRnZXQgYmluZGluZydzIGluaXRpYWxpemUoKSBvciBmYWN0b3J5KCkgZnVuY3Rpb24pCiAgLy8gYXNzb2NpYXRlZCB3aXRoIHRoYXQgZWxlbWVudCwgaWYgYW55LiBJZiBubyBlbGVtZW50IG1hdGNoZXMgdGhlCiAgLy8gc2VsZWN0b3IsIG9yIHRoZSBmaXJzdCBtYXRjaGluZyBlbGVtZW50IGhhcyBubyBIVE1MV2lkZ2V0CiAgLy8gaW5zdGFuY2UgYXNzb2NpYXRlZCB3aXRoIGl0LCB0aGVuIG51bGwgaXMgcmV0dXJuZWQuCiAgLy8KICAvLyBUaGUgc2NvcGUgYXJndW1lbnQgaXMgb3B0aW9uYWwsIGFuZCBkZWZhdWx0cyB0byB3aW5kb3cuZG9jdW1lbnQuCiAgd2luZG93LkhUTUxXaWRnZXRzLmZpbmQgPSBmdW5jdGlvbihzY29wZSwgc2VsZWN0b3IpIHsKICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09IDEpIHsKICAgICAgc2VsZWN0b3IgPSBzY29wZTsKICAgICAgc2NvcGUgPSBkb2N1bWVudDsKICAgIH0KCiAgICB2YXIgZWwgPSBzY29wZS5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTsKICAgIGlmIChlbCA9PT0gbnVsbCkgewogICAgICByZXR1cm4gbnVsbDsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiB3aW5kb3cuSFRNTFdpZGdldHMuZ2V0SW5zdGFuY2UoZWwpOwogICAgfQogIH07CgogIC8vIEZpbmRzIGFsbCBlbGVtZW50cyBpbiB0aGUgc2NvcGUgdGhhdCBtYXRjaCB0aGUgc2VsZWN0b3IsIGFuZAogIC8vIHJldHVybnMgdGhlIEhUTUxXaWRnZXQgaW5zdGFuY2VzIChpLmUuIHRoZSByZXR1cm4gdmFsdWVzIG9mCiAgLy8gYW4gSFRNTFdpZGdldCBiaW5kaW5nJ3MgaW5pdGlhbGl6ZSgpIG9yIGZhY3RvcnkoKSBmdW5jdGlvbikKICAvLyBhc3NvY2lhdGVkIHdpdGggdGhlIGVsZW1lbnRzLCBpbiBhbiBhcnJheS4gSWYgZWxlbWVudHMgdGhhdAogIC8vIG1hdGNoIHRoZSBzZWxlY3RvciBkb24ndCBoYXZlIGFuIGFzc29jaWF0ZWQgSFRNTFdpZGdldAogIC8vIGluc3RhbmNlLCB0aGUgcmV0dXJuZWQgYXJyYXkgd2lsbCBjb250YWluIG51bGxzLgogIC8vCiAgLy8gVGhlIHNjb3BlIGFyZ3VtZW50IGlzIG9wdGlvbmFsLCBhbmQgZGVmYXVsdHMgdG8gd2luZG93LmRvY3VtZW50LgogIHdpbmRvdy5IVE1MV2lkZ2V0cy5maW5kQWxsID0gZnVuY3Rpb24oc2NvcGUsIHNlbGVjdG9yKSB7CiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PSAxKSB7CiAgICAgIHNlbGVjdG9yID0gc2NvcGU7CiAgICAgIHNjb3BlID0gZG9jdW1lbnQ7CiAgICB9CgogICAgdmFyIG5vZGVzID0gc2NvcGUucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7CiAgICB2YXIgcmVzdWx0cyA9IFtdOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2Rlcy5sZW5ndGg7IGkrKykgewogICAgICByZXN1bHRzLnB1c2god2luZG93LkhUTUxXaWRnZXRzLmdldEluc3RhbmNlKG5vZGVzW2ldKSk7CiAgICB9CiAgICByZXR1cm4gcmVzdWx0czsKICB9OwoKICB2YXIgcG9zdFJlbmRlckhhbmRsZXJzID0gW107CiAgZnVuY3Rpb24gaW52b2tlUG9zdFJlbmRlckhhbmRsZXJzKCkgewogICAgd2hpbGUgKHBvc3RSZW5kZXJIYW5kbGVycy5sZW5ndGgpIHsKICAgICAgdmFyIGhhbmRsZXIgPSBwb3N0UmVuZGVySGFuZGxlcnMuc2hpZnQoKTsKICAgICAgaWYgKGhhbmRsZXIpIHsKICAgICAgICBoYW5kbGVyKCk7CiAgICAgIH0KICAgIH0KICB9CgogIC8vIFJlZ2lzdGVyIHRoZSBnaXZlbiBjYWxsYmFjayBmdW5jdGlvbiB0byBiZSBpbnZva2VkIGFmdGVyIHRoZQogIC8vIG5leHQgdGltZSBzdGF0aWMgd2lkZ2V0cyBhcmUgcmVuZGVyZWQuCiAgd2luZG93LkhUTUxXaWRnZXRzLmFkZFBvc3RSZW5kZXJIYW5kbGVyID0gZnVuY3Rpb24oY2FsbGJhY2spIHsKICAgIHBvc3RSZW5kZXJIYW5kbGVycy5wdXNoKGNhbGxiYWNrKTsKICB9OwoKICAvLyBUYWtlcyBhIG5ldy1zdHlsZSBpbnN0YW5jZS1ib3VuZCBkZWZpbml0aW9uLCBhbmQgcmV0dXJucyBhbgogIC8vIG9sZC1zdHlsZSBjbGFzcy1ib3VuZCBkZWZpbml0aW9uLiBUaGlzIHNhdmVzIHVzIGZyb20gaGF2aW5nCiAgLy8gdG8gcmV3cml0ZSBhbGwgdGhlIGxvZ2ljIGluIHRoaXMgZmlsZSB0byBhY2NvbW9kYXRlIGJvdGgKICAvLyB0eXBlcyBvZiBkZWZpbml0aW9ucy4KICBmdW5jdGlvbiBjcmVhdGVMZWdhY3lEZWZpbml0aW9uQWRhcHRlcihkZWZuKSB7CiAgICB2YXIgcmVzdWx0ID0gewogICAgICBuYW1lOiBkZWZuLm5hbWUsCiAgICAgIHR5cGU6IGRlZm4udHlwZSwKICAgICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oZWwsIHdpZHRoLCBoZWlnaHQpIHsKICAgICAgICByZXR1cm4gZGVmbi5mYWN0b3J5KGVsLCB3aWR0aCwgaGVpZ2h0KTsKICAgICAgfSwKICAgICAgcmVuZGVyVmFsdWU6IGZ1bmN0aW9uKGVsLCB4LCBpbnN0YW5jZSkgewogICAgICAgIHJldHVybiBpbnN0YW5jZS5yZW5kZXJWYWx1ZSh4KTsKICAgICAgfSwKICAgICAgcmVzaXplOiBmdW5jdGlvbihlbCwgd2lkdGgsIGhlaWdodCwgaW5zdGFuY2UpIHsKICAgICAgICByZXR1cm4gaW5zdGFuY2UucmVzaXplKHdpZHRoLCBoZWlnaHQpOwogICAgICB9CiAgICB9OwoKICAgIGlmIChkZWZuLmZpbmQpCiAgICAgIHJlc3VsdC5maW5kID0gZGVmbi5maW5kOwogICAgaWYgKGRlZm4ucmVuZGVyRXJyb3IpCiAgICAgIHJlc3VsdC5yZW5kZXJFcnJvciA9IGRlZm4ucmVuZGVyRXJyb3I7CiAgICBpZiAoZGVmbi5jbGVhckVycm9yKQogICAgICByZXN1bHQuY2xlYXJFcnJvciA9IGRlZm4uY2xlYXJFcnJvcjsKCiAgICByZXR1cm4gcmVzdWx0OwogIH0KfSkoKTsKCg=="></script>
<script src="data:application/x-javascript;base64,Lyogc2lnbWEuanMgLSBBIEphdmFTY3JpcHQgbGlicmFyeSBkZWRpY2F0ZWQgdG8gZ3JhcGggZHJhd2luZy4gLSBWZXJzaW9uOiAxLjIuMSAtIEF1dGhvcjogQWxleGlzIEphY29teSwgU2NpZW5jZXMtUG8gTcOpZGlhbGFiIC0gTGljZW5zZTogTUlUICovCihmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7dmFyIGI9e30sYz1mdW5jdGlvbihhKXt2YXIgZCxlLGYsZyxoO2MuY2xhc3Nlcy5kaXNwYXRjaGVyLmV4dGVuZCh0aGlzKTt2YXIgaT10aGlzLGo9YXx8e307aWYoInN0cmluZyI9PXR5cGVvZiBqfHxqIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQ/aj17cmVuZGVyZXJzOltqXX06IltvYmplY3QgQXJyYXldIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChqKSYmKGo9e3JlbmRlcmVyczpqfSksZz1qLnJlbmRlcmVyc3x8ai5yZW5kZXJlcnx8ai5jb250YWluZXIsai5yZW5kZXJlcnMmJjAhPT1qLnJlbmRlcmVycy5sZW5ndGh8fCgic3RyaW5nIj09dHlwZW9mIGd8fGcgaW5zdGFuY2VvZiBIVE1MRWxlbWVudHx8Im9iamVjdCI9PXR5cGVvZiBnJiYiY29udGFpbmVyImluIGcpJiYoai5yZW5kZXJlcnM9W2ddKSxqLmlkKXtpZihiW2ouaWRdKXRocm93J3NpZ21hOiBJbnN0YW5jZSAiJytqLmlkKyciIGFscmVhZHkgZXhpc3RzLic7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsImlkIix7dmFsdWU6ai5pZH0pfWVsc2V7Zm9yKGg9MDtiW2hdOyloKys7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsImlkIix7dmFsdWU6IiIraH0pfWZvcihiW3RoaXMuaWRdPXRoaXMsdGhpcy5zZXR0aW5ncz1uZXcgYy5jbGFzc2VzLmNvbmZpZ3VyYWJsZShjLnNldHRpbmdzLGouc2V0dGluZ3N8fHt9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywiZ3JhcGgiLHt2YWx1ZTpuZXcgYy5jbGFzc2VzLmdyYXBoKHRoaXMuc2V0dGluZ3MpLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCJtaWRkbGV3YXJlcyIse3ZhbHVlOltdLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCJjYW1lcmFzIix7dmFsdWU6e30sY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsInJlbmRlcmVycyIse3ZhbHVlOnt9LGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCJyZW5kZXJlcnNQZXJDYW1lcmEiLHt2YWx1ZTp7fSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywiY2FtZXJhRnJhbWVzIix7dmFsdWU6e30sY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsImNhbWVyYSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNhbWVyYXNbMF19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsImV2ZW50cyIse3ZhbHVlOlsiY2xpY2siLCJyaWdodENsaWNrIiwiY2xpY2tTdGFnZSIsImRvdWJsZUNsaWNrU3RhZ2UiLCJyaWdodENsaWNrU3RhZ2UiLCJjbGlja05vZGUiLCJjbGlja05vZGVzIiwiZG91YmxlQ2xpY2tOb2RlIiwiZG91YmxlQ2xpY2tOb2RlcyIsInJpZ2h0Q2xpY2tOb2RlIiwicmlnaHRDbGlja05vZGVzIiwib3Zlck5vZGUiLCJvdmVyTm9kZXMiLCJvdXROb2RlIiwib3V0Tm9kZXMiLCJkb3duTm9kZSIsImRvd25Ob2RlcyIsInVwTm9kZSIsInVwTm9kZXMiXSxjb25maWd1cmFibGU6ITB9KSx0aGlzLl9oYW5kbGVyPWZ1bmN0aW9uKGEpe3ZhciBiLGM9e307Zm9yKGIgaW4gYS5kYXRhKWNbYl09YS5kYXRhW2JdO2MucmVuZGVyZXI9YS50YXJnZXQsdGhpcy5kaXNwYXRjaEV2ZW50KGEudHlwZSxjKX0uYmluZCh0aGlzKSxmPWoucmVuZGVyZXJzfHxbXSxkPTAsZT1mLmxlbmd0aDtkPGU7ZCsrKXRoaXMuYWRkUmVuZGVyZXIoZltkXSk7Zm9yKGY9ai5taWRkbGV3YXJlc3x8W10sZD0wLGU9Zi5sZW5ndGg7ZDxlO2QrKyl0aGlzLm1pZGRsZXdhcmVzLnB1c2goInN0cmluZyI9PXR5cGVvZiBmW2RdP2MubWlkZGxld2FyZXNbZltkXV06ZltkXSk7Im9iamVjdCI9PXR5cGVvZiBqLmdyYXBoJiZqLmdyYXBoJiYodGhpcy5ncmFwaC5yZWFkKGouZ3JhcGgpLHRoaXMucmVmcmVzaCgpKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigicmVzaXplIixmdW5jdGlvbigpe2kuc2V0dGluZ3MmJmkucmVmcmVzaCgpfSl9O2lmKGMucHJvdG90eXBlLmFkZENhbWVyYT1mdW5jdGlvbihiKXt2YXIgZCxlPXRoaXM7aWYoIWFyZ3VtZW50cy5sZW5ndGgpe2ZvcihiPTA7dGhpcy5jYW1lcmFzWyIiK2JdOyliKys7Yj0iIitifWlmKHRoaXMuY2FtZXJhc1tiXSl0aHJvdydzaWdtYS5hZGRDYW1lcmE6IFRoZSBjYW1lcmEgIicrYisnIiBhbHJlYWR5IGV4aXN0cy4nO3JldHVybiBkPW5ldyBjLmNsYXNzZXMuY2FtZXJhKGIsdGhpcy5ncmFwaCx0aGlzLnNldHRpbmdzKSx0aGlzLmNhbWVyYXNbYl09ZCxkLnF1YWR0cmVlPW5ldyBjLmNsYXNzZXMucXVhZCxjLmNsYXNzZXMuZWRnZXF1YWQhPT1hJiYoZC5lZGdlcXVhZHRyZWU9bmV3IGMuY2xhc3Nlcy5lZGdlcXVhZCksZC5iaW5kKCJjb29yZGluYXRlc1VwZGF0ZWQiLGZ1bmN0aW9uKGEpe2UucmVuZGVyQ2FtZXJhKGQsZC5pc0FuaW1hdGVkKX0pLHRoaXMucmVuZGVyZXJzUGVyQ2FtZXJhW2JdPVtdLGR9LGMucHJvdG90eXBlLmtpbGxDYW1lcmE9ZnVuY3Rpb24oYSl7aWYoIShhPSJzdHJpbmciPT10eXBlb2YgYT90aGlzLmNhbWVyYXNbYV06YSkpdGhyb3cic2lnbWEua2lsbENhbWVyYTogVGhlIGNhbWVyYSBpcyB1bmRlZmluZWQuIjt2YXIgYixjLGQ9dGhpcy5yZW5kZXJlcnNQZXJDYW1lcmFbYS5pZF07Zm9yKGM9ZC5sZW5ndGgsYj1jLTE7Yj49MDtiLS0pdGhpcy5raWxsUmVuZGVyZXIoZFtiXSk7cmV0dXJuIGRlbGV0ZSB0aGlzLnJlbmRlcmVyc1BlckNhbWVyYVthLmlkXSxkZWxldGUgdGhpcy5jYW1lcmFGcmFtZXNbYS5pZF0sZGVsZXRlIHRoaXMuY2FtZXJhc1thLmlkXSxhLmtpbGwmJmEua2lsbCgpLHRoaXN9LGMucHJvdG90eXBlLmFkZFJlbmRlcmVyPWZ1bmN0aW9uKGEpe3ZhciBiLGQsZSxmLGc9YXx8e307aWYoInN0cmluZyI9PXR5cGVvZiBnP2c9e2NvbnRhaW5lcjpkb2N1bWVudC5nZXRFbGVtZW50QnlJZChnKX06ZyBpbnN0YW5jZW9mIEhUTUxFbGVtZW50JiYoZz17Y29udGFpbmVyOmd9KSwic3RyaW5nIj09dHlwZW9mIGcuY29udGFpbmVyJiYoZy5jb250YWluZXI9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZy5jb250YWluZXIpKSwiaWQiaW4gZyliPWcuaWQ7ZWxzZXtmb3IoYj0wO3RoaXMucmVuZGVyZXJzWyIiK2JdOyliKys7Yj0iIitifWlmKHRoaXMucmVuZGVyZXJzW2JdKXRocm93J3NpZ21hLmFkZFJlbmRlcmVyOiBUaGUgcmVuZGVyZXIgIicrYisnIiBhbHJlYWR5IGV4aXN0cy4nO2lmKGQ9ImZ1bmN0aW9uIj09dHlwZW9mIGcudHlwZT9nLnR5cGU6Yy5yZW5kZXJlcnNbZy50eXBlXSxkPWR8fGMucmVuZGVyZXJzLmRlZixlPSJjYW1lcmEiaW4gZz9nLmNhbWVyYSBpbnN0YW5jZW9mIGMuY2xhc3Nlcy5jYW1lcmE/Zy5jYW1lcmE6dGhpcy5jYW1lcmFzW2cuY2FtZXJhXXx8dGhpcy5hZGRDYW1lcmEoZy5jYW1lcmEpOnRoaXMuYWRkQ2FtZXJhKCksdGhpcy5jYW1lcmFzW2UuaWRdIT09ZSl0aHJvdyJzaWdtYS5hZGRSZW5kZXJlcjogVGhlIGNhbWVyYSBpcyBub3QgcHJvcGVybHkgcmVmZXJlbmNlZC4iO3JldHVybiBmPW5ldyBkKHRoaXMuZ3JhcGgsZSx0aGlzLnNldHRpbmdzLGcpLHRoaXMucmVuZGVyZXJzW2JdPWYsT2JqZWN0LmRlZmluZVByb3BlcnR5KGYsImlkIix7dmFsdWU6Yn0pLGYuYmluZCYmZi5iaW5kKFsiY2xpY2siLCJyaWdodENsaWNrIiwiY2xpY2tTdGFnZSIsImRvdWJsZUNsaWNrU3RhZ2UiLCJyaWdodENsaWNrU3RhZ2UiLCJjbGlja05vZGUiLCJjbGlja05vZGVzIiwiY2xpY2tFZGdlIiwiY2xpY2tFZGdlcyIsImRvdWJsZUNsaWNrTm9kZSIsImRvdWJsZUNsaWNrTm9kZXMiLCJkb3VibGVDbGlja0VkZ2UiLCJkb3VibGVDbGlja0VkZ2VzIiwicmlnaHRDbGlja05vZGUiLCJyaWdodENsaWNrTm9kZXMiLCJyaWdodENsaWNrRWRnZSIsInJpZ2h0Q2xpY2tFZGdlcyIsIm92ZXJOb2RlIiwib3Zlck5vZGVzIiwib3ZlckVkZ2UiLCJvdmVyRWRnZXMiLCJvdXROb2RlIiwib3V0Tm9kZXMiLCJvdXRFZGdlIiwib3V0RWRnZXMiLCJkb3duTm9kZSIsImRvd25Ob2RlcyIsImRvd25FZGdlIiwiZG93bkVkZ2VzIiwidXBOb2RlIiwidXBOb2RlcyIsInVwRWRnZSIsInVwRWRnZXMiXSx0aGlzLl9oYW5kbGVyKSx0aGlzLnJlbmRlcmVyc1BlckNhbWVyYVtlLmlkXS5wdXNoKGYpLGZ9LGMucHJvdG90eXBlLmtpbGxSZW5kZXJlcj1mdW5jdGlvbihhKXtpZighKGE9InN0cmluZyI9PXR5cGVvZiBhP3RoaXMucmVuZGVyZXJzW2FdOmEpKXRocm93InNpZ21hLmtpbGxSZW5kZXJlcjogVGhlIHJlbmRlcmVyIGlzIHVuZGVmaW5lZC4iO3ZhciBiPXRoaXMucmVuZGVyZXJzUGVyQ2FtZXJhW2EuY2FtZXJhLmlkXSxjPWIuaW5kZXhPZihhKTtyZXR1cm4gYz49MCYmYi5zcGxpY2UoYywxKSxhLmtpbGwmJmEua2lsbCgpLGRlbGV0ZSB0aGlzLnJlbmRlcmVyc1thLmlkXSx0aGlzfSxjLnByb3RvdHlwZS5yZWZyZXNoPWZ1bmN0aW9uKGIpe3ZhciBkLGUsZixnLGgsaSxqPTA7Zm9yKGI9Ynx8e30sZz10aGlzLm1pZGRsZXdhcmVzfHxbXSxkPTAsZT1nLmxlbmd0aDtkPGU7ZCsrKWdbZF0uY2FsbCh0aGlzLDA9PT1kPyIiOiJ0bXAiK2orIjoiLGQ9PT1lLTE/InJlYWR5OiI6InRtcCIrICsraisiOiIpO2ZvcihmIGluIHRoaXMuY2FtZXJhcyloPXRoaXMuY2FtZXJhc1tmXSxoLnNldHRpbmdzKCJhdXRvUmVzY2FsZSIpJiZ0aGlzLnJlbmRlcmVyc1BlckNhbWVyYVtoLmlkXSYmdGhpcy5yZW5kZXJlcnNQZXJDYW1lcmFbaC5pZF0ubGVuZ3RoP2MubWlkZGxld2FyZXMucmVzY2FsZS5jYWxsKHRoaXMsZy5sZW5ndGg/InJlYWR5OiI6IiIsaC5yZWFkUHJlZml4LHt3aWR0aDp0aGlzLnJlbmRlcmVyc1BlckNhbWVyYVtoLmlkXVswXS53aWR0aCxoZWlnaHQ6dGhpcy5yZW5kZXJlcnNQZXJDYW1lcmFbaC5pZF1bMF0uaGVpZ2h0fSk6Yy5taWRkbGV3YXJlcy5jb3B5LmNhbGwodGhpcyxnLmxlbmd0aD8icmVhZHk6IjoiIixoLnJlYWRQcmVmaXgpLGIuc2tpcEluZGV4YXRpb258fChpPWMudXRpbHMuZ2V0Qm91bmRhcmllcyh0aGlzLmdyYXBoLGgucmVhZFByZWZpeCksaC5xdWFkdHJlZS5pbmRleCh0aGlzLmdyYXBoLm5vZGVzKCkse3ByZWZpeDpoLnJlYWRQcmVmaXgsYm91bmRzOnt4OmkubWluWCx5OmkubWluWSx3aWR0aDppLm1heFgtaS5taW5YLGhlaWdodDppLm1heFktaS5taW5ZfX0pLGguZWRnZXF1YWR0cmVlIT09YSYmaC5zZXR0aW5ncygiZHJhd0VkZ2VzIikmJmguc2V0dGluZ3MoImVuYWJsZUVkZ2VIb3ZlcmluZyIpJiZoLmVkZ2VxdWFkdHJlZS5pbmRleCh0aGlzLmdyYXBoLHtwcmVmaXg6aC5yZWFkUHJlZml4LGJvdW5kczp7eDppLm1pblgseTppLm1pblksd2lkdGg6aS5tYXhYLWkubWluWCxoZWlnaHQ6aS5tYXhZLWkubWluWX19KSk7Zm9yKGc9T2JqZWN0LmtleXModGhpcy5yZW5kZXJlcnMpLGQ9MCxlPWcubGVuZ3RoO2Q8ZTtkKyspaWYodGhpcy5yZW5kZXJlcnNbZ1tkXV0ucHJvY2VzcylpZih0aGlzLnNldHRpbmdzKCJza2lwRXJyb3JzIikpdHJ5e3RoaXMucmVuZGVyZXJzW2dbZF1dLnByb2Nlc3MoKX1jYXRjaChhKXtjb25zb2xlLmxvZygnV2FybmluZzogVGhlIHJlbmRlcmVyICInK2dbZF0rJyIgY3Jhc2hlZCBvbiAiLnByb2Nlc3MoKSInKX1lbHNlIHRoaXMucmVuZGVyZXJzW2dbZF1dLnByb2Nlc3MoKTtyZXR1cm4gdGhpcy5yZW5kZXIoKSx0aGlzfSxjLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24oKXt2YXIgYSxiLGM7Zm9yKGM9T2JqZWN0LmtleXModGhpcy5yZW5kZXJlcnMpLGE9MCxiPWMubGVuZ3RoO2E8YjthKyspaWYodGhpcy5zZXR0aW5ncygic2tpcEVycm9ycyIpKXRyeXt0aGlzLnJlbmRlcmVyc1tjW2FdXS5yZW5kZXIoKX1jYXRjaChiKXt0aGlzLnNldHRpbmdzKCJ2ZXJib3NlIikmJmNvbnNvbGUubG9nKCdXYXJuaW5nOiBUaGUgcmVuZGVyZXIgIicrY1thXSsnIiBjcmFzaGVkIG9uICIucmVuZGVyKCkiJyl9ZWxzZSB0aGlzLnJlbmRlcmVyc1tjW2FdXS5yZW5kZXIoKTtyZXR1cm4gdGhpc30sYy5wcm90b3R5cGUucmVuZGVyQ2FtZXJhPWZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGY9dGhpcztpZihiKWZvcihlPXRoaXMucmVuZGVyZXJzUGVyQ2FtZXJhW2EuaWRdLGM9MCxkPWUubGVuZ3RoO2M8ZDtjKyspaWYodGhpcy5zZXR0aW5ncygic2tpcEVycm9ycyIpKXRyeXtlW2NdLnJlbmRlcigpfWNhdGNoKGEpe3RoaXMuc2V0dGluZ3MoInZlcmJvc2UiKSYmY29uc29sZS5sb2coJ1dhcm5pbmc6IFRoZSByZW5kZXJlciAiJytlW2NdLmlkKyciIGNyYXNoZWQgb24gIi5yZW5kZXIoKSInKX1lbHNlIGVbY10ucmVuZGVyKCk7ZWxzZSBpZighdGhpcy5jYW1lcmFGcmFtZXNbYS5pZF0pe2ZvcihlPXRoaXMucmVuZGVyZXJzUGVyQ2FtZXJhW2EuaWRdLGM9MCxkPWUubGVuZ3RoO2M8ZDtjKyspaWYodGhpcy5zZXR0aW5ncygic2tpcEVycm9ycyIpKXRyeXtlW2NdLnJlbmRlcigpfWNhdGNoKGEpe3RoaXMuc2V0dGluZ3MoInZlcmJvc2UiKSYmY29uc29sZS5sb2coJ1dhcm5pbmc6IFRoZSByZW5kZXJlciAiJytlW2NdLmlkKyciIGNyYXNoZWQgb24gIi5yZW5kZXIoKSInKX1lbHNlIGVbY10ucmVuZGVyKCk7dGhpcy5jYW1lcmFGcmFtZXNbYS5pZF09cmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uKCl7ZGVsZXRlIGYuY2FtZXJhRnJhbWVzW2EuaWRdfSl9cmV0dXJuIHRoaXN9LGMucHJvdG90eXBlLmtpbGw9ZnVuY3Rpb24oKXt2YXIgYTt0aGlzLmRpc3BhdGNoRXZlbnQoImtpbGwiKSx0aGlzLmdyYXBoLmtpbGwoKSxkZWxldGUgdGhpcy5taWRkbGV3YXJlcztmb3IoYSBpbiB0aGlzLnJlbmRlcmVycyl0aGlzLmtpbGxSZW5kZXJlcih0aGlzLnJlbmRlcmVyc1thXSk7Zm9yKGEgaW4gdGhpcy5jYW1lcmFzKXRoaXMua2lsbENhbWVyYSh0aGlzLmNhbWVyYXNbYV0pO2RlbGV0ZSB0aGlzLnJlbmRlcmVycyxkZWxldGUgdGhpcy5jYW1lcmFzO2ZvcihhIGluIHRoaXMpdGhpcy5oYXNPd25Qcm9wZXJ0eShhKSYmZGVsZXRlIHRoaXNbYV07ZGVsZXRlIGJbdGhpcy5pZF19LGMuaW5zdGFuY2VzPWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoP2JbYV06Yy51dGlscy5leHRlbmQoe30sYil9LGMudmVyc2lvbj0iMS4yLjEiLHZvaWQgMCE9PXRoaXMuc2lnbWEpdGhyb3ciQW4gb2JqZWN0IGNhbGxlZCBzaWdtYSBpcyBhbHJlYWR5IGluIHRoZSBnbG9iYWwgc2NvcGUuIjt0aGlzLnNpZ21hPWN9KS5jYWxsKHRoaXMpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEsYyl7dmFyIGQsZSxmLGc7aWYoYXJndW1lbnRzLmxlbmd0aClpZigxPT09YXJndW1lbnRzLmxlbmd0aCYmT2JqZWN0KGFyZ3VtZW50c1swXSk9PT1hcmd1bWVudHNbMF0pZm9yKGEgaW4gYXJndW1lbnRzWzBdKWIoYSxhcmd1bWVudHNbMF1bYV0pO2Vsc2UgaWYoYXJndW1lbnRzLmxlbmd0aD4xKWZvcihnPUFycmF5LmlzQXJyYXkoYSk/YTphLnNwbGl0KC8gLyksZD0wLGU9Zy5sZW5ndGg7ZCE9PWU7ZCs9MSlmPWdbZF0sQ1tmXXx8KENbZl09W10pLENbZl0ucHVzaCh7aGFuZGxlcjpjfSl9ZnVuY3Rpb24gYyhhLGIpe3ZhciBjLGQsZSxmLGcsaCxpPUFycmF5LmlzQXJyYXkoYSk/YTphLnNwbGl0KC8gLyk7aWYoYXJndW1lbnRzLmxlbmd0aClpZihiKWZvcihjPTAsZD1pLmxlbmd0aDtjIT09ZDtjKz0xKXtpZihoPWlbY10sQ1toXSl7Zm9yKGc9W10sZT0wLGY9Q1toXS5sZW5ndGg7ZSE9PWY7ZSs9MSlDW2hdW2VdLmhhbmRsZXIhPT1iJiZnLnB1c2goQ1toXVtlXSk7Q1toXT1nfUNbaF0mJjA9PT1DW2hdLmxlbmd0aCYmZGVsZXRlIENbaF19ZWxzZSBmb3IoYz0wLGQ9aS5sZW5ndGg7YyE9PWQ7Yys9MSlkZWxldGUgQ1tpW2NdXTtlbHNlIEM9T2JqZWN0LmNyZWF0ZShudWxsKX1mdW5jdGlvbiBkKGEsYil7dmFyIGMsZCxlLGYsZyxoLGk9QXJyYXkuaXNBcnJheShhKT9hOmEuc3BsaXQoLyAvKTtmb3IoYj12b2lkIDA9PT1iP3t9OmIsYz0wLGU9aS5sZW5ndGg7YyE9PWU7Yys9MSlpZihoPWlbY10sQ1toXSlmb3IoZz17dHlwZTpoLGRhdGE6Ynx8e319LGQ9MCxmPUNbaF0ubGVuZ3RoO2QhPT1mO2QrPTEpdHJ5e0NbaF1bZF0uaGFuZGxlcihnKX1jYXRjaChhKXt9fWZ1bmN0aW9uIGUoKXt2YXIgYSxiLGMsZCxlPSExLGY9cygpLGc9eC5zaGlmdCgpO2lmKGM9Zy5qb2IoKSxmPXMoKS1mLGcuZG9uZSsrLGcudGltZSs9ZixnLmN1cnJlbnRUaW1lKz1mLGcud2VpZ2h0VGltZT1nLmN1cnJlbnRUaW1lLyhnLndlaWdodHx8MSksZy5hdmVyYWdlVGltZT1nLnRpbWUvZy5kb25lLCEoZD1nLmNvdW50P2cuY291bnQ8PWcuZG9uZTohYykpe2ZvcihhPTAsYj14Lmxlbmd0aDthPGI7YSsrKWlmKHhbYV0ud2VpZ2h0VGltZT5nLndlaWdodFRpbWUpe3guc3BsaWNlKGEsMCxnKSxlPSEwO2JyZWFrfWV8fHgucHVzaChnKX1yZXR1cm4gZD9nOm51bGx9ZnVuY3Rpb24gZihhKXt2YXIgYj14Lmxlbmd0aDt3W2EuaWRdPWEsYS5zdGF0dXM9InJ1bm5pbmciLGImJihhLndlaWdodFRpbWU9eFtiLTFdLndlaWdodFRpbWUsYS5jdXJyZW50VGltZT1hLndlaWdodFRpbWUqKGEud2VpZ2h0fHwxKSksYS5zdGFydFRpbWU9cygpLGQoImpvYlN0YXJ0ZWQiLHEoYSkpLHgucHVzaChhKX1mdW5jdGlvbiBnKCl7dmFyIGEsYixjO2ZvcihhIGluIHYpYj12W2FdLGIuYWZ0ZXI/eVthXT1iOmYoYiksZGVsZXRlIHZbYV07Zm9yKHU9ISF4Lmxlbmd0aDt4Lmxlbmd0aCYmcygpLXQ8Qi5mcmFtZUR1cmF0aW9uOylpZihjPWUoKSl7aShjLmlkKTtmb3IoYSBpbiB5KXlbYV0uYWZ0ZXI9PT1jLmlkJiYoZih5W2FdKSxkZWxldGUgeVthXSl9dT8odD1zKCksZCgiZW50ZXJGcmFtZSIpLHNldFRpbWVvdXQoZywwKSk6ZCgic3RvcCIpfWZ1bmN0aW9uIGgoYSxiKXt2YXIgYyxlLGY7aWYoQXJyYXkuaXNBcnJheShhKSl7Zm9yKEE9ITAsYz0wLGU9YS5sZW5ndGg7YzxlO2MrKyloKGFbY10uaWQscChhW2NdLGIpKTtBPSExLHV8fCh0PXMoKSxkKCJzdGFydCIpLGcoKSl9ZWxzZSBpZigib2JqZWN0Ij09dHlwZW9mIGEpaWYoInN0cmluZyI9PXR5cGVvZiBhLmlkKWgoYS5pZCxhKTtlbHNle0E9ITA7Zm9yKGMgaW4gYSkiZnVuY3Rpb24iPT10eXBlb2YgYVtjXT9oKGMscCh7am9iOmFbY119LGIpKTpoKGMscChhW2NdLGIpKTtBPSExLHV8fCh0PXMoKSxkKCJzdGFydCIpLGcoKSl9ZWxzZXtpZigic3RyaW5nIiE9dHlwZW9mIGEpdGhyb3cgbmV3IEVycm9yKCJbY29ucmFkLmFkZEpvYl0gV3JvbmcgYXJndW1lbnRzLiIpO2lmKGsoYSkpdGhyb3cgbmV3IEVycm9yKCdbY29ucmFkLmFkZEpvYl0gSm9iIHdpdGggaWQgIicrYSsnIiBhbHJlYWR5IGV4aXN0cy4nKTtpZigiZnVuY3Rpb24iPT10eXBlb2YgYilmPXtpZDphLGRvbmU6MCx0aW1lOjAsc3RhdHVzOiJ3YWl0aW5nIixjdXJyZW50VGltZTowLGF2ZXJhZ2VUaW1lOjAsd2VpZ2h0VGltZTowLGpvYjpifTtlbHNle2lmKCJvYmplY3QiIT10eXBlb2YgYil0aHJvdyBuZXcgRXJyb3IoIltjb25yYWQuYWRkSm9iXSBXcm9uZyBhcmd1bWVudHMuIik7Zj1wKHtpZDphLGRvbmU6MCx0aW1lOjAsc3RhdHVzOiJ3YWl0aW5nIixjdXJyZW50VGltZTowLGF2ZXJhZ2VUaW1lOjAsd2VpZ2h0VGltZTowfSxiKX12W2FdPWYsZCgiam9iQWRkZWQiLHEoZikpLHV8fEF8fCh0PXMoKSxkKCJzdGFydCIpLGcoKSl9cmV0dXJuIHRoaXN9ZnVuY3Rpb24gaShhKXt2YXIgYixjLGUsZixnPSExO2lmKEFycmF5LmlzQXJyYXkoYSkpZm9yKGI9MCxjPWEubGVuZ3RoO2I8YztiKyspaShhW2JdKTtlbHNle2lmKCJzdHJpbmciIT10eXBlb2YgYSl0aHJvdyBuZXcgRXJyb3IoIltjb25yYWQua2lsbEpvYl0gV3JvbmcgYXJndW1lbnRzLiIpO2ZvcihlPVt3LHksdl0sYj0wLGM9ZS5sZW5ndGg7YjxjO2IrKylhIGluIGVbYl0mJihmPWVbYl1bYV0sQi5oaXN0b3J5JiYoZi5zdGF0dXM9ImRvbmUiLHoucHVzaChmKSksZCgiam9iRW5kZWQiLHEoZikpLGRlbGV0ZSBlW2JdW2FdLCJmdW5jdGlvbiI9PXR5cGVvZiBmLmVuZCYmZi5lbmQoKSxnPSEwKTtmb3IoZT14LGI9MCxjPWUubGVuZ3RoO2I8YztiKyspaWYoZVtiXS5pZD09PWEpe2Uuc3BsaWNlKGIsMSk7YnJlYWt9aWYoIWcpdGhyb3cgbmV3IEVycm9yKCdbY29ucmFkLmtpbGxKb2JdIEpvYiAiJythKyciIG5vdCBmb3VuZC4nKX1yZXR1cm4gdGhpc31mdW5jdGlvbiBqKCl7dmFyIGEsYj1wKHYsdyx5KTtpZihCLmhpc3RvcnkpZm9yKGEgaW4gYiliW2FdLnN0YXR1cz0iZG9uZSIsei5wdXNoKGJbYV0pLCJmdW5jdGlvbiI9PXR5cGVvZiBiW2FdLmVuZCYmYlthXS5lbmQoKTtyZXR1cm4gdj17fSx5PXt9LHc9e30seD1bXSx1PSExLHRoaXN9ZnVuY3Rpb24gayhhKXt2YXIgYj12W2FdfHx3W2FdfHx5W2FdO3JldHVybiBiP3AoYik6bnVsbH1mdW5jdGlvbiBsKGEsYil7dmFyIGM7aWYoInN0cmluZyI9PXR5cGVvZiBhMSYmMT09PWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIEJbYTFdO2M9Im9iamVjdCI9PXR5cGVvZiBhMSYmMT09PWFyZ3VtZW50cy5sZW5ndGg/YTF8fHt9Ont9LCJzdHJpbmciPT10eXBlb2YgYTEmJihjW2ExXT1hMik7Zm9yKHZhciBkIGluIGMpdm9pZCAwIT09Y1tkXT9CW2RdPWNbZF06ZGVsZXRlIEJbZF07cmV0dXJuIHRoaXN9ZnVuY3Rpb24gbSgpe3JldHVybiB1fWZ1bmN0aW9uIG4oKXtyZXR1cm4gej1bXSx0aGlzfWZ1bmN0aW9uIG8oYSxiKXt2YXIgYyxkLGUsZixnLGgsaTtpZighYXJndW1lbnRzLmxlbmd0aCl7Zz1bXTtmb3IoZCBpbiB2KWcucHVzaCh2W2RdKTtmb3IoZCBpbiB5KWcucHVzaCh5W2RdKTtmb3IoZCBpbiB3KWcucHVzaCh3W2RdKTtnPWcuY29uY2F0KHopfWlmKCJzdHJpbmciPT10eXBlb2YgYSlzd2l0Y2goYSl7Y2FzZSJ3YWl0aW5nIjpnPXIoeSk7YnJlYWs7Y2FzZSJydW5uaW5nIjpnPXIodyk7YnJlYWs7Y2FzZSJkb25lIjpnPXo7YnJlYWs7ZGVmYXVsdDpoPWF9aWYoYSBpbnN0YW5jZW9mIFJlZ0V4cCYmKGg9YSksIWgmJigic3RyaW5nIj09dHlwZW9mIGJ8fGIgaW5zdGFuY2VvZiBSZWdFeHApJiYoaD1iKSxoKXtpZihpPSJzdHJpbmciPT10eXBlb2YgaCxnIGluc3RhbmNlb2YgQXJyYXkpYz1nO2Vsc2UgaWYoIm9iamVjdCI9PXR5cGVvZiBnKXtjPVtdO2ZvcihkIGluIGcpYz1jLmNvbmNhdChnW2RdKX1lbHNle2M9W107Zm9yKGQgaW4gdiljLnB1c2godltkXSk7Zm9yKGQgaW4geSljLnB1c2goeVtkXSk7Zm9yKGQgaW4gdyljLnB1c2god1tkXSk7Yz1jLmNvbmNhdCh6KX1mb3IoZz1bXSxlPTAsZj1jLmxlbmd0aDtlPGY7ZSsrKShpP2NbZV0uaWQ9PT1oOmNbZV0uaWQubWF0Y2goaCkpJiZnLnB1c2goY1tlXSl9cmV0dXJuIHEoZyl9ZnVuY3Rpb24gcCgpe3ZhciBhLGIsYz17fSxkPWFyZ3VtZW50cy5sZW5ndGg7Zm9yKGE9ZC0xO2E+PTA7YS0tKWZvcihiIGluIGFyZ3VtZW50c1thXSljW2JdPWFyZ3VtZW50c1thXVtiXTtyZXR1cm4gY31mdW5jdGlvbiBxKGEpe3ZhciBiLGMsZDtpZighYSlyZXR1cm4gYTtpZihBcnJheS5pc0FycmF5KGEpKWZvcihiPVtdLGM9MCxkPWEubGVuZ3RoO2M8ZDtjKyspYi5wdXNoKHEoYVtjXSkpO2Vsc2UgaWYoIm9iamVjdCI9PXR5cGVvZiBhKXtiPXt9O2ZvcihjIGluIGEpYltjXT1xKGFbY10pfWVsc2UgYj1hO3JldHVybiBifWZ1bmN0aW9uIHIoYSl7dmFyIGIsYz1bXTtmb3IoYiBpbiBhKWMucHVzaChhW2JdKTtyZXR1cm4gY31mdW5jdGlvbiBzKCl7cmV0dXJuIERhdGUubm93P0RhdGUubm93KCk6KG5ldyBEYXRlKS5nZXRUaW1lKCl9aWYoYS5jb25yYWQpdGhyb3cgbmV3IEVycm9yKCJjb25yYWQgYWxyZWFkeSBleGlzdHMiKTt2YXIgdCx1PSExLHY9e30sdz17fSx4PVtdLHk9e30sej1bXSxBPSExLEI9e2ZyYW1lRHVyYXRpb246MjAsaGlzdG9yeTohMH0sQz1PYmplY3QuY3JlYXRlKG51bGwpO0FycmF5LmlzQXJyYXl8fChBcnJheS5pc0FycmF5PWZ1bmN0aW9uKGEpe3JldHVybiJbb2JqZWN0IEFycmF5XSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYSl9KTt2YXIgRD17aGFzSm9iOmssYWRkSm9iOmgsa2lsbEpvYjppLGtpbGxBbGw6aixzZXR0aW5nczpsLGdldFN0YXRzOm8saXNSdW5uaW5nOm0sY2xlYXJIaXN0b3J5Om4sYmluZDpiLHVuYmluZDpjLHZlcnNpb246IjAuMS4wIn07InVuZGVmaW5lZCIhPXR5cGVvZiBleHBvcnRzJiYoInVuZGVmaW5lZCIhPXR5cGVvZiBtb2R1bGUmJm1vZHVsZS5leHBvcnRzJiYoZXhwb3J0cz1tb2R1bGUuZXhwb3J0cz1EKSxleHBvcnRzLmNvbnJhZD1EKSxhLmNvbnJhZD1EfSh0aGlzKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBzaWdtYSl0aHJvdyJzaWdtYSBpcyBub3QgZGVjbGFyZWQiO3ZhciBiPXRoaXM7c2lnbWEudXRpbHM9c2lnbWEudXRpbHN8fHt9LHNpZ21hLnV0aWxzLmV4dGVuZD1mdW5jdGlvbigpe3ZhciBhLGIsYz17fSxkPWFyZ3VtZW50cy5sZW5ndGg7Zm9yKGE9ZC0xO2E+PTA7YS0tKWZvcihiIGluIGFyZ3VtZW50c1thXSljW2JdPWFyZ3VtZW50c1thXVtiXTtyZXR1cm4gY30sc2lnbWEudXRpbHMuZGF0ZU5vdz1mdW5jdGlvbigpe3JldHVybiBEYXRlLm5vdz9EYXRlLm5vdygpOihuZXcgRGF0ZSkuZ2V0VGltZSgpfSxzaWdtYS51dGlscy5wa2c9ZnVuY3Rpb24oYSl7cmV0dXJuKGF8fCIiKS5zcGxpdCgiLiIpLnJlZHVjZShmdW5jdGlvbihhLGIpe3JldHVybiBiIGluIGE/YVtiXTphW2JdPXt9fSxiKX0sc2lnbWEudXRpbHMuaWQ9ZnVuY3Rpb24oKXt2YXIgYT0wO3JldHVybiBmdW5jdGlvbigpe3JldHVybisrYX19KCk7dmFyIGM9e307c2lnbWEudXRpbHMuZmxvYXRDb2xvcj1mdW5jdGlvbihhKXtpZihjW2FdKXJldHVybiBjW2FdO3ZhciBiPWEsZD0wLGU9MCxmPTA7IiMiPT09YVswXT8oYT1hLnNsaWNlKDEpLDM9PT1hLmxlbmd0aD8oZD1wYXJzZUludChhLmNoYXJBdCgwKSthLmNoYXJBdCgwKSwxNiksZT1wYXJzZUludChhLmNoYXJBdCgxKSthLmNoYXJBdCgxKSwxNiksZj1wYXJzZUludChhLmNoYXJBdCgyKSthLmNoYXJBdCgyKSwxNikpOihkPXBhcnNlSW50KGEuY2hhckF0KDApK2EuY2hhckF0KDEpLDE2KSxlPXBhcnNlSW50KGEuY2hhckF0KDIpK2EuY2hhckF0KDMpLDE2KSxmPXBhcnNlSW50KGEuY2hhckF0KDQpK2EuY2hhckF0KDUpLDE2KSkpOmEubWF0Y2goL14gKnJnYmE/ICpcKC8pJiYoYT1hLm1hdGNoKC9eICpyZ2JhPyAqXCggKihbMC05XSopICosICooWzAtOV0qKSAqLCAqKFswLTldKikgKigsLiopP1wpICokLyksZD0rYVsxXSxlPSthWzJdLGY9K2FbM10pO3ZhciBnPTI1NipkKjI1NisyNTYqZStmO3JldHVybiBjW2JdPWcsZ30sc2lnbWEudXRpbHMuem9vbVRvPWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGYsZyxoLGk9YS5zZXR0aW5nczsoZz1NYXRoLm1heChpKCJ6b29tTWluIiksTWF0aC5taW4oaSgiem9vbU1heCIpLGEucmF0aW8qZCkpKSE9PWEucmF0aW8mJihkPWcvYS5yYXRpbyxoPXt4OmIqKDEtZCkrYS54LHk6YyooMS1kKSthLnkscmF0aW86Z30sZSYmZS5kdXJhdGlvbj8oZj1zaWdtYS5taXNjLmFuaW1hdGlvbi5raWxsQWxsKGEpLGU9c2lnbWEudXRpbHMuZXh0ZW5kKGUse2Vhc2luZzpmPyJxdWFkcmF0aWNPdXQiOiJxdWFkcmF0aWNJbk91dCJ9KSxzaWdtYS5taXNjLmFuaW1hdGlvbi5jYW1lcmEoYSxoLGUpKTooYS5nb1RvKGgpLGUmJmUub25Db21wbGV0ZSYmZS5vbkNvbXBsZXRlKCkpKX0sc2lnbWEudXRpbHMuZ2V0UXVhZHJhdGljQ29udHJvbFBvaW50PWZ1bmN0aW9uKGEsYixjLGQpe3JldHVybnt4OihhK2MpLzIrKGQtYikvNCx5OihiK2QpLzIrKGEtYykvNH19LHNpZ21hLnV0aWxzLmdldFBvaW50T25RdWFkcmF0aWNDdXJ2ZT1mdW5jdGlvbihhLGIsYyxkLGUsZixnKXtyZXR1cm57eDpNYXRoLnBvdygxLWEsMikqYisyKigxLWEpKmEqZitNYXRoLnBvdyhhLDIpKmQseTpNYXRoLnBvdygxLWEsMikqYysyKigxLWEpKmEqZytNYXRoLnBvdyhhLDIpKmV9fSxzaWdtYS51dGlscy5nZXRQb2ludE9uQmV6aWVyQ3VydmU9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoLGkpe3ZhciBqPU1hdGgucG93KDEtYSwzKSxrPTMqYSpNYXRoLnBvdygxLWEsMiksbD0zKk1hdGgucG93KGEsMikqKDEtYSksbT1NYXRoLnBvdyhhLDMpO3JldHVybnt4OmoqYitrKmYrbCpoK20qZCx5OmoqYytrKmcrbCppK20qZX19LHNpZ21hLnV0aWxzLmdldFNlbGZMb29wQ29udHJvbFBvaW50cz1mdW5jdGlvbihhLGIsYyl7cmV0dXJue3gxOmEtNypjLHkxOmIseDI6YSx5MjpiKzcqY319LHNpZ21hLnV0aWxzLmdldERpc3RhbmNlPWZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiBNYXRoLnNxcnQoTWF0aC5wb3coYy1hLDIpK01hdGgucG93KGQtYiwyKSl9LHNpZ21hLnV0aWxzLmdldENpcmNsZUludGVyc2VjdGlvbj1mdW5jdGlvbihhLGIsYyxkLGUsZil7dmFyIGcsaCxpLGosayxsLG0sbixvO3JldHVybiBoPWQtYSxpPWUtYiwhKChqPU1hdGguc3FydChpKmkraCpoKSk+YytmKSYmKCEoajxNYXRoLmFicyhjLWYpKSYmKGc9KGMqYy1mKmYraipqKS8oMipqKSxuPWEraCpnL2osbz1iK2kqZy9qLGs9TWF0aC5zcXJ0KGMqYy1nKmcpLGw9ay9qKi1pLG09aCooay9qKSx7eGk6bitsLHhpX3ByaW1lOm4tbCx5aTpvK20seWlfcHJpbWU6by1tfSkpfSxzaWdtYS51dGlscy5pc1BvaW50T25TZWdtZW50PWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcpe3JldHVybiBNYXRoLmFicygoYi1kKSooZS1jKS0oYS1jKSooZi1kKSkvc2lnbWEudXRpbHMuZ2V0RGlzdGFuY2UoYyxkLGUsZik8ZyYmTWF0aC5taW4oYyxlKTw9YSYmYTw9TWF0aC5tYXgoYyxlKSYmTWF0aC5taW4oZCxmKTw9YiYmYjw9TWF0aC5tYXgoZCxmKX0sc2lnbWEudXRpbHMuaXNQb2ludE9uUXVhZHJhdGljQ3VydmU9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoLGkpe3ZhciBqPXNpZ21hLnV0aWxzLmdldERpc3RhbmNlKGMsZCxlLGYpO2lmKE1hdGguYWJzKGEtYyk+anx8TWF0aC5hYnMoYi1kKT5qKXJldHVybiExO2Zvcih2YXIgayxsPXNpZ21hLnV0aWxzLmdldERpc3RhbmNlKGEsYixjLGQpLG09c2lnbWEudXRpbHMuZ2V0RGlzdGFuY2UoYSxiLGUsZiksbj0uNSxvPWw8bT8tLjAxOi4wMSxwPS4wMDEscT0xMDAscj1zaWdtYS51dGlscy5nZXRQb2ludE9uUXVhZHJhdGljQ3VydmUobixjLGQsZSxmLGcsaCkscz1zaWdtYS51dGlscy5nZXREaXN0YW5jZShhLGIsci54LHIueSk7cS0tID4wJiZuPj0wJiZuPD0xJiZzPmkmJihvPnB8fG88LXApOylrPXMscj1zaWdtYS51dGlscy5nZXRQb2ludE9uUXVhZHJhdGljQ3VydmUobixjLGQsZSxmLGcsaCkscz1zaWdtYS51dGlscy5nZXREaXN0YW5jZShhLGIsci54LHIueSkscz5rPyhvPS1vLzIsbis9byk6bitvPDB8fG4rbz4xPyhvLz0yLHM9ayk6bis9bztyZXR1cm4gczxpfSxzaWdtYS51dGlscy5pc1BvaW50T25CZXppZXJDdXJ2ZT1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGgsaSxqLGspe3ZhciBsPXNpZ21hLnV0aWxzLmdldERpc3RhbmNlKGMsZCxnLGgpO2lmKE1hdGguYWJzKGEtYyk+bHx8TWF0aC5hYnMoYi1kKT5sKXJldHVybiExO2Zvcih2YXIgbSxuPXNpZ21hLnV0aWxzLmdldERpc3RhbmNlKGEsYixjLGQpLG89c2lnbWEudXRpbHMuZ2V0RGlzdGFuY2UoYSxiLGUsZikscD0uNSxxPW48bz8tLjAxOi4wMSxyPS4wMDEscz0xMDAsdD1zaWdtYS51dGlscy5nZXRQb2ludE9uQmV6aWVyQ3VydmUocCxjLGQsZSxmLGcsaCxpLGopLHU9c2lnbWEudXRpbHMuZ2V0RGlzdGFuY2UoYSxiLHQueCx0LnkpO3MtLSA+MCYmcD49MCYmcDw9MSYmdT5rJiYocT5yfHxxPC1yKTspbT11LHQ9c2lnbWEudXRpbHMuZ2V0UG9pbnRPbkJlemllckN1cnZlKHAsYyxkLGUsZixnLGgsaSxqKSx1PXNpZ21hLnV0aWxzLmdldERpc3RhbmNlKGEsYix0LngsdC55KSx1Pm0/KHE9LXEvMixwKz1xKTpwK3E8MHx8cCtxPjE/KHEvPTIsdT1tKTpwKz1xO3JldHVybiB1PGt9LHNpZ21hLnV0aWxzLmdldFg9ZnVuY3Rpb24oYil7cmV0dXJuIGIub2Zmc2V0WCE9PWEmJmIub2Zmc2V0WHx8Yi5sYXllclghPT1hJiZiLmxheWVyWHx8Yi5jbGllbnRYIT09YSYmYi5jbGllbnRYfSxzaWdtYS51dGlscy5nZXRZPWZ1bmN0aW9uKGIpe3JldHVybiBiLm9mZnNldFkhPT1hJiZiLm9mZnNldFl8fGIubGF5ZXJZIT09YSYmYi5sYXllcll8fGIuY2xpZW50WSE9PWEmJmIuY2xpZW50WX0sc2lnbWEudXRpbHMuZ2V0UGl4ZWxSYXRpbz1mdW5jdGlvbigpe3ZhciBiPTE7cmV0dXJuIHdpbmRvdy5zY3JlZW4uZGV2aWNlWERQSSE9PWEmJndpbmRvdy5zY3JlZW4ubG9naWNhbFhEUEkhPT1hJiZ3aW5kb3cuc2NyZWVuLmRldmljZVhEUEk+d2luZG93LnNjcmVlbi5sb2dpY2FsWERQST9iPXdpbmRvdy5zY3JlZW4uc3lzdGVtWERQSS93aW5kb3cuc2NyZWVuLmxvZ2ljYWxYRFBJOndpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIT09YSYmKGI9d2luZG93LmRldmljZVBpeGVsUmF0aW8pLGJ9LHNpZ21hLnV0aWxzLmdldFdpZHRoPWZ1bmN0aW9uKGIpe3ZhciBjPWIudGFyZ2V0Lm93bmVyU1ZHRWxlbWVudD9iLnRhcmdldC5vd25lclNWR0VsZW1lbnQud2lkdGg6Yi50YXJnZXQud2lkdGg7cmV0dXJuIm51bWJlciI9PXR5cGVvZiBjJiZjfHxjIT09YSYmYy5iYXNlVmFsIT09YSYmYy5iYXNlVmFsLnZhbHVlfSxzaWdtYS51dGlscy5nZXRDZW50ZXI9ZnVuY3Rpb24oYSl7dmFyIGI9LTEhPT1hLnRhcmdldC5uYW1lc3BhY2VVUkkuaW5kZXhPZigic3ZnIik/MTpzaWdtYS51dGlscy5nZXRQaXhlbFJhdGlvKCk7cmV0dXJue3g6c2lnbWEudXRpbHMuZ2V0V2lkdGgoYSkvKDIqYikseTpzaWdtYS51dGlscy5nZXRIZWlnaHQoYSkvKDIqYil9fSxzaWdtYS51dGlscy5tb3VzZUNvb3Jkcz1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIGI9Ynx8c2lnbWEudXRpbHMuZ2V0WChhKSxjPWN8fHNpZ21hLnV0aWxzLmdldFkoYSkse3g6Yi1zaWdtYS51dGlscy5nZXRDZW50ZXIoYSkueCx5OmMtc2lnbWEudXRpbHMuZ2V0Q2VudGVyKGEpLnksY2xpZW50WDphLmNsaWVudFgsY2xpZW50WTphLmNsaWVudFksY3RybEtleTphLmN0cmxLZXksbWV0YUtleTphLm1ldGFLZXksYWx0S2V5OmEuYWx0S2V5LHNoaWZ0S2V5OmEuc2hpZnRLZXl9fSxzaWdtYS51dGlscy5nZXRIZWlnaHQ9ZnVuY3Rpb24oYil7dmFyIGM9Yi50YXJnZXQub3duZXJTVkdFbGVtZW50P2IudGFyZ2V0Lm93bmVyU1ZHRWxlbWVudC5oZWlnaHQ6Yi50YXJnZXQuaGVpZ2h0O3JldHVybiJudW1iZXIiPT10eXBlb2YgYyYmY3x8YyE9PWEmJmMuYmFzZVZhbCE9PWEmJmMuYmFzZVZhbC52YWx1ZX0sc2lnbWEudXRpbHMuZ2V0RGVsdGE9ZnVuY3Rpb24oYil7cmV0dXJuIGIud2hlZWxEZWx0YSE9PWEmJmIud2hlZWxEZWx0YXx8Yi5kZXRhaWwhPT1hJiYtYi5kZXRhaWx9LHNpZ21hLnV0aWxzLmdldE9mZnNldD1mdW5jdGlvbihhKXtmb3IodmFyIGI9MCxjPTA7YTspYys9cGFyc2VJbnQoYS5vZmZzZXRUb3ApLGIrPXBhcnNlSW50KGEub2Zmc2V0TGVmdCksYT1hLm9mZnNldFBhcmVudDtyZXR1cm57dG9wOmMsbGVmdDpifX0sc2lnbWEudXRpbHMuZG91YmxlQ2xpY2s9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGU9MDthLl9kb3VibGVDbGlja0hhbmRsZXI9YS5fZG91YmxlQ2xpY2tIYW5kbGVyfHx7fSxhLl9kb3VibGVDbGlja0hhbmRsZXJbYl09YS5fZG91YmxlQ2xpY2tIYW5kbGVyW2JdfHxbXSxkPWEuX2RvdWJsZUNsaWNrSGFuZGxlcltiXSxkLnB1c2goZnVuY3Rpb24oYSl7aWYoMj09PSsrZSlyZXR1cm4gZT0wLGMoYSk7MT09PWUmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtlPTB9LHNpZ21hLnNldHRpbmdzLmRvdWJsZUNsaWNrVGltZW91dCl9KSxhLmFkZEV2ZW50TGlzdGVuZXIoYixkW2QubGVuZ3RoLTFdLCExKX0sc2lnbWEudXRpbHMudW5iaW5kRG91YmxlQ2xpY2s9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGMsZD0oYS5fZG91YmxlQ2xpY2tIYW5kbGVyfHx7fSlbYl18fFtdO2M9ZC5wb3AoKTspYS5yZW1vdmVFdmVudExpc3RlbmVyKGIsYyk7ZGVsZXRlKGEuX2RvdWJsZUNsaWNrSGFuZGxlcnx8e30pW2JdfSxzaWdtYS51dGlscy5lYXNpbmdzPXNpZ21hLnV0aWxzLmVhc2luZ3N8fHt9LHNpZ21hLnV0aWxzLmVhc2luZ3MubGluZWFyTm9uZT1mdW5jdGlvbihhKXtyZXR1cm4gYX0sc2lnbWEudXRpbHMuZWFzaW5ncy5xdWFkcmF0aWNJbj1mdW5jdGlvbihhKXtyZXR1cm4gYSphfSxzaWdtYS51dGlscy5lYXNpbmdzLnF1YWRyYXRpY091dD1mdW5jdGlvbihhKXtyZXR1cm4gYSooMi1hKX0sc2lnbWEudXRpbHMuZWFzaW5ncy5xdWFkcmF0aWNJbk91dD1mdW5jdGlvbihhKXtyZXR1cm4oYSo9Mik8MT8uNSphKmE6LS41KigtLWEqKGEtMiktMSl9LHNpZ21hLnV0aWxzLmVhc2luZ3MuY3ViaWNJbj1mdW5jdGlvbihhKXtyZXR1cm4gYSphKmF9LHNpZ21hLnV0aWxzLmVhc2luZ3MuY3ViaWNPdXQ9ZnVuY3Rpb24oYSl7cmV0dXJuLS1hKmEqYSsxfSxzaWdtYS51dGlscy5lYXNpbmdzLmN1YmljSW5PdXQ9ZnVuY3Rpb24oYSl7cmV0dXJuKGEqPTIpPDE/LjUqYSphKmE6LjUqKChhLT0yKSphKmErMil9LHNpZ21hLnV0aWxzLmxvYWRTaGFkZXI9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGUsZj1hLmNyZWF0ZVNoYWRlcihjKTtyZXR1cm4gYS5zaGFkZXJTb3VyY2UoZixiKSxhLmNvbXBpbGVTaGFkZXIoZiksZT1hLmdldFNoYWRlclBhcmFtZXRlcihmLGEuQ09NUElMRV9TVEFUVVMpLGU/ZjooZCYmZCgnRXJyb3IgY29tcGlsaW5nIHNoYWRlciAiJytmKyciOicrYS5nZXRTaGFkZXJJbmZvTG9nKGYpKSxhLmRlbGV0ZVNoYWRlcihmKSxudWxsKX0sc2lnbWEudXRpbHMubG9hZFByb2dyYW09ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZixnLGg9YS5jcmVhdGVQcm9ncmFtKCk7Zm9yKGY9MDtmPGIubGVuZ3RoOysrZilhLmF0dGFjaFNoYWRlcihoLGJbZl0pO2lmKGMpZm9yKGY9MDtmPGMubGVuZ3RoOysrZilhLmJpbmRBdHRyaWJMb2NhdGlvbihoLGxvY2F0aW9ucz9sb2NhdGlvbnNbZl06ZixvcHRfYXR0cmlic1tmXSk7cmV0dXJuIGEubGlua1Byb2dyYW0oaCksZz1hLmdldFByb2dyYW1QYXJhbWV0ZXIoaCxhLkxJTktfU1RBVFVTKSxnP2g6KGUmJmUoIkVycm9yIGluIHByb2dyYW0gbGlua2luZzogIithLmdldFByb2dyYW1JbmZvTG9nKGgpKSxhLmRlbGV0ZVByb2dyYW0oaCksbnVsbCl9LHNpZ21hLnV0aWxzLnBrZygic2lnbWEudXRpbHMubWF0cmljZXMiKSxzaWdtYS51dGlscy5tYXRyaWNlcy50cmFuc2xhdGlvbj1mdW5jdGlvbihhLGIpe3JldHVyblsxLDAsMCwwLDEsMCxhLGIsMV19LHNpZ21hLnV0aWxzLm1hdHJpY2VzLnJvdGF0aW9uPWZ1bmN0aW9uKGEsYil7dmFyIGM9TWF0aC5jb3MoYSksZD1NYXRoLnNpbihhKTtyZXR1cm4gYj9bYywtZCxkLGNdOltjLC1kLDAsZCxjLDAsMCwwLDFdfSxzaWdtYS51dGlscy5tYXRyaWNlcy5zY2FsZT1mdW5jdGlvbihhLGIpe3JldHVybiBiP1thLDAsMCxhXTpbYSwwLDAsMCxhLDAsMCwwLDFdfSxzaWdtYS51dGlscy5tYXRyaWNlcy5tdWx0aXBseT1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9Yz8yOjMsZT1hWzAqZCswXSxmPWFbMCpkKzFdLGc9YVswKmQrMl0saD1hWzEqZCswXSxpPWFbMSpkKzFdLGo9YVsxKmQrMl0saz1hWzIqZCswXSxsPWFbMipkKzFdLG09YVsyKmQrMl0sbj1iWzAqZCswXSxvPWJbMCpkKzFdLHA9YlswKmQrMl0scT1iWzEqZCswXSxyPWJbMSpkKzFdLHM9YlsxKmQrMl0sdD1iWzIqZCswXSx1PWJbMipkKzFdLHY9YlsyKmQrMl07cmV0dXJuIGM/W2UqbitmKnEsZSpvK2YqcixoKm4raSpxLGgqbytpKnJdOltlKm4rZipxK2cqdCxlKm8rZipyK2cqdSxlKnArZipzK2cqdixoKm4raSpxK2oqdCxoKm8raSpyK2oqdSxoKnAraSpzK2oqdixrKm4rbCpxK20qdCxrKm8rbCpyK20qdSxrKnArbCpzK20qdl19fS5jYWxsKHRoaXMpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0Ijt2YXIgYixjPTAsZD1bIm1zIiwibW96Iiwid2Via2l0IiwibyJdO2ZvcihiPTA7YjxkLmxlbmd0aCYmIWEucmVxdWVzdEFuaW1hdGlvbkZyYW1lO2IrKylhLnJlcXVlc3RBbmltYXRpb25GcmFtZT1hW2RbYl0rIlJlcXVlc3RBbmltYXRpb25GcmFtZSJdLGEuY2FuY2VsQW5pbWF0aW9uRnJhbWU9YVtkW2JdKyJDYW5jZWxBbmltYXRpb25GcmFtZSJdfHxhW2RbYl0rIkNhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZSJdO2EucmVxdWVzdEFuaW1hdGlvbkZyYW1lfHwoYS5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU9ZnVuY3Rpb24oYixkKXt2YXIgZT0obmV3IERhdGUpLmdldFRpbWUoKSxmPU1hdGgubWF4KDAsMTYtKGUtYykpLGc9YS5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YihlK2YpfSxmKTtyZXR1cm4gYz1lK2YsZ30pLGEuY2FuY2VsQW5pbWF0aW9uRnJhbWV8fChhLmNhbmNlbEFuaW1hdGlvbkZyYW1lPWZ1bmN0aW9uKGEpe2NsZWFyVGltZW91dChhKX0pLEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kfHwoRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24oYSl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHRoaXMpdGhyb3cgbmV3IFR5cGVFcnJvcigiRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQgLSB3aGF0IGlzIHRyeWluZyB0byBiZSBib3VuZCBpcyBub3QgY2FsbGFibGUiKTt2YXIgYixjLGQ9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLGU9dGhpcztyZXR1cm4gYj1mdW5jdGlvbigpe30sYz1mdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHRoaXMgaW5zdGFuY2VvZiBiJiZhP3RoaXM6YSxkLmNvbmNhdChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpKSl9LGIucHJvdG90eXBlPXRoaXMucHJvdG90eXBlLGMucHJvdG90eXBlPW5ldyBiLGN9KX0odGhpcyksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2lmKCJ1bmRlZmluZWQiPT10eXBlb2Ygc2lnbWEpdGhyb3cic2lnbWEgaXMgbm90IGRlY2xhcmVkIjtzaWdtYS51dGlscy5wa2coInNpZ21hLnNldHRpbmdzIik7dmFyIGI9e2Nsb25lOiEwLGltbXV0YWJsZTohMCx2ZXJib3NlOiExLGNsYXNzUHJlZml4OiJzaWdtYSIsZGVmYXVsdE5vZGVUeXBlOiJkZWYiLGRlZmF1bHRFZGdlVHlwZToiZGVmIixkZWZhdWx0TGFiZWxDb2xvcjoiIzAwMCIsZGVmYXVsdEVkZ2VDb2xvcjoiIzAwMCIsZGVmYXVsdE5vZGVDb2xvcjoiIzAwMCIsZGVmYXVsdExhYmVsU2l6ZToxNCxlZGdlQ29sb3I6InNvdXJjZSIsbWluQXJyb3dTaXplOjAsZm9udDoiYXJpYWwiLGZvbnRTdHlsZToiIixsYWJlbENvbG9yOiJkZWZhdWx0IixsYWJlbFNpemU6ImZpeGVkIixsYWJlbFNpemVSYXRpbzoxLGxhYmVsVGhyZXNob2xkOjgsd2ViZ2xPdmVyc2FtcGxpbmdSYXRpbzoyLGJvcmRlclNpemU6MCxkZWZhdWx0Tm9kZUJvcmRlckNvbG9yOiIjMDAwIixob3ZlckZvbnQ6IiIsc2luZ2xlSG92ZXI6ITAsaG92ZXJGb250U3R5bGU6IiIsbGFiZWxIb3ZlclNoYWRvdzoiZGVmYXVsdCIsbGFiZWxIb3ZlclNoYWRvd0NvbG9yOiIjMDAwIixub2RlSG92ZXJDb2xvcjoibm9kZSIsZGVmYXVsdE5vZGVIb3ZlckNvbG9yOiIjMDAwIixsYWJlbEhvdmVyQkdDb2xvcjoiZGVmYXVsdCIsZGVmYXVsdEhvdmVyTGFiZWxCR0NvbG9yOiIjZmZmIixsYWJlbEhvdmVyQ29sb3I6ImRlZmF1bHQiLGRlZmF1bHRMYWJlbEhvdmVyQ29sb3I6IiMwMDAiLGVkZ2VIb3ZlckNvbG9yOiJlZGdlIixlZGdlSG92ZXJTaXplUmF0aW86MSxkZWZhdWx0RWRnZUhvdmVyQ29sb3I6IiMwMDAiLGVkZ2VIb3ZlckV4dHJlbWl0aWVzOiExLGRyYXdFZGdlczohMCxkcmF3Tm9kZXM6ITAsZHJhd0xhYmVsczohMCxkcmF3RWRnZUxhYmVsczohMSxiYXRjaEVkZ2VzRHJhd2luZzohMSxoaWRlRWRnZXNPbk1vdmU6ITEsY2FudmFzRWRnZXNCYXRjaFNpemU6NTAwLHdlYmdsRWRnZXNCYXRjaFNpemU6MWUzLHNjYWxpbmdNb2RlOiJpbnNpZGUiLHNpZGVNYXJnaW46MCxtaW5FZGdlU2l6ZTouNSxtYXhFZGdlU2l6ZToxLG1pbk5vZGVTaXplOjEsbWF4Tm9kZVNpemU6OCx0b3VjaEVuYWJsZWQ6ITAsbW91c2VFbmFibGVkOiEwLG1vdXNlV2hlZWxFbmFibGVkOiEwLGRvdWJsZUNsaWNrRW5hYmxlZDohMCxldmVudHNFbmFibGVkOiEwLHpvb21pbmdSYXRpbzoxLjcsZG91YmxlQ2xpY2tab29taW5nUmF0aW86Mi4yLHpvb21NaW46LjA2MjUsem9vbU1heDoyLG1vdXNlWm9vbUR1cmF0aW9uOjIwMCxkb3VibGVDbGlja1pvb21EdXJhdGlvbjoyMDAsbW91c2VJbmVydGlhRHVyYXRpb246MjAwLG1vdXNlSW5lcnRpYVJhdGlvOjMsdG91Y2hJbmVydGlhRHVyYXRpb246MjAwLHRvdWNoSW5lcnRpYVJhdGlvOjMsZG91YmxlQ2xpY2tUaW1lb3V0OjMwMCxkb3VibGVUYXBUaW1lb3V0OjMwMCxkcmFnVGltZW91dDoyMDAsYXV0b1Jlc2l6ZTohMCxhdXRvUmVzY2FsZTohMCxlbmFibGVDYW1lcmE6ITAsZW5hYmxlSG92ZXJpbmc6ITAsZW5hYmxlRWRnZUhvdmVyaW5nOiExLGVkZ2VIb3ZlclByZWNpc2lvbjo1LHJlc2NhbGVJZ25vcmVTaXplOiExLHNraXBFcnJvcnM6ITEsbm9kZXNQb3dSYXRpbzouNSxlZGdlc1Bvd1JhdGlvOi41LGFuaW1hdGlvbnNUaW1lOjIwMH07c2lnbWEuc2V0dGluZ3M9c2lnbWEudXRpbHMuZXh0ZW5kKHNpZ21hLnNldHRpbmdzfHx7fSxiKX0uY2FsbCh0aGlzKSxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0Ijt2YXIgYT1mdW5jdGlvbigpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCJfaGFuZGxlcnMiLHt2YWx1ZTp7fX0pfTthLnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGY7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgmJiJvYmplY3QiPT10eXBlb2YgYXJndW1lbnRzWzBdKWZvcihhIGluIGFyZ3VtZW50c1swXSl0aGlzLmJpbmQoYSxhcmd1bWVudHNbMF1bYV0pO2Vsc2V7aWYoMiE9PWFyZ3VtZW50cy5sZW5ndGh8fCJmdW5jdGlvbiIhPXR5cGVvZiBhcmd1bWVudHNbMV0pdGhyb3ciYmluZDogV3JvbmcgYXJndW1lbnRzLiI7Zm9yKGY9InN0cmluZyI9PXR5cGVvZiBhP2Euc3BsaXQoIiAiKTphLGM9MCxkPWYubGVuZ3RoO2MhPT1kO2MrPTEpKGU9ZltjXSkmJih0aGlzLl9oYW5kbGVyc1tlXXx8KHRoaXMuX2hhbmRsZXJzW2VdPVtdKSx0aGlzLl9oYW5kbGVyc1tlXS5wdXNoKHtoYW5kbGVyOmJ9KSl9cmV0dXJuIHRoaXN9LGEucHJvdG90eXBlLnVuYmluZD1mdW5jdGlvbihhLGIpe3ZhciBjLGQsZSxmLGcsaCxpLGo9InN0cmluZyI9PXR5cGVvZiBhP2Euc3BsaXQoIiAiKTphO2lmKCFhcmd1bWVudHMubGVuZ3RoKXtmb3IoZyBpbiB0aGlzLl9oYW5kbGVycylkZWxldGUgdGhpcy5faGFuZGxlcnNbZ107cmV0dXJuIHRoaXN9aWYoYilmb3IoYz0wLGQ9ai5sZW5ndGg7YyE9PWQ7Yys9MSl7aWYoaT1qW2NdLHRoaXMuX2hhbmRsZXJzW2ldKXtmb3IoaD1bXSxlPTAsZj10aGlzLl9oYW5kbGVyc1tpXS5sZW5ndGg7ZSE9PWY7ZSs9MSl0aGlzLl9oYW5kbGVyc1tpXVtlXS5oYW5kbGVyIT09YiYmaC5wdXNoKHRoaXMuX2hhbmRsZXJzW2ldW2VdKTt0aGlzLl9oYW5kbGVyc1tpXT1ofXRoaXMuX2hhbmRsZXJzW2ldJiYwPT09dGhpcy5faGFuZGxlcnNbaV0ubGVuZ3RoJiZkZWxldGUgdGhpcy5faGFuZGxlcnNbaV19ZWxzZSBmb3IoYz0wLGQ9ai5sZW5ndGg7YyE9PWQ7Yys9MSlkZWxldGUgdGhpcy5faGFuZGxlcnNbaltjXV07cmV0dXJuIHRoaXN9LGEucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQ9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGUsZixnLGgsaSxqPXRoaXMsaz0ic3RyaW5nIj09dHlwZW9mIGE/YS5zcGxpdCgiICIpOmE7Zm9yKGI9dm9pZCAwPT09Yj97fTpiLGM9MCxkPWsubGVuZ3RoO2MhPT1kO2MrPTEpaWYoaT1rW2NdLHRoaXMuX2hhbmRsZXJzW2ldKXtmb3IoaD1qLmdldEV2ZW50KGksYiksZz1bXSxlPTAsZj10aGlzLl9oYW5kbGVyc1tpXS5sZW5ndGg7ZSE9PWY7ZSs9MSl0aGlzLl9oYW5kbGVyc1tpXVtlXS5oYW5kbGVyKGgpLHRoaXMuX2hhbmRsZXJzW2ldW2VdLm9uZXx8Zy5wdXNoKHRoaXMuX2hhbmRsZXJzW2ldW2VdKTt0aGlzLl9oYW5kbGVyc1tpXT1nfXJldHVybiB0aGlzfSxhLnByb3RvdHlwZS5nZXRFdmVudD1mdW5jdGlvbihhLGIpe3JldHVybnt0eXBlOmEsZGF0YTpifHx7fSx0YXJnZXQ6dGhpc319LGEuZXh0ZW5kPWZ1bmN0aW9uKGIsYyl7dmFyIGQ7Zm9yKGQgaW4gYS5wcm90b3R5cGUpYS5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkoZCkmJihiW2RdPWEucHJvdG90eXBlW2RdKTthLmFwcGx5KGIsYyl9LHZvaWQgMCE9PXRoaXMuc2lnbWE/KHRoaXMuc2lnbWEuY2xhc3Nlcz10aGlzLnNpZ21hLmNsYXNzZXN8fHt9LHRoaXMuc2lnbWEuY2xhc3Nlcy5kaXNwYXRjaGVyPWEpOiJ1bmRlZmluZWQiIT10eXBlb2YgZXhwb3J0cz8oInVuZGVmaW5lZCIhPXR5cGVvZiBtb2R1bGUmJm1vZHVsZS5leHBvcnRzJiYoZXhwb3J0cz1tb2R1bGUuZXhwb3J0cz1hKSxleHBvcnRzLmRpc3BhdGNoZXI9YSk6dGhpcy5kaXNwYXRjaGVyPWF9LmNhbGwodGhpcyksZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7dmFyIGE9ZnVuY3Rpb24oKXt2YXIgYixjLGQ9e30sZT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMCksZj1mdW5jdGlvbihhLGIpe3ZhciBjLGcsaCxpO3tpZigxIT09YXJndW1lbnRzLmxlbmd0aHx8InN0cmluZyIhPXR5cGVvZiBhKXtpZigib2JqZWN0Ij09dHlwZW9mIGEmJiJzdHJpbmciPT10eXBlb2YgYilyZXR1cm4gdm9pZCAwIT09KGF8fHt9KVtiXT9hW2JdOmYoYik7Zm9yKGM9Im9iamVjdCI9PXR5cGVvZiBhJiZ2b2lkIDA9PT1iP2E6e30sInN0cmluZyI9PXR5cGVvZiBhJiYoY1thXT1iKSxnPTAsaT1PYmplY3Qua2V5cyhjKSxoPWkubGVuZ3RoO2c8aDtnKyspZFtpW2ddXT1jW2lbZ11dO3JldHVybiB0aGlzfWlmKHZvaWQgMCE9PWRbYV0pcmV0dXJuIGRbYV07Zm9yKGc9MCxoPWUubGVuZ3RoO2c8aDtnKyspaWYodm9pZCAwIT09ZVtnXVthXSlyZXR1cm4gZVtnXVthXX19O2ZvcihmLmVtYmVkT2JqZWN0cz1mdW5jdGlvbigpe3ZhciBiPWUuY29uY2F0KGQpLmNvbmNhdChBcnJheS5wcm90b3R5cGUuc3BsaWNlLmNhbGwoYXJndW1lbnRzLDApKTtyZXR1cm4gYS5hcHBseSh7fSxiKX0sYj0wLGM9YXJndW1lbnRzLmxlbmd0aDtiPGM7YisrKWYoYXJndW1lbnRzW2JdKTtyZXR1cm4gZn07dm9pZCAwIT09dGhpcy5zaWdtYT8odGhpcy5zaWdtYS5jbGFzc2VzPXRoaXMuc2lnbWEuY2xhc3Nlc3x8e30sdGhpcy5zaWdtYS5jbGFzc2VzLmNvbmZpZ3VyYWJsZT1hKToidW5kZWZpbmVkIiE9dHlwZW9mIGV4cG9ydHM/KCJ1bmRlZmluZWQiIT10eXBlb2YgbW9kdWxlJiZtb2R1bGUuZXhwb3J0cyYmKGV4cG9ydHM9bW9kdWxlLmV4cG9ydHM9YSksZXhwb3J0cy5jb25maWd1cmFibGU9YSk6dGhpcy5jb25maWd1cmFibGU9YX0uY2FsbCh0aGlzKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhLGIsYyl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGQsZTtmb3IoZCBpbiBoW2FdKWhbYV1bZF0uYXBwbHkoYixhcmd1bWVudHMpO2U9Yy5hcHBseShiLGFyZ3VtZW50cyk7Zm9yKGQgaW4gZ1thXSlnW2FdW2RdLmFwcGx5KGIsYXJndW1lbnRzKTtyZXR1cm4gZX19ZnVuY3Rpb24gYyhhKXt2YXIgYjtmb3IoYiBpbiBhKSJoYXNPd25Qcm9wZXJ0eSJpbiBhJiYhYS5oYXNPd25Qcm9wZXJ0eShiKXx8ZGVsZXRlIGFbYl07cmV0dXJuIGF9dmFyIGQ9T2JqZWN0LmNyZWF0ZShudWxsKSxlPU9iamVjdC5jcmVhdGUobnVsbCksZj1PYmplY3QuY3JlYXRlKG51bGwpLGc9T2JqZWN0LmNyZWF0ZShudWxsKSxoPU9iamVjdC5jcmVhdGUobnVsbCksaT17aW1tdXRhYmxlOiEwLGNsb25lOiEwfSxqPWZ1bmN0aW9uKGEpe3JldHVybiBpW2FdfSxrPWZ1bmN0aW9uKGEpe3ZhciBjLGUsZztnPXtzZXR0aW5nczphfHxqLG5vZGVzQXJyYXk6W10sZWRnZXNBcnJheTpbXSxub2Rlc0luZGV4Ok9iamVjdC5jcmVhdGUobnVsbCksZWRnZXNJbmRleDpPYmplY3QuY3JlYXRlKG51bGwpLGluTmVpZ2hib3JzSW5kZXg6T2JqZWN0LmNyZWF0ZShudWxsKSxvdXROZWlnaGJvcnNJbmRleDpPYmplY3QuY3JlYXRlKG51bGwpLGFsbE5laWdoYm9yc0luZGV4Ok9iamVjdC5jcmVhdGUobnVsbCksaW5OZWlnaGJvcnNDb3VudDpPYmplY3QuY3JlYXRlKG51bGwpLG91dE5laWdoYm9yc0NvdW50Ok9iamVjdC5jcmVhdGUobnVsbCksYWxsTmVpZ2hib3JzQ291bnQ6T2JqZWN0LmNyZWF0ZShudWxsKX07Zm9yKGMgaW4gZilmW2NdLmNhbGwoZyk7Zm9yKGMgaW4gZCllPWIoYyxnLGRbY10pLHRoaXNbY109ZSxnW2NdPWV9O2suYWRkTWV0aG9kPWZ1bmN0aW9uKGEsYil7aWYoInN0cmluZyIhPXR5cGVvZiBhfHwiZnVuY3Rpb24iIT10eXBlb2YgYnx8MiE9PWFyZ3VtZW50cy5sZW5ndGgpdGhyb3ciYWRkTWV0aG9kOiBXcm9uZyBhcmd1bWVudHMuIjtpZihkW2FdfHxrW2FdKXRocm93J1RoZSBtZXRob2QgIicrYSsnIiBhbHJlYWR5IGV4aXN0cy4nO3JldHVybiBkW2FdPWIsZ1thXT1PYmplY3QuY3JlYXRlKG51bGwpLGhbYV09T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzfSxrLmhhc01ldGhvZD1mdW5jdGlvbihhKXtyZXR1cm4hKCFkW2FdJiYha1thXSl9LGsuYXR0YWNoPWZ1bmN0aW9uKGEsYixjLGQpe2lmKCJzdHJpbmciIT10eXBlb2YgYXx8InN0cmluZyIhPXR5cGVvZiBifHwiZnVuY3Rpb24iIT10eXBlb2YgY3x8YXJndW1lbnRzLmxlbmd0aDwzfHxhcmd1bWVudHMubGVuZ3RoPjQpdGhyb3ciYXR0YWNoOiBXcm9uZyBhcmd1bWVudHMuIjt2YXIgZTtpZigiY29uc3RydWN0b3IiPT09YSllPWY7ZWxzZSBpZihkKXtpZighaFthXSl0aHJvdydUaGUgbWV0aG9kICInK2ErJyIgZG9lcyBub3QgZXhpc3QuJztlPWhbYV19ZWxzZXtpZighZ1thXSl0aHJvdydUaGUgbWV0aG9kICInK2ErJyIgZG9lcyBub3QgZXhpc3QuJztlPWdbYV19aWYoZVtiXSl0aHJvdydBIGZ1bmN0aW9uICInK2IrJyIgaXMgYWxyZWFkeSBhdHRhY2hlZCB0byB0aGUgbWV0aG9kICInK2ErJyIuJztyZXR1cm4gZVtiXT1jLHRoaXN9LGsuYXR0YWNoQmVmb3JlPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gdGhpcy5hdHRhY2goYSxiLGMsITApfSxrLmFkZEluZGV4PWZ1bmN0aW9uKGEsYil7aWYoInN0cmluZyIhPXR5cGVvZiBhfHxPYmplY3QoYikhPT1ifHwyIT09YXJndW1lbnRzLmxlbmd0aCl0aHJvdyJhZGRJbmRleDogV3JvbmcgYXJndW1lbnRzLiI7aWYoZVthXSl0aHJvdydUaGUgaW5kZXggIicrYSsnIiBhbHJlYWR5IGV4aXN0cy4nO3ZhciBjO2VbYV09Yjtmb3IoYyBpbiBiKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgYltjXSl0aHJvdyJUaGUgYmluZGluZ3MgbXVzdCBiZSBmdW5jdGlvbnMuIjtrLmF0dGFjaChjLGEsYltjXSl9cmV0dXJuIHRoaXN9LGsuYWRkTWV0aG9kKCJhZGROb2RlIixmdW5jdGlvbihhKXtpZihPYmplY3QoYSkhPT1hfHwxIT09YXJndW1lbnRzLmxlbmd0aCl0aHJvdyJhZGROb2RlOiBXcm9uZyBhcmd1bWVudHMuIjtpZigic3RyaW5nIiE9dHlwZW9mIGEuaWQmJiJudW1iZXIiIT10eXBlb2YgYS5pZCl0aHJvdyJUaGUgbm9kZSBtdXN0IGhhdmUgYSBzdHJpbmcgb3IgbnVtYmVyIGlkLiI7aWYodGhpcy5ub2Rlc0luZGV4W2EuaWRdKXRocm93J1RoZSBub2RlICInK2EuaWQrJyIgYWxyZWFkeSBleGlzdHMuJzt2YXIgYixjPWEuaWQsZD1PYmplY3QuY3JlYXRlKG51bGwpO2lmKHRoaXMuc2V0dGluZ3MoImNsb25lIikpZm9yKGIgaW4gYSkiaWQiIT09YiYmKGRbYl09YVtiXSk7ZWxzZSBkPWE7cmV0dXJuIHRoaXMuc2V0dGluZ3MoImltbXV0YWJsZSIpP09iamVjdC5kZWZpbmVQcm9wZXJ0eShkLCJpZCIse3ZhbHVlOmMsZW51bWVyYWJsZTohMH0pOmQuaWQ9Yyx0aGlzLmluTmVpZ2hib3JzSW5kZXhbY109T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLm91dE5laWdoYm9yc0luZGV4W2NdPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5hbGxOZWlnaGJvcnNJbmRleFtjXT1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMuaW5OZWlnaGJvcnNDb3VudFtjXT0wLHRoaXMub3V0TmVpZ2hib3JzQ291bnRbY109MCx0aGlzLmFsbE5laWdoYm9yc0NvdW50W2NdPTAsdGhpcy5ub2Rlc0FycmF5LnB1c2goZCksdGhpcy5ub2Rlc0luZGV4W2QuaWRdPWQsdGhpc30pLGsuYWRkTWV0aG9kKCJhZGRFZGdlIixmdW5jdGlvbihhKXtpZihPYmplY3QoYSkhPT1hfHwxIT09YXJndW1lbnRzLmxlbmd0aCl0aHJvdyJhZGRFZGdlOiBXcm9uZyBhcmd1bWVudHMuIjtpZigic3RyaW5nIiE9dHlwZW9mIGEuaWQmJiJudW1iZXIiIT10eXBlb2YgYS5pZCl0aHJvdyJUaGUgZWRnZSBtdXN0IGhhdmUgYSBzdHJpbmcgb3IgbnVtYmVyIGlkLiI7aWYoInN0cmluZyIhPXR5cGVvZiBhLnNvdXJjZSYmIm51bWJlciIhPXR5cGVvZiBhLnNvdXJjZXx8IXRoaXMubm9kZXNJbmRleFthLnNvdXJjZV0pdGhyb3ciVGhlIGVkZ2Ugc291cmNlIG11c3QgaGF2ZSBhbiBleGlzdGluZyBub2RlIGlkLiI7aWYoInN0cmluZyIhPXR5cGVvZiBhLnRhcmdldCYmIm51bWJlciIhPXR5cGVvZiBhLnRhcmdldHx8IXRoaXMubm9kZXNJbmRleFthLnRhcmdldF0pdGhyb3ciVGhlIGVkZ2UgdGFyZ2V0IG11c3QgaGF2ZSBhbiBleGlzdGluZyBub2RlIGlkLiI7aWYodGhpcy5lZGdlc0luZGV4W2EuaWRdKXRocm93J1RoZSBlZGdlICInK2EuaWQrJyIgYWxyZWFkeSBleGlzdHMuJzt2YXIgYixjPU9iamVjdC5jcmVhdGUobnVsbCk7aWYodGhpcy5zZXR0aW5ncygiY2xvbmUiKSlmb3IoYiBpbiBhKSJpZCIhPT1iJiYic291cmNlIiE9PWImJiJ0YXJnZXQiIT09YiYmKGNbYl09YVtiXSk7ZWxzZSBjPWE7cmV0dXJuIHRoaXMuc2V0dGluZ3MoImltbXV0YWJsZSIpPyhPYmplY3QuZGVmaW5lUHJvcGVydHkoYywiaWQiLHt2YWx1ZTphLmlkLGVudW1lcmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoYywic291cmNlIix7dmFsdWU6YS5zb3VyY2UsZW51bWVyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjLCJ0YXJnZXQiLHt2YWx1ZTphLnRhcmdldCxlbnVtZXJhYmxlOiEwfSkpOihjLmlkPWEuaWQsYy5zb3VyY2U9YS5zb3VyY2UsYy50YXJnZXQ9YS50YXJnZXQpLHRoaXMuZWRnZXNBcnJheS5wdXNoKGMpLHRoaXMuZWRnZXNJbmRleFtjLmlkXT1jLHRoaXMuaW5OZWlnaGJvcnNJbmRleFtjLnRhcmdldF1bYy5zb3VyY2VdfHwodGhpcy5pbk5laWdoYm9yc0luZGV4W2MudGFyZ2V0XVtjLnNvdXJjZV09T2JqZWN0LmNyZWF0ZShudWxsKSksdGhpcy5pbk5laWdoYm9yc0luZGV4W2MudGFyZ2V0XVtjLnNvdXJjZV1bYy5pZF09Yyx0aGlzLm91dE5laWdoYm9yc0luZGV4W2Muc291cmNlXVtjLnRhcmdldF18fCh0aGlzLm91dE5laWdoYm9yc0luZGV4W2Muc291cmNlXVtjLnRhcmdldF09T2JqZWN0LmNyZWF0ZShudWxsKSksdGhpcy5vdXROZWlnaGJvcnNJbmRleFtjLnNvdXJjZV1bYy50YXJnZXRdW2MuaWRdPWMsdGhpcy5hbGxOZWlnaGJvcnNJbmRleFtjLnNvdXJjZV1bYy50YXJnZXRdfHwodGhpcy5hbGxOZWlnaGJvcnNJbmRleFtjLnNvdXJjZV1bYy50YXJnZXRdPU9iamVjdC5jcmVhdGUobnVsbCkpLHRoaXMuYWxsTmVpZ2hib3JzSW5kZXhbYy5zb3VyY2VdW2MudGFyZ2V0XVtjLmlkXT1jLGMudGFyZ2V0IT09Yy5zb3VyY2UmJih0aGlzLmFsbE5laWdoYm9yc0luZGV4W2MudGFyZ2V0XVtjLnNvdXJjZV18fCh0aGlzLmFsbE5laWdoYm9yc0luZGV4W2MudGFyZ2V0XVtjLnNvdXJjZV09T2JqZWN0LmNyZWF0ZShudWxsKSksdGhpcy5hbGxOZWlnaGJvcnNJbmRleFtjLnRhcmdldF1bYy5zb3VyY2VdW2MuaWRdPWMpLHRoaXMuaW5OZWlnaGJvcnNDb3VudFtjLnRhcmdldF0rKyx0aGlzLm91dE5laWdoYm9yc0NvdW50W2Muc291cmNlXSsrLHRoaXMuYWxsTmVpZ2hib3JzQ291bnRbYy50YXJnZXRdKyssdGhpcy5hbGxOZWlnaGJvcnNDb3VudFtjLnNvdXJjZV0rKyx0aGlzfSksay5hZGRNZXRob2QoImRyb3BOb2RlIixmdW5jdGlvbihhKXtpZigic3RyaW5nIiE9dHlwZW9mIGEmJiJudW1iZXIiIT10eXBlb2YgYXx8MSE9PWFyZ3VtZW50cy5sZW5ndGgpdGhyb3ciZHJvcE5vZGU6IFdyb25nIGFyZ3VtZW50cy4iO2lmKCF0aGlzLm5vZGVzSW5kZXhbYV0pdGhyb3cnVGhlIG5vZGUgIicrYSsnIiBkb2VzIG5vdCBleGlzdC4nO3ZhciBiLGMsZDtmb3IoZGVsZXRlIHRoaXMubm9kZXNJbmRleFthXSxiPTAsZD10aGlzLm5vZGVzQXJyYXkubGVuZ3RoO2I8ZDtiKyspaWYodGhpcy5ub2Rlc0FycmF5W2JdLmlkPT09YSl7dGhpcy5ub2Rlc0FycmF5LnNwbGljZShiLDEpO2JyZWFrfWZvcihiPXRoaXMuZWRnZXNBcnJheS5sZW5ndGgtMTtiPj0wO2ItLSl0aGlzLmVkZ2VzQXJyYXlbYl0uc291cmNlIT09YSYmdGhpcy5lZGdlc0FycmF5W2JdLnRhcmdldCE9PWF8fHRoaXMuZHJvcEVkZ2UodGhpcy5lZGdlc0FycmF5W2JdLmlkKTtkZWxldGUgdGhpcy5pbk5laWdoYm9yc0luZGV4W2FdLGRlbGV0ZSB0aGlzLm91dE5laWdoYm9yc0luZGV4W2FdLGRlbGV0ZSB0aGlzLmFsbE5laWdoYm9yc0luZGV4W2FdLGRlbGV0ZSB0aGlzLmluTmVpZ2hib3JzQ291bnRbYV0sZGVsZXRlIHRoaXMub3V0TmVpZ2hib3JzQ291bnRbYV0sZGVsZXRlIHRoaXMuYWxsTmVpZ2hib3JzQ291bnRbYV07Zm9yKGMgaW4gdGhpcy5ub2Rlc0luZGV4KWRlbGV0ZSB0aGlzLmluTmVpZ2hib3JzSW5kZXhbY11bYV0sZGVsZXRlIHRoaXMub3V0TmVpZ2hib3JzSW5kZXhbY11bYV0sZGVsZXRlIHRoaXMuYWxsTmVpZ2hib3JzSW5kZXhbY11bYV07cmV0dXJuIHRoaXN9KSxrLmFkZE1ldGhvZCgiZHJvcEVkZ2UiLGZ1bmN0aW9uKGEpe2lmKCJzdHJpbmciIT10eXBlb2YgYSYmIm51bWJlciIhPXR5cGVvZiBhfHwxIT09YXJndW1lbnRzLmxlbmd0aCl0aHJvdyJkcm9wRWRnZTogV3JvbmcgYXJndW1lbnRzLiI7aWYoIXRoaXMuZWRnZXNJbmRleFthXSl0aHJvdydUaGUgZWRnZSAiJythKyciIGRvZXMgbm90IGV4aXN0Lic7dmFyIGIsYyxkO2ZvcihkPXRoaXMuZWRnZXNJbmRleFthXSxkZWxldGUgdGhpcy5lZGdlc0luZGV4W2FdLGI9MCxjPXRoaXMuZWRnZXNBcnJheS5sZW5ndGg7YjxjO2IrKylpZih0aGlzLmVkZ2VzQXJyYXlbYl0uaWQ9PT1hKXt0aGlzLmVkZ2VzQXJyYXkuc3BsaWNlKGIsMSk7YnJlYWt9cmV0dXJuIGRlbGV0ZSB0aGlzLmluTmVpZ2hib3JzSW5kZXhbZC50YXJnZXRdW2Quc291cmNlXVtkLmlkXSxPYmplY3Qua2V5cyh0aGlzLmluTmVpZ2hib3JzSW5kZXhbZC50YXJnZXRdW2Quc291cmNlXSkubGVuZ3RofHxkZWxldGUgdGhpcy5pbk5laWdoYm9yc0luZGV4W2QudGFyZ2V0XVtkLnNvdXJjZV0sZGVsZXRlIHRoaXMub3V0TmVpZ2hib3JzSW5kZXhbZC5zb3VyY2VdW2QudGFyZ2V0XVtkLmlkXSxPYmplY3Qua2V5cyh0aGlzLm91dE5laWdoYm9yc0luZGV4W2Quc291cmNlXVtkLnRhcmdldF0pLmxlbmd0aHx8ZGVsZXRlIHRoaXMub3V0TmVpZ2hib3JzSW5kZXhbZC5zb3VyY2VdW2QudGFyZ2V0XSxkZWxldGUgdGhpcy5hbGxOZWlnaGJvcnNJbmRleFtkLnNvdXJjZV1bZC50YXJnZXRdW2QuaWRdLE9iamVjdC5rZXlzKHRoaXMuYWxsTmVpZ2hib3JzSW5kZXhbZC5zb3VyY2VdW2QudGFyZ2V0XSkubGVuZ3RofHxkZWxldGUgdGhpcy5hbGxOZWlnaGJvcnNJbmRleFtkLnNvdXJjZV1bZC50YXJnZXRdLGQudGFyZ2V0IT09ZC5zb3VyY2UmJihkZWxldGUgdGhpcy5hbGxOZWlnaGJvcnNJbmRleFtkLnRhcmdldF1bZC5zb3VyY2VdW2QuaWRdLE9iamVjdC5rZXlzKHRoaXMuYWxsTmVpZ2hib3JzSW5kZXhbZC50YXJnZXRdW2Quc291cmNlXSkubGVuZ3RofHxkZWxldGUgdGhpcy5hbGxOZWlnaGJvcnNJbmRleFtkLnRhcmdldF1bZC5zb3VyY2VdKSx0aGlzLmluTmVpZ2hib3JzQ291bnRbZC50YXJnZXRdLS0sdGhpcy5vdXROZWlnaGJvcnNDb3VudFtkLnNvdXJjZV0tLSx0aGlzLmFsbE5laWdoYm9yc0NvdW50W2Quc291cmNlXS0tLHRoaXMuYWxsTmVpZ2hib3JzQ291bnRbZC50YXJnZXRdLS0sdGhpc30pLGsuYWRkTWV0aG9kKCJraWxsIixmdW5jdGlvbigpe3RoaXMubm9kZXNBcnJheS5sZW5ndGg9MCx0aGlzLmVkZ2VzQXJyYXkubGVuZ3RoPTAsZGVsZXRlIHRoaXMubm9kZXNBcnJheSxkZWxldGUgdGhpcy5lZGdlc0FycmF5LGRlbGV0ZSB0aGlzLm5vZGVzSW5kZXgsZGVsZXRlIHRoaXMuZWRnZXNJbmRleCxkZWxldGUgdGhpcy5pbk5laWdoYm9yc0luZGV4LGRlbGV0ZSB0aGlzLm91dE5laWdoYm9yc0luZGV4LGRlbGV0ZSB0aGlzLmFsbE5laWdoYm9yc0luZGV4LGRlbGV0ZSB0aGlzLmluTmVpZ2hib3JzQ291bnQsZGVsZXRlIHRoaXMub3V0TmVpZ2hib3JzQ291bnQsZGVsZXRlIHRoaXMuYWxsTmVpZ2hib3JzQ291bnR9KSxrLmFkZE1ldGhvZCgiY2xlYXIiLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubm9kZXNBcnJheS5sZW5ndGg9MCx0aGlzLmVkZ2VzQXJyYXkubGVuZ3RoPTAsYyh0aGlzLm5vZGVzSW5kZXgpLGModGhpcy5lZGdlc0luZGV4KSxjKHRoaXMubm9kZXNJbmRleCksYyh0aGlzLmluTmVpZ2hib3JzSW5kZXgpLGModGhpcy5vdXROZWlnaGJvcnNJbmRleCksYyh0aGlzLmFsbE5laWdoYm9yc0luZGV4KSxjKHRoaXMuaW5OZWlnaGJvcnNDb3VudCksYyh0aGlzLm91dE5laWdoYm9yc0NvdW50KSxjKHRoaXMuYWxsTmVpZ2hib3JzQ291bnQpLHRoaXN9KSxrLmFkZE1ldGhvZCgicmVhZCIsZnVuY3Rpb24oYSl7dmFyIGIsYyxkO2ZvcihjPWEubm9kZXN8fFtdLGI9MCxkPWMubGVuZ3RoO2I8ZDtiKyspdGhpcy5hZGROb2RlKGNbYl0pO2ZvcihjPWEuZWRnZXN8fFtdLGI9MCxkPWMubGVuZ3RoO2I8ZDtiKyspdGhpcy5hZGRFZGdlKGNbYl0pO3JldHVybiB0aGlzfSksay5hZGRNZXRob2QoIm5vZGVzIixmdW5jdGlvbihhKXtpZighYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdGhpcy5ub2Rlc0FycmF5LnNsaWNlKDApO2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoJiYoInN0cmluZyI9PXR5cGVvZiBhfHwibnVtYmVyIj09dHlwZW9mIGEpKXJldHVybiB0aGlzLm5vZGVzSW5kZXhbYV07aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgmJiJbb2JqZWN0IEFycmF5XSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYSkpe3ZhciBiLGMsZD1bXTtmb3IoYj0wLGM9YS5sZW5ndGg7YjxjO2IrKyl7aWYoInN0cmluZyIhPXR5cGVvZiBhW2JdJiYibnVtYmVyIiE9dHlwZW9mIGFbYl0pdGhyb3cibm9kZXM6IFdyb25nIGFyZ3VtZW50cy4iO2QucHVzaCh0aGlzLm5vZGVzSW5kZXhbYVtiXV0pfXJldHVybiBkfXRocm93Im5vZGVzOiBXcm9uZyBhcmd1bWVudHMuIn0pLGsuYWRkTWV0aG9kKCJkZWdyZWUiLGZ1bmN0aW9uKGEsYil7aWYoYj17aW46dGhpcy5pbk5laWdoYm9yc0NvdW50LG91dDp0aGlzLm91dE5laWdoYm9yc0NvdW50fVtifHwiIl18fHRoaXMuYWxsTmVpZ2hib3JzQ291bnQsInN0cmluZyI9PXR5cGVvZiBhfHwibnVtYmVyIj09dHlwZW9mIGEpcmV0dXJuIGJbYV07aWYoIltvYmplY3QgQXJyYXldIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhKSl7dmFyIGMsZCxlPVtdO2ZvcihjPTAsZD1hLmxlbmd0aDtjPGQ7YysrKXtpZigic3RyaW5nIiE9dHlwZW9mIGFbY10mJiJudW1iZXIiIT10eXBlb2YgYVtjXSl0aHJvdyJkZWdyZWU6IFdyb25nIGFyZ3VtZW50cy4iO2UucHVzaChiW2FbY11dKX1yZXR1cm4gZX10aHJvdyJkZWdyZWU6IFdyb25nIGFyZ3VtZW50cy4ifSksay5hZGRNZXRob2QoImVkZ2VzIixmdW5jdGlvbihhKXtpZighYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdGhpcy5lZGdlc0FycmF5LnNsaWNlKDApO2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoJiYoInN0cmluZyI9PXR5cGVvZiBhfHwibnVtYmVyIj09dHlwZW9mIGEpKXJldHVybiB0aGlzLmVkZ2VzSW5kZXhbYV07aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgmJiJbb2JqZWN0IEFycmF5XSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYSkpe3ZhciBiLGMsZD1bXTtmb3IoYj0wLGM9YS5sZW5ndGg7YjxjO2IrKyl7aWYoInN0cmluZyIhPXR5cGVvZiBhW2JdJiYibnVtYmVyIiE9dHlwZW9mIGFbYl0pdGhyb3ciZWRnZXM6IFdyb25nIGFyZ3VtZW50cy4iO2QucHVzaCh0aGlzLmVkZ2VzSW5kZXhbYVtiXV0pfXJldHVybiBkfXRocm93ImVkZ2VzOiBXcm9uZyBhcmd1bWVudHMuIn0pLCJ1bmRlZmluZWQiIT10eXBlb2Ygc2lnbWE/KHNpZ21hLmNsYXNzZXM9c2lnbWEuY2xhc3Nlc3x8T2JqZWN0LmNyZWF0ZShudWxsKSxzaWdtYS5jbGFzc2VzLmdyYXBoPWspOiJ1bmRlZmluZWQiIT10eXBlb2YgZXhwb3J0cz8oInVuZGVmaW5lZCIhPXR5cGVvZiBtb2R1bGUmJm1vZHVsZS5leHBvcnRzJiYoZXhwb3J0cz1tb2R1bGUuZXhwb3J0cz1rKSxleHBvcnRzLmdyYXBoPWspOnRoaXMuZ3JhcGg9a30uY2FsbCh0aGlzKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBzaWdtYSl0aHJvdyJzaWdtYSBpcyBub3QgZGVjbGFyZWQiO3NpZ21hLnV0aWxzLnBrZygic2lnbWEuY2xhc3NlcyIpLHNpZ21hLmNsYXNzZXMuY2FtZXJhPWZ1bmN0aW9uKGEsYixjLGQpe3NpZ21hLmNsYXNzZXMuZGlzcGF0Y2hlci5leHRlbmQodGhpcyksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsImdyYXBoIix7dmFsdWU6Yn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCJpZCIse3ZhbHVlOmF9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywicmVhZFByZWZpeCIse3ZhbHVlOiJyZWFkX2NhbSIrYSsiOiJ9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywicHJlZml4Iix7dmFsdWU6ImNhbSIrYSsiOiJ9KSx0aGlzLng9MCx0aGlzLnk9MCx0aGlzLnJhdGlvPTEsdGhpcy5hbmdsZT0wLHRoaXMuaXNBbmltYXRlZD0hMSx0aGlzLnNldHRpbmdzPSJvYmplY3QiPT10eXBlb2YgZCYmZD9jLmVtYmVkT2JqZWN0KGQpOmN9LHNpZ21hLmNsYXNzZXMuY2FtZXJhLnByb3RvdHlwZS5nb1RvPWZ1bmN0aW9uKGIpe2lmKCF0aGlzLnNldHRpbmdzKCJlbmFibGVDYW1lcmEiKSlyZXR1cm4gdGhpczt2YXIgYyxkLGU9Ynx8e30sZj1bIngiLCJ5IiwicmF0aW8iLCJhbmdsZSJdO2ZvcihjPTAsZD1mLmxlbmd0aDtjPGQ7YysrKWlmKGVbZltjXV0hPT1hKXtpZigibnVtYmVyIiE9dHlwZW9mIGVbZltjXV18fGlzTmFOKGVbZltjXV0pKXRocm93J1ZhbHVlIGZvciAiJytmW2NdKyciIGlzIG5vdCBhIG51bWJlci4nO3RoaXNbZltjXV09ZVtmW2NdXX1yZXR1cm4gdGhpcy5kaXNwYXRjaEV2ZW50KCJjb29yZGluYXRlc1VwZGF0ZWQiKSx0aGlzfSxzaWdtYS5jbGFzc2VzLmNhbWVyYS5wcm90b3R5cGUuYXBwbHlWaWV3PWZ1bmN0aW9uKGIsYyxkKXtkPWR8fHt9LGM9YyE9PWE/Yzp0aGlzLnByZWZpeCxiPWIhPT1hP2I6dGhpcy5yZWFkUHJlZml4O3ZhciBlLGYsZyxoPWQubm9kZXN8fHRoaXMuZ3JhcGgubm9kZXMoKSxpPWQuZWRnZXN8fHRoaXMuZ3JhcGguZWRnZXMoKSxqPU1hdGguY29zKHRoaXMuYW5nbGUpL3RoaXMucmF0aW8saz1NYXRoLnNpbih0aGlzLmFuZ2xlKS90aGlzLnJhdGlvLGw9TWF0aC5wb3codGhpcy5yYXRpbyx0aGlzLnNldHRpbmdzKCJub2Rlc1Bvd1JhdGlvIikpLG09TWF0aC5wb3codGhpcy5yYXRpbyx0aGlzLnNldHRpbmdzKCJlZGdlc1Bvd1JhdGlvIikpLG49KGQud2lkdGh8fDApLzItdGhpcy54KmotdGhpcy55Kmssbz0oZC5oZWlnaHR8fDApLzItdGhpcy55KmordGhpcy54Kms7Zm9yKGU9MCxmPWgubGVuZ3RoO2U8ZjtlKyspZz1oW2VdLGdbYysieCJdPShnW2IrIngiXXx8MCkqaisoZ1tiKyJ5Il18fDApKmsrbixnW2MrInkiXT0oZ1tiKyJ5Il18fDApKmotKGdbYisieCJdfHwwKSprK28sZ1tjKyJzaXplIl09KGdbYisic2l6ZSJdfHwwKS9sO2ZvcihlPTAsZj1pLmxlbmd0aDtlPGY7ZSsrKWlbZV1bYysic2l6ZSJdPShpW2VdW2IrInNpemUiXXx8MCkvbTtyZXR1cm4gdGhpc30sc2lnbWEuY2xhc3Nlcy5jYW1lcmEucHJvdG90eXBlLmdyYXBoUG9zaXRpb249ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPTAsZT0wLGY9TWF0aC5jb3ModGhpcy5hbmdsZSksZz1NYXRoLnNpbih0aGlzLmFuZ2xlKTtyZXR1cm4gY3x8KGQ9LSh0aGlzLngqZit0aGlzLnkqZykvdGhpcy5yYXRpbyxlPS0odGhpcy55KmYtdGhpcy54KmcpL3RoaXMucmF0aW8pLHt4OihhKmYrYipnKS90aGlzLnJhdGlvK2QseTooYipmLWEqZykvdGhpcy5yYXRpbytlfX0sc2lnbWEuY2xhc3Nlcy5jYW1lcmEucHJvdG90eXBlLmNhbWVyYVBvc2l0aW9uPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD0wLGU9MCxmPU1hdGguY29zKHRoaXMuYW5nbGUpLGc9TWF0aC5zaW4odGhpcy5hbmdsZSk7cmV0dXJuIGN8fChkPS0odGhpcy54KmYrdGhpcy55KmcpL3RoaXMucmF0aW8sZT0tKHRoaXMueSpmLXRoaXMueCpnKS90aGlzLnJhdGlvKSx7eDooKGEtZCkqZi0oYi1lKSpnKSp0aGlzLnJhdGlvLHk6KChiLWUpKmYrKGEtZCkqZykqdGhpcy5yYXRpb319LHNpZ21hLmNsYXNzZXMuY2FtZXJhLnByb3RvdHlwZS5nZXRNYXRyaXg9ZnVuY3Rpb24oKXt2YXIgYT1zaWdtYS51dGlscy5tYXRyaWNlcy5zY2FsZSgxL3RoaXMucmF0aW8pLGI9c2lnbWEudXRpbHMubWF0cmljZXMucm90YXRpb24odGhpcy5hbmdsZSksYz1zaWdtYS51dGlscy5tYXRyaWNlcy50cmFuc2xhdGlvbigtdGhpcy54LC10aGlzLnkpO3JldHVybiBzaWdtYS51dGlscy5tYXRyaWNlcy5tdWx0aXBseShjLHNpZ21hLnV0aWxzLm1hdHJpY2VzLm11bHRpcGx5KGIsYSkpfSxzaWdtYS5jbGFzc2VzLmNhbWVyYS5wcm90b3R5cGUuZ2V0UmVjdGFuZ2xlPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5jYW1lcmFQb3NpdGlvbihhLDAsITApLGQ9dGhpcy5jYW1lcmFQb3NpdGlvbigwLGIsITApLGU9dGhpcy5jYW1lcmFQb3NpdGlvbihhLzIsYi8yLCEwKSxmPXRoaXMuY2FtZXJhUG9zaXRpb24oYS80LDAsITApLngsZz10aGlzLmNhbWVyYVBvc2l0aW9uKDAsYi80LCEwKS55O3JldHVybnt4MTp0aGlzLngtZS54LWYseTE6dGhpcy55LWUueS1nLHgyOnRoaXMueC1lLngrZitjLngseTI6dGhpcy55LWUueS1nK2MueSxoZWlnaHQ6TWF0aC5zcXJ0KE1hdGgucG93KGQueCwyKStNYXRoLnBvdyhkLnkrMipnLDIpKX19fS5jYWxsKHRoaXMpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEsYil7dmFyIGM9Yi54K2Iud2lkdGgvMixkPWIueStiLmhlaWdodC8yLGU9YS55PGQsZj1hLng8YztyZXR1cm4gZT9mPzA6MTpmPzI6M31mdW5jdGlvbiBjKGEsYil7Zm9yKHZhciBjPVtdLGQ9MDtkPDQ7ZCsrKWEueDI+PWJbZF1bMF0ueCYmYS54MTw9YltkXVsxXS54JiZhLnkxK2EuaGVpZ2h0Pj1iW2RdWzBdLnkmJmEueTE8PWJbZF1bMl0ueSYmYy5wdXNoKGQpO3JldHVybiBjfWZ1bmN0aW9uIGQoYSxiKXtmb3IodmFyIGM9W10sZD0wO2Q8NDtkKyspai5jb2xsaXNpb24oYSxiW2RdKSYmYy5wdXNoKGQpO3JldHVybiBjfWZ1bmN0aW9uIGUoYSxiKXt2YXIgYyxkLGU9Yi5sZXZlbCsxLGY9TWF0aC5yb3VuZChiLmJvdW5kcy53aWR0aC8yKSxnPU1hdGgucm91bmQoYi5ib3VuZHMuaGVpZ2h0LzIpLGg9TWF0aC5yb3VuZChiLmJvdW5kcy54KSxqPU1hdGgucm91bmQoYi5ib3VuZHMueSk7c3dpdGNoKGEpe2Nhc2UgMDpjPWgsZD1qO2JyZWFrO2Nhc2UgMTpjPWgrZixkPWo7YnJlYWs7Y2FzZSAyOmM9aCxkPWorZzticmVhaztjYXNlIDM6Yz1oK2YsZD1qK2d9cmV0dXJuIGkoe3g6Yyx5OmQsd2lkdGg6ZixoZWlnaHQ6Z30sZSxiLm1heEVsZW1lbnRzLGIubWF4TGV2ZWwpfWZ1bmN0aW9uIGYoYixkLGcpe2lmKGcubGV2ZWw8Zy5tYXhMZXZlbClmb3IodmFyIGg9YyhkLGcuY29ybmVycyksaT0wLGo9aC5sZW5ndGg7aTxqO2krKylnLm5vZGVzW2hbaV1dPT09YSYmKGcubm9kZXNbaFtpXV09ZShoW2ldLGcpKSxmKGIsZCxnLm5vZGVzW2hbaV1dKTtlbHNlIGcuZWxlbWVudHMucHVzaChiKX1mdW5jdGlvbiBnKGMsZCl7aWYoZC5sZXZlbDxkLm1heExldmVsKXt2YXIgZT1iKGMsZC5ib3VuZHMpO3JldHVybiBkLm5vZGVzW2VdIT09YT9nKGMsZC5ub2Rlc1tlXSk6W119cmV0dXJuIGQuZWxlbWVudHN9ZnVuY3Rpb24gaChiLGMsZCxlKXtpZihlPWV8fHt9LGMubGV2ZWw8Yy5tYXhMZXZlbClmb3IodmFyIGY9ZChiLGMuY29ybmVycyksZz0wLGk9Zi5sZW5ndGg7ZzxpO2crKyljLm5vZGVzW2ZbZ11dIT09YSYmaChiLGMubm9kZXNbZltnXV0sZCxlKTtlbHNlIGZvcih2YXIgaj0wLGs9Yy5lbGVtZW50cy5sZW5ndGg7ajxrO2orKyllW2MuZWxlbWVudHNbal0uaWRdPT09YSYmKGVbYy5lbGVtZW50c1tqXS5pZF09Yy5lbGVtZW50c1tqXSk7cmV0dXJuIGV9ZnVuY3Rpb24gaShhLGIsYyxkKXtyZXR1cm57bGV2ZWw6Ynx8MCxib3VuZHM6YSxjb3JuZXJzOmouc3BsaXRTcXVhcmUoYSksbWF4RWxlbWVudHM6Y3x8MjAsbWF4TGV2ZWw6ZHx8NCxlbGVtZW50czpbXSxub2RlczpbXX19dmFyIGo9e3BvaW50VG9TcXVhcmU6ZnVuY3Rpb24oYSl7cmV0dXJue3gxOmEueC1hLnNpemUseTE6YS55LWEuc2l6ZSx4MjphLngrYS5zaXplLHkyOmEueS1hLnNpemUsaGVpZ2h0OjIqYS5zaXplfX0saXNBeGlzQWxpZ25lZDpmdW5jdGlvbihhKXtyZXR1cm4gYS54MT09PWEueDJ8fGEueTE9PT1hLnkyfSxheGlzQWxpZ25lZFRvcFBvaW50czpmdW5jdGlvbihhKXtyZXR1cm4gYS55MT09PWEueTImJmEueDE8YS54Mj9hOmEueDE9PT1hLngyJiZhLnkyPmEueTE/e3gxOmEueDEtYS5oZWlnaHQseTE6YS55MSx4MjphLngxLHkyOmEueTEsaGVpZ2h0OmEuaGVpZ2h0fTphLngxPT09YS54MiYmYS55MjxhLnkxP3t4MTphLngxLHkxOmEueTIseDI6YS54MithLmhlaWdodCx5MjphLnkyLGhlaWdodDphLmhlaWdodH06e3gxOmEueDIseTE6YS55MS1hLmhlaWdodCx4MjphLngxLHkyOmEueTEtYS5oZWlnaHQsaGVpZ2h0OmEuaGVpZ2h0fX0sbG93ZXJMZWZ0Q29vcjpmdW5jdGlvbihhKXt2YXIgYj1NYXRoLnNxcnQoTWF0aC5wb3coYS54Mi1hLngxLDIpK01hdGgucG93KGEueTItYS55MSwyKSk7cmV0dXJue3g6YS54MS0oYS55Mi1hLnkxKSphLmhlaWdodC9iLHk6YS55MSsoYS54Mi1hLngxKSphLmhlaWdodC9ifX0sbG93ZXJSaWdodENvb3I6ZnVuY3Rpb24oYSxiKXtyZXR1cm57eDpiLngtYS54MSthLngyLHk6Yi55LWEueTErYS55Mn19LHJlY3RhbmdsZUNvcm5lcnM6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5sb3dlckxlZnRDb29yKGEpLGM9dGhpcy5sb3dlclJpZ2h0Q29vcihhLGIpO3JldHVyblt7eDphLngxLHk6YS55MX0se3g6YS54Mix5OmEueTJ9LHt4OmIueCx5OmIueX0se3g6Yy54LHk6Yy55fV19LHNwbGl0U3F1YXJlOmZ1bmN0aW9uKGEpe3JldHVybltbe3g6YS54LHk6YS55fSx7eDphLngrYS53aWR0aC8yLHk6YS55fSx7eDphLngseTphLnkrYS5oZWlnaHQvMn0se3g6YS54K2Eud2lkdGgvMix5OmEueSthLmhlaWdodC8yfV0sW3t4OmEueCthLndpZHRoLzIseTphLnl9LHt4OmEueCthLndpZHRoLHk6YS55fSx7eDphLngrYS53aWR0aC8yLHk6YS55K2EuaGVpZ2h0LzJ9LHt4OmEueCthLndpZHRoLHk6YS55K2EuaGVpZ2h0LzJ9XSxbe3g6YS54LHk6YS55K2EuaGVpZ2h0LzJ9LHt4OmEueCthLndpZHRoLzIseTphLnkrYS5oZWlnaHQvMn0se3g6YS54LHk6YS55K2EuaGVpZ2h0fSx7eDphLngrYS53aWR0aC8yLHk6YS55K2EuaGVpZ2h0fV0sW3t4OmEueCthLndpZHRoLzIseTphLnkrYS5oZWlnaHQvMn0se3g6YS54K2Eud2lkdGgseTphLnkrYS5oZWlnaHQvMn0se3g6YS54K2Eud2lkdGgvMix5OmEueSthLmhlaWdodH0se3g6YS54K2Eud2lkdGgseTphLnkrYS5oZWlnaHR9XV19LGF4aXM6ZnVuY3Rpb24oYSxiKXtyZXR1cm5be3g6YVsxXS54LWFbMF0ueCx5OmFbMV0ueS1hWzBdLnl9LHt4OmFbMV0ueC1hWzNdLngseTphWzFdLnktYVszXS55fSx7eDpiWzBdLngtYlsyXS54LHk6YlswXS55LWJbMl0ueX0se3g6YlswXS54LWJbMV0ueCx5OmJbMF0ueS1iWzFdLnl9XX0scHJvamVjdGlvbjpmdW5jdGlvbihhLGIpe3ZhciBjPShhLngqYi54K2EueSpiLnkpLyhNYXRoLnBvdyhiLngsMikrTWF0aC5wb3coYi55LDIpKTtyZXR1cm57eDpjKmIueCx5OmMqYi55fX0sYXhpc0NvbGxpc2lvbjpmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPVtdLGU9W10sZj0wO2Y8NDtmKyspe3ZhciBnPXRoaXMucHJvamVjdGlvbihiW2ZdLGEpLGg9dGhpcy5wcm9qZWN0aW9uKGNbZl0sYSk7ZC5wdXNoKGcueCphLngrZy55KmEueSksZS5wdXNoKGgueCphLngraC55KmEueSl9dmFyIGk9TWF0aC5tYXguYXBwbHkoTWF0aCxkKSxqPU1hdGgubWF4LmFwcGx5KE1hdGgsZSksaz1NYXRoLm1pbi5hcHBseShNYXRoLGQpO3JldHVybiBNYXRoLm1pbi5hcHBseShNYXRoLGUpPD1pJiZqPj1rfSxjb2xsaXNpb246ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9dGhpcy5heGlzKGEsYiksZD0hMCxlPTA7ZTw0O2UrKylkPWQmJnRoaXMuYXhpc0NvbGxpc2lvbihjW2VdLGEsYik7cmV0dXJuIGR9fSxrPWZ1bmN0aW9uKCl7dGhpcy5fZ2VvbT1qLHRoaXMuX3RyZWU9bnVsbCx0aGlzLl9jYWNoZT17cXVlcnk6ITEscmVzdWx0OiExfX07ay5wcm90b3R5cGUuaW5kZXg9ZnVuY3Rpb24oYSxiKXtpZighYi5ib3VuZHMpdGhyb3cic2lnbWEuY2xhc3Nlcy5xdWFkLmluZGV4OiBib3VuZHMgaW5mb3JtYXRpb24gbm90IGdpdmVuLiI7dmFyIGM9Yi5wcmVmaXh8fCIiO3RoaXMuX3RyZWU9aShiLmJvdW5kcywwLGIubWF4RWxlbWVudHMsYi5tYXhMZXZlbCk7Zm9yKHZhciBkPTAsZT1hLmxlbmd0aDtkPGU7ZCsrKWYoYVtkXSxqLnBvaW50VG9TcXVhcmUoe3g6YVtkXVtjKyJ4Il0seTphW2RdW2MrInkiXSxzaXplOmFbZF1bYysic2l6ZSJdfSksdGhpcy5fdHJlZSk7cmV0dXJuIHRoaXMuX2NhY2hlPXtxdWVyeTohMSxyZXN1bHQ6ITF9LHRoaXMuX3RyZWV9LGsucHJvdG90eXBlLnBvaW50PWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuX3RyZWU/Zyh7eDphLHk6Yn0sdGhpcy5fdHJlZSl8fFtdOltdfSxrLnByb3RvdHlwZS5hcmVhPWZ1bmN0aW9uKGEpe3ZhciBiLGUsZj1KU09OLnN0cmluZ2lmeShhKTtpZih0aGlzLl9jYWNoZS5xdWVyeT09PWYpcmV0dXJuIHRoaXMuX2NhY2hlLnJlc3VsdDtqLmlzQXhpc0FsaWduZWQoYSk/KGI9YyxlPWouYXhpc0FsaWduZWRUb3BQb2ludHMoYSkpOihiPWQsZT1qLnJlY3RhbmdsZUNvcm5lcnMoYSkpO3ZhciBnPXRoaXMuX3RyZWU/aChlLHRoaXMuX3RyZWUsYik6W10saT1bXTtmb3IodmFyIGsgaW4gZylpLnB1c2goZ1trXSk7cmV0dXJuIHRoaXMuX2NhY2hlLnF1ZXJ5PWYsdGhpcy5fY2FjaGUucmVzdWx0PWksaX0sdm9pZCAwIT09dGhpcy5zaWdtYT8odGhpcy5zaWdtYS5jbGFzc2VzPXRoaXMuc2lnbWEuY2xhc3Nlc3x8e30sdGhpcy5zaWdtYS5jbGFzc2VzLnF1YWQ9ayk6InVuZGVmaW5lZCIhPXR5cGVvZiBleHBvcnRzPygidW5kZWZpbmVkIiE9dHlwZW9mIG1vZHVsZSYmbW9kdWxlLmV4cG9ydHMmJihleHBvcnRzPW1vZHVsZS5leHBvcnRzPWspLGV4cG9ydHMucXVhZD1rKTp0aGlzLnF1YWQ9a30uY2FsbCh0aGlzKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhLGIpe3ZhciBjPWIueCtiLndpZHRoLzIsZD1iLnkrYi5oZWlnaHQvMixlPWEueTxkLGY9YS54PGM7cmV0dXJuIGU/Zj8wOjE6Zj8yOjN9ZnVuY3Rpb24gYyhhLGIpe2Zvcih2YXIgYz1bXSxkPTA7ZDw0O2QrKylhLngyPj1iW2RdWzBdLngmJmEueDE8PWJbZF1bMV0ueCYmYS55MSthLmhlaWdodD49YltkXVswXS55JiZhLnkxPD1iW2RdWzJdLnkmJmMucHVzaChkKTtyZXR1cm4gY31mdW5jdGlvbiBkKGEsYil7Zm9yKHZhciBjPVtdLGQ9MDtkPDQ7ZCsrKWouY29sbGlzaW9uKGEsYltkXSkmJmMucHVzaChkKTtyZXR1cm4gY31mdW5jdGlvbiBlKGEsYil7dmFyIGMsZCxlPWIubGV2ZWwrMSxmPU1hdGgucm91bmQoYi5ib3VuZHMud2lkdGgvMiksZz1NYXRoLnJvdW5kKGIuYm91bmRzLmhlaWdodC8yKSxoPU1hdGgucm91bmQoYi5ib3VuZHMueCksaj1NYXRoLnJvdW5kKGIuYm91bmRzLnkpO3N3aXRjaChhKXtjYXNlIDA6Yz1oLGQ9ajticmVhaztjYXNlIDE6Yz1oK2YsZD1qO2JyZWFrO2Nhc2UgMjpjPWgsZD1qK2c7YnJlYWs7Y2FzZSAzOmM9aCtmLGQ9aitnfXJldHVybiBpKHt4OmMseTpkLHdpZHRoOmYsaGVpZ2h0Omd9LGUsYi5tYXhFbGVtZW50cyxiLm1heExldmVsKX1mdW5jdGlvbiBmKGIsZCxnKXtpZihnLmxldmVsPGcubWF4TGV2ZWwpZm9yKHZhciBoPWMoZCxnLmNvcm5lcnMpLGk9MCxqPWgubGVuZ3RoO2k8ajtpKyspZy5ub2Rlc1toW2ldXT09PWEmJihnLm5vZGVzW2hbaV1dPWUoaFtpXSxnKSksZihiLGQsZy5ub2Rlc1toW2ldXSk7ZWxzZSBnLmVsZW1lbnRzLnB1c2goYil9ZnVuY3Rpb24gZyhjLGQpe2lmKGQubGV2ZWw8ZC5tYXhMZXZlbCl7dmFyIGU9YihjLGQuYm91bmRzKTtyZXR1cm4gZC5ub2Rlc1tlXSE9PWE/ZyhjLGQubm9kZXNbZV0pOltdfXJldHVybiBkLmVsZW1lbnRzfWZ1bmN0aW9uIGgoYixjLGQsZSl7aWYoZT1lfHx7fSxjLmxldmVsPGMubWF4TGV2ZWwpZm9yKHZhciBmPWQoYixjLmNvcm5lcnMpLGc9MCxpPWYubGVuZ3RoO2c8aTtnKyspYy5ub2Rlc1tmW2ddXSE9PWEmJmgoYixjLm5vZGVzW2ZbZ11dLGQsZSk7ZWxzZSBmb3IodmFyIGo9MCxrPWMuZWxlbWVudHMubGVuZ3RoO2o8aztqKyspZVtjLmVsZW1lbnRzW2pdLmlkXT09PWEmJihlW2MuZWxlbWVudHNbal0uaWRdPWMuZWxlbWVudHNbal0pO3JldHVybiBlfWZ1bmN0aW9uIGkoYSxiLGMsZCl7cmV0dXJue2xldmVsOmJ8fDAsYm91bmRzOmEsY29ybmVyczpqLnNwbGl0U3F1YXJlKGEpLG1heEVsZW1lbnRzOmN8fDQwLG1heExldmVsOmR8fDgsZWxlbWVudHM6W10sbm9kZXM6W119fXZhciBqPXtwb2ludFRvU3F1YXJlOmZ1bmN0aW9uKGEpe3JldHVybnt4MTphLngtYS5zaXplLHkxOmEueS1hLnNpemUseDI6YS54K2Euc2l6ZSx5MjphLnktYS5zaXplLGhlaWdodDoyKmEuc2l6ZX19LGxpbmVUb1NxdWFyZTpmdW5jdGlvbihhKXtyZXR1cm4gYS55MTxhLnkyP2EueDE8YS54Mj97eDE6YS54MS1hLnNpemUseTE6YS55MS1hLnNpemUseDI6YS54MithLnNpemUseTI6YS55MS1hLnNpemUsaGVpZ2h0OmEueTItYS55MSsyKmEuc2l6ZX06e3gxOmEueDItYS5zaXplLHkxOmEueTEtYS5zaXplLHgyOmEueDErYS5zaXplLHkyOmEueTEtYS5zaXplLGhlaWdodDphLnkyLWEueTErMiphLnNpemV9OmEueDE8YS54Mj97eDE6YS54MS1hLnNpemUseTE6YS55Mi1hLnNpemUseDI6YS54MithLnNpemUseTI6YS55Mi1hLnNpemUsaGVpZ2h0OmEueTEtYS55MisyKmEuc2l6ZX06e3gxOmEueDItYS5zaXplLHkxOmEueTItYS5zaXplLHgyOmEueDErYS5zaXplLHkyOmEueTItYS5zaXplLGhlaWdodDphLnkxLWEueTIrMiphLnNpemV9fSxxdWFkcmF0aWNDdXJ2ZVRvU3F1YXJlOmZ1bmN0aW9uKGEsYil7dmFyIGM9c2lnbWEudXRpbHMuZ2V0UG9pbnRPblF1YWRyYXRpY0N1cnZlKC41LGEueDEsYS55MSxhLngyLGEueTIsYi54LGIueSksZD1NYXRoLm1pbihhLngxLGEueDIsYy54KSxlPU1hdGgubWF4KGEueDEsYS54MixjLngpLGY9TWF0aC5taW4oYS55MSxhLnkyLGMueSksZz1NYXRoLm1heChhLnkxLGEueTIsYy55KTtyZXR1cm57eDE6ZC1hLnNpemUseTE6Zi1hLnNpemUseDI6ZSthLnNpemUseTI6Zi1hLnNpemUsaGVpZ2h0OmctZisyKmEuc2l6ZX19LHNlbGZMb29wVG9TcXVhcmU6ZnVuY3Rpb24oYSl7dmFyIGI9c2lnbWEudXRpbHMuZ2V0U2VsZkxvb3BDb250cm9sUG9pbnRzKGEueCxhLnksYS5zaXplKSxjPU1hdGgubWluKGEueCxiLngxLGIueDIpLGQ9TWF0aC5tYXgoYS54LGIueDEsYi54MiksZT1NYXRoLm1pbihhLnksYi55MSxiLnkyKSxmPU1hdGgubWF4KGEueSxiLnkxLGIueTIpO3JldHVybnt4MTpjLWEuc2l6ZSx5MTplLWEuc2l6ZSx4MjpkK2Euc2l6ZSx5MjplLWEuc2l6ZSxoZWlnaHQ6Zi1lKzIqYS5zaXplfX0saXNBeGlzQWxpZ25lZDpmdW5jdGlvbihhKXtyZXR1cm4gYS54MT09PWEueDJ8fGEueTE9PT1hLnkyfSxheGlzQWxpZ25lZFRvcFBvaW50czpmdW5jdGlvbihhKXtyZXR1cm4gYS55MT09PWEueTImJmEueDE8YS54Mj9hOmEueDE9PT1hLngyJiZhLnkyPmEueTE/e3gxOmEueDEtYS5oZWlnaHQseTE6YS55MSx4MjphLngxLHkyOmEueTEsaGVpZ2h0OmEuaGVpZ2h0fTphLngxPT09YS54MiYmYS55MjxhLnkxP3t4MTphLngxLHkxOmEueTIseDI6YS54MithLmhlaWdodCx5MjphLnkyLGhlaWdodDphLmhlaWdodH06e3gxOmEueDIseTE6YS55MS1hLmhlaWdodCx4MjphLngxLHkyOmEueTEtYS5oZWlnaHQsaGVpZ2h0OmEuaGVpZ2h0fX0sbG93ZXJMZWZ0Q29vcjpmdW5jdGlvbihhKXt2YXIgYj1NYXRoLnNxcnQoTWF0aC5wb3coYS54Mi1hLngxLDIpK01hdGgucG93KGEueTItYS55MSwyKSk7cmV0dXJue3g6YS54MS0oYS55Mi1hLnkxKSphLmhlaWdodC9iLHk6YS55MSsoYS54Mi1hLngxKSphLmhlaWdodC9ifX0sbG93ZXJSaWdodENvb3I6ZnVuY3Rpb24oYSxiKXtyZXR1cm57eDpiLngtYS54MSthLngyLHk6Yi55LWEueTErYS55Mn19LHJlY3RhbmdsZUNvcm5lcnM6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5sb3dlckxlZnRDb29yKGEpLGM9dGhpcy5sb3dlclJpZ2h0Q29vcihhLGIpO3JldHVyblt7eDphLngxLHk6YS55MX0se3g6YS54Mix5OmEueTJ9LHt4OmIueCx5OmIueX0se3g6Yy54LHk6Yy55fV19LHNwbGl0U3F1YXJlOmZ1bmN0aW9uKGEpe3JldHVybltbe3g6YS54LHk6YS55fSx7eDphLngrYS53aWR0aC8yLHk6YS55fSx7eDphLngseTphLnkrYS5oZWlnaHQvMn0se3g6YS54K2Eud2lkdGgvMix5OmEueSthLmhlaWdodC8yfV0sW3t4OmEueCthLndpZHRoLzIseTphLnl9LHt4OmEueCthLndpZHRoLHk6YS55fSx7eDphLngrYS53aWR0aC8yLHk6YS55K2EuaGVpZ2h0LzJ9LHt4OmEueCthLndpZHRoLHk6YS55K2EuaGVpZ2h0LzJ9XSxbe3g6YS54LHk6YS55K2EuaGVpZ2h0LzJ9LHt4OmEueCthLndpZHRoLzIseTphLnkrYS5oZWlnaHQvMn0se3g6YS54LHk6YS55K2EuaGVpZ2h0fSx7eDphLngrYS53aWR0aC8yLHk6YS55K2EuaGVpZ2h0fV0sW3t4OmEueCthLndpZHRoLzIseTphLnkrYS5oZWlnaHQvMn0se3g6YS54K2Eud2lkdGgseTphLnkrYS5oZWlnaHQvMn0se3g6YS54K2Eud2lkdGgvMix5OmEueSthLmhlaWdodH0se3g6YS54K2Eud2lkdGgseTphLnkrYS5oZWlnaHR9XV19LGF4aXM6ZnVuY3Rpb24oYSxiKXtyZXR1cm5be3g6YVsxXS54LWFbMF0ueCx5OmFbMV0ueS1hWzBdLnl9LHt4OmFbMV0ueC1hWzNdLngseTphWzFdLnktYVszXS55fSx7eDpiWzBdLngtYlsyXS54LHk6YlswXS55LWJbMl0ueX0se3g6YlswXS54LWJbMV0ueCx5OmJbMF0ueS1iWzFdLnl9XX0scHJvamVjdGlvbjpmdW5jdGlvbihhLGIpe3ZhciBjPShhLngqYi54K2EueSpiLnkpLyhNYXRoLnBvdyhiLngsMikrTWF0aC5wb3coYi55LDIpKTtyZXR1cm57eDpjKmIueCx5OmMqYi55fX0sYXhpc0NvbGxpc2lvbjpmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPVtdLGU9W10sZj0wO2Y8NDtmKyspe3ZhciBnPXRoaXMucHJvamVjdGlvbihiW2ZdLGEpLGg9dGhpcy5wcm9qZWN0aW9uKGNbZl0sYSk7ZC5wdXNoKGcueCphLngrZy55KmEueSksZS5wdXNoKGgueCphLngraC55KmEueSl9dmFyIGk9TWF0aC5tYXguYXBwbHkoTWF0aCxkKSxqPU1hdGgubWF4LmFwcGx5KE1hdGgsZSksaz1NYXRoLm1pbi5hcHBseShNYXRoLGQpO3JldHVybiBNYXRoLm1pbi5hcHBseShNYXRoLGUpPD1pJiZqPj1rfSxjb2xsaXNpb246ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9dGhpcy5heGlzKGEsYiksZD0hMCxlPTA7ZTw0O2UrKylkPWQmJnRoaXMuYXhpc0NvbGxpc2lvbihjW2VdLGEsYik7cmV0dXJuIGR9fSxrPWZ1bmN0aW9uKCl7dGhpcy5fZ2VvbT1qLHRoaXMuX3RyZWU9bnVsbCx0aGlzLl9jYWNoZT17cXVlcnk6ITEscmVzdWx0OiExfSx0aGlzLl9lbmFibGVkPSEwfTtrLnByb3RvdHlwZS5pbmRleD1mdW5jdGlvbihhLGIpe2lmKCF0aGlzLl9lbmFibGVkKXJldHVybiB0aGlzLl90cmVlO2lmKCFiLmJvdW5kcyl0aHJvdyJzaWdtYS5jbGFzc2VzLmVkZ2VxdWFkLmluZGV4OiBib3VuZHMgaW5mb3JtYXRpb24gbm90IGdpdmVuLiI7dmFyIGMsZCxlLGcsaCxrPWIucHJlZml4fHwiIjt0aGlzLl90cmVlPWkoYi5ib3VuZHMsMCxiLm1heEVsZW1lbnRzLGIubWF4TGV2ZWwpO2Zvcih2YXIgbD1hLmVkZ2VzKCksbT0wLG49bC5sZW5ndGg7bTxuO20rKylkPWEubm9kZXMobFttXS5zb3VyY2UpLGU9YS5ub2RlcyhsW21dLnRhcmdldCksaD17eDE6ZFtrKyJ4Il0seTE6ZFtrKyJ5Il0seDI6ZVtrKyJ4Il0seTI6ZVtrKyJ5Il0sc2l6ZTpsW21dW2srInNpemUiXXx8MH0sImN1cnZlIj09PWxbbV0udHlwZXx8ImN1cnZlZEFycm93Ij09PWxbbV0udHlwZT9kLmlkPT09ZS5pZD8oZz17eDpkW2srIngiXSx5OmRbaysieSJdLHNpemU6ZFtrKyJzaXplIl18fDB9LGYobFttXSxqLnNlbGZMb29wVG9TcXVhcmUoZyksdGhpcy5fdHJlZSkpOihjPXNpZ21hLnV0aWxzLmdldFF1YWRyYXRpY0NvbnRyb2xQb2ludChoLngxLGgueTEsaC54MixoLnkyKSxmKGxbbV0sai5xdWFkcmF0aWNDdXJ2ZVRvU3F1YXJlKGgsYyksdGhpcy5fdHJlZSkpOmYobFttXSxqLmxpbmVUb1NxdWFyZShoKSx0aGlzLl90cmVlKTtyZXR1cm4gdGhpcy5fY2FjaGU9e3F1ZXJ5OiExLHJlc3VsdDohMX0sdGhpcy5fdHJlZX0say5wcm90b3R5cGUucG9pbnQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5fZW5hYmxlZCYmdGhpcy5fdHJlZT9nKHt4OmEseTpifSx0aGlzLl90cmVlKXx8W106W119LGsucHJvdG90eXBlLmFyZWE9ZnVuY3Rpb24oYSl7aWYoIXRoaXMuX2VuYWJsZWQpcmV0dXJuW107dmFyIGIsZSxmPUpTT04uc3RyaW5naWZ5KGEpO2lmKHRoaXMuX2NhY2hlLnF1ZXJ5PT09ZilyZXR1cm4gdGhpcy5fY2FjaGUucmVzdWx0O2ouaXNBeGlzQWxpZ25lZChhKT8oYj1jLGU9ai5heGlzQWxpZ25lZFRvcFBvaW50cyhhKSk6KGI9ZCxlPWoucmVjdGFuZ2xlQ29ybmVycyhhKSk7dmFyIGc9dGhpcy5fdHJlZT9oKGUsdGhpcy5fdHJlZSxiKTpbXSxpPVtdO2Zvcih2YXIgayBpbiBnKWkucHVzaChnW2tdKTtyZXR1cm4gdGhpcy5fY2FjaGUucXVlcnk9Zix0aGlzLl9jYWNoZS5yZXN1bHQ9aSxpfSx2b2lkIDAhPT10aGlzLnNpZ21hPyh0aGlzLnNpZ21hLmNsYXNzZXM9dGhpcy5zaWdtYS5jbGFzc2VzfHx7fSx0aGlzLnNpZ21hLmNsYXNzZXMuZWRnZXF1YWQ9ayk6InVuZGVmaW5lZCIhPXR5cGVvZiBleHBvcnRzPygidW5kZWZpbmVkIiE9dHlwZW9mIG1vZHVsZSYmbW9kdWxlLmV4cG9ydHMmJihleHBvcnRzPW1vZHVsZS5leHBvcnRzPWspLGV4cG9ydHMuZWRnZXF1YWQ9ayk6dGhpcy5lZGdlcXVhZD1rfS5jYWxsKHRoaXMpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtpZigidW5kZWZpbmVkIj09dHlwZW9mIHNpZ21hKXRocm93InNpZ21hIGlzIG5vdCBkZWNsYXJlZCI7c2lnbWEudXRpbHMucGtnKCJzaWdtYS5jYXB0b3JzIiksc2lnbWEuY2FwdG9ycy5tb3VzZT1mdW5jdGlvbihhLGIsYyl7ZnVuY3Rpb24gZChhKXt2YXIgYixjLGQ7aWYoeSgibW91c2VFbmFibGVkIikmJih2LmRpc3BhdGNoRXZlbnQoIm1vdXNlbW92ZSIsc2lnbWEudXRpbHMubW91c2VDb29yZHMoYSkpLHEpKXJldHVybiByPSEwLHM9ITAsdSYmY2xlYXJUaW1lb3V0KHUpLHU9c2V0VGltZW91dChmdW5jdGlvbigpe3I9ITF9LHkoImRyYWdUaW1lb3V0IikpLHNpZ21hLm1pc2MuYW5pbWF0aW9uLmtpbGxBbGwoeCkseC5pc01vdmluZz0hMCxkPXguY2FtZXJhUG9zaXRpb24oc2lnbWEudXRpbHMuZ2V0WChhKS1vLHNpZ21hLnV0aWxzLmdldFkoYSktcCwhMCksYj1rLWQueCxjPWwtZC55LGI9PT14LngmJmM9PT14Lnl8fChtPXgueCxuPXgueSx4LmdvVG8oe3g6Yix5OmN9KSksYS5wcmV2ZW50RGVmYXVsdD9hLnByZXZlbnREZWZhdWx0KCk6YS5yZXR1cm5WYWx1ZT0hMSxhLnN0b3BQcm9wYWdhdGlvbigpLCExfWZ1bmN0aW9uIGUoYSl7aWYoeSgibW91c2VFbmFibGVkIikmJnEpe3E9ITEsdSYmY2xlYXJUaW1lb3V0KHUpLHguaXNNb3Zpbmc9ITE7dmFyIGI9c2lnbWEudXRpbHMuZ2V0WChhKSxjPXNpZ21hLnV0aWxzLmdldFkoYSk7cj8oc2lnbWEubWlzYy5hbmltYXRpb24ua2lsbEFsbCh4KSxzaWdtYS5taXNjLmFuaW1hdGlvbi5jYW1lcmEoeCx7eDp4LngreSgibW91c2VJbmVydGlhUmF0aW8iKSooeC54LW0pLHk6eC55K3koIm1vdXNlSW5lcnRpYVJhdGlvIikqKHgueS1uKX0se2Vhc2luZzoicXVhZHJhdGljT3V0IixkdXJhdGlvbjp5KCJtb3VzZUluZXJ0aWFEdXJhdGlvbiIpfSkpOm89PT1iJiZwPT09Y3x8eC5nb1RvKHt4OngueCx5OngueX0pLHYuZGlzcGF0Y2hFdmVudCgibW91c2V1cCIsc2lnbWEudXRpbHMubW91c2VDb29yZHMoYSkpLHI9ITF9fWZ1bmN0aW9uIGYoYSl7aWYoeSgibW91c2VFbmFibGVkIikpc3dpdGNoKGs9eC54LGw9eC55LG09eC54LG49eC55LG89c2lnbWEudXRpbHMuZ2V0WChhKSxwPXNpZ21hLnV0aWxzLmdldFkoYSkscz0hMSx0PShuZXcgRGF0ZSkuZ2V0VGltZSgpLGEud2hpY2gpe2Nhc2UgMjpicmVhaztjYXNlIDM6di5kaXNwYXRjaEV2ZW50KCJyaWdodGNsaWNrIixzaWdtYS51dGlscy5tb3VzZUNvb3JkcyhhLG8scCkpO2JyZWFrO2RlZmF1bHQ6cT0hMCx2LmRpc3BhdGNoRXZlbnQoIm1vdXNlZG93biIsc2lnbWEudXRpbHMubW91c2VDb29yZHMoYSxvLHApKX19ZnVuY3Rpb24gZyhhKXt5KCJtb3VzZUVuYWJsZWQiKSYmdi5kaXNwYXRjaEV2ZW50KCJtb3VzZW91dCIpfWZ1bmN0aW9uIGgoYSl7aWYoeSgibW91c2VFbmFibGVkIikpe3ZhciBiPXNpZ21hLnV0aWxzLm1vdXNlQ29vcmRzKGEpO2IuaXNEcmFnZ2luZz0obmV3IERhdGUpLmdldFRpbWUoKS10PjEwMCYmcyx2LmRpc3BhdGNoRXZlbnQoImNsaWNrIixiKX1yZXR1cm4gYS5wcmV2ZW50RGVmYXVsdD9hLnByZXZlbnREZWZhdWx0KCk6YS5yZXR1cm5WYWx1ZT0hMSxhLnN0b3BQcm9wYWdhdGlvbigpLCExfWZ1bmN0aW9uIGkoYSl7dmFyIGIsYyxkO2lmKHkoIm1vdXNlRW5hYmxlZCIpKXJldHVybiBjPTEveSgiZG91YmxlQ2xpY2tab29taW5nUmF0aW8iKSx2LmRpc3BhdGNoRXZlbnQoImRvdWJsZWNsaWNrIixzaWdtYS51dGlscy5tb3VzZUNvb3JkcyhhLG8scCkpLHkoImRvdWJsZUNsaWNrRW5hYmxlZCIpJiYoYj14LmNhbWVyYVBvc2l0aW9uKHNpZ21hLnV0aWxzLmdldFgoYSktc2lnbWEudXRpbHMuZ2V0Q2VudGVyKGEpLngsc2lnbWEudXRpbHMuZ2V0WShhKS1zaWdtYS51dGlscy5nZXRDZW50ZXIoYSkueSwhMCksZD17ZHVyYXRpb246eSgiZG91YmxlQ2xpY2tab29tRHVyYXRpb24iKX0sc2lnbWEudXRpbHMuem9vbVRvKHgsYi54LGIueSxjLGQpKSxhLnByZXZlbnREZWZhdWx0P2EucHJldmVudERlZmF1bHQoKTphLnJldHVyblZhbHVlPSExLGEuc3RvcFByb3BhZ2F0aW9uKCksITF9ZnVuY3Rpb24gaihhKXt2YXIgYixjLGQsZT1zaWdtYS51dGlscy5nZXREZWx0YShhKTtpZih5KCJtb3VzZUVuYWJsZWQiKSYmeSgibW91c2VXaGVlbEVuYWJsZWQiKSYmMCE9PWUpcmV0dXJuIGM9ZT4wPzEveSgiem9vbWluZ1JhdGlvIik6eSgiem9vbWluZ1JhdGlvIiksYj14LmNhbWVyYVBvc2l0aW9uKHNpZ21hLnV0aWxzLmdldFgoYSktc2lnbWEudXRpbHMuZ2V0Q2VudGVyKGEpLngsc2lnbWEudXRpbHMuZ2V0WShhKS1zaWdtYS51dGlscy5nZXRDZW50ZXIoYSkueSwhMCksZD17ZHVyYXRpb246eSgibW91c2Vab29tRHVyYXRpb24iKX0sc2lnbWEudXRpbHMuem9vbVRvKHgsYi54LGIueSxjLGQpLGEucHJldmVudERlZmF1bHQ/YS5wcmV2ZW50RGVmYXVsdCgpOmEucmV0dXJuVmFsdWU9ITEsYS5zdG9wUHJvcGFnYXRpb24oKSwhMX12YXIgayxsLG0sbixvLHAscSxyLHMsdCx1LHY9dGhpcyx3PWEseD1iLHk9YztzaWdtYS5jbGFzc2VzLmRpc3BhdGNoZXIuZXh0ZW5kKHRoaXMpLHNpZ21hLnV0aWxzLmRvdWJsZUNsaWNrKHcsImNsaWNrIixpKSx3LmFkZEV2ZW50TGlzdGVuZXIoIkRPTU1vdXNlU2Nyb2xsIixqLCExKSx3LmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNld2hlZWwiLGosITEpLHcuYWRkRXZlbnRMaXN0ZW5lcigibW91c2Vtb3ZlIixkLCExKSx3LmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlZG93biIsZiwhMSksdy5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsaCwhMSksdy5hZGRFdmVudExpc3RlbmVyKCJtb3VzZW91dCIsZywhMSksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigibW91c2V1cCIsZSwhMSksdGhpcy5raWxsPWZ1bmN0aW9uKCl7c2lnbWEudXRpbHMudW5iaW5kRG91YmxlQ2xpY2sodywiY2xpY2siKSx3LnJlbW92ZUV2ZW50TGlzdGVuZXIoIkRPTU1vdXNlU2Nyb2xsIixqKSx3LnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1vdXNld2hlZWwiLGopLHcucmVtb3ZlRXZlbnRMaXN0ZW5lcigibW91c2Vtb3ZlIixkKSx3LnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1vdXNlZG93biIsZiksdy5yZW1vdmVFdmVudExpc3RlbmVyKCJjbGljayIsaCksdy5yZW1vdmVFdmVudExpc3RlbmVyKCJtb3VzZW91dCIsZyksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigibW91c2V1cCIsZSl9fX0uY2FsbCh0aGlzKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBzaWdtYSl0aHJvdyJzaWdtYSBpcyBub3QgZGVjbGFyZWQiO3NpZ21hLnV0aWxzLnBrZygic2lnbWEuY2FwdG9ycyIpLHNpZ21hLmNhcHRvcnMudG91Y2g9ZnVuY3Rpb24oYSxiLGMpe2Z1bmN0aW9uIGQoYSl7dmFyIGI9c2lnbWEudXRpbHMuZ2V0T2Zmc2V0KEIpO3JldHVybnt4OmEucGFnZVgtYi5sZWZ0LHk6YS5wYWdlWS1iLnRvcH19ZnVuY3Rpb24gZShhKXtpZihEKCJ0b3VjaEVuYWJsZWQiKSl7dmFyIGIsYyxlLGYsZyxoO3N3aXRjaChFPWEudG91Y2hlcyxFLmxlbmd0aCl7Y2FzZSAxOkMuaXNNb3Zpbmc9ITAsdz0xLGk9Qy54LGo9Qy55LG09Qy54LG49Qy55LGc9ZChFWzBdKSxxPWcueCxyPWcueTticmVhaztjYXNlIDI6cmV0dXJuIEMuaXNNb3Zpbmc9ITAsdz0yLGc9ZChFWzBdKSxoPWQoRVsxXSksYj1nLngsZT1nLnksYz1oLngsZj1oLnksbT1DLngsbj1DLnksaz1DLmFuZ2xlLGw9Qy5yYXRpbyxpPUMueCxqPUMueSxxPWIscj1lLHM9Yyx0PWYsdT1NYXRoLmF0YW4yKHQtcixzLXEpLHY9TWF0aC5zcXJ0KCh0LXIpKih0LXIpKyhzLXEpKihzLXEpKSxhLnByZXZlbnREZWZhdWx0KCksITF9fX1mdW5jdGlvbiBmKGEpe2lmKEQoInRvdWNoRW5hYmxlZCIpKXtFPWEudG91Y2hlczt2YXIgYj1EKCJ0b3VjaEluZXJ0aWFSYXRpbyIpO3N3aXRjaCh6JiYoeD0hMSxjbGVhclRpbWVvdXQoeikpLHcpe2Nhc2UgMjppZigxPT09YS50b3VjaGVzLmxlbmd0aCl7ZShhKSxhLnByZXZlbnREZWZhdWx0KCk7YnJlYWt9Y2FzZSAxOkMuaXNNb3Zpbmc9ITEsQS5kaXNwYXRjaEV2ZW50KCJzdG9wRHJhZyIpLHgmJih5PSExLHNpZ21hLm1pc2MuYW5pbWF0aW9uLmNhbWVyYShDLHt4OkMueCtiKihDLngtbSkseTpDLnkrYiooQy55LW4pfSx7ZWFzaW5nOiJxdWFkcmF0aWNPdXQiLGR1cmF0aW9uOkQoInRvdWNoSW5lcnRpYUR1cmF0aW9uIil9KSkseD0hMSx3PTB9fX1mdW5jdGlvbiBnKGEpe2lmKCF5JiZEKCJ0b3VjaEVuYWJsZWQiKSl7dmFyIGIsYyxlLGYsZyxoLEIsRixHLEgsSSxKLEssTCxNLE4sTztzd2l0Y2goRT1hLnRvdWNoZXMseD0hMCx6JiZjbGVhclRpbWVvdXQoeiksej1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7eD0hMX0sRCgiZHJhZ1RpbWVvdXQiKSksdyl7Y2FzZSAxOkY9ZChFWzBdKSxiPUYueCxlPUYueSxIPUMuY2FtZXJhUG9zaXRpb24oYi1xLGUtciwhMCksTD1pLUgueCxNPWotSC55LEw9PT1DLngmJk09PT1DLnl8fChtPUMueCxuPUMueSxDLmdvVG8oe3g6TCx5Ok19KSxBLmRpc3BhdGNoRXZlbnQoIm1vdXNlbW92ZSIsc2lnbWEudXRpbHMubW91c2VDb29yZHMoYSxGLngsRi55KSksQS5kaXNwYXRjaEV2ZW50KCJkcmFnIikpO2JyZWFrO2Nhc2UgMjpGPWQoRVswXSksRz1kKEVbMV0pLGI9Ri54LGU9Ri55LGM9Ry54LGY9Ry55LEk9Qy5jYW1lcmFQb3NpdGlvbigocStzKS8yLXNpZ21hLnV0aWxzLmdldENlbnRlcihhKS54LChyK3QpLzItc2lnbWEudXRpbHMuZ2V0Q2VudGVyKGEpLnksITApLEI9Qy5jYW1lcmFQb3NpdGlvbigoYitjKS8yLXNpZ21hLnV0aWxzLmdldENlbnRlcihhKS54LChlK2YpLzItc2lnbWEudXRpbHMuZ2V0Q2VudGVyKGEpLnksITApLEo9TWF0aC5hdGFuMihmLWUsYy1iKS11LEs9TWF0aC5zcXJ0KChmLWUpKihmLWUpKyhjLWIpKihjLWIpKS92LGI9SS54LGU9SS55LE49bC9LLGIqPUssZSo9SyxPPWstSixnPU1hdGguY29zKC1KKSxoPU1hdGguc2luKC1KKSxjPWIqZytlKmgsZj1lKmctYipoLGI9YyxlPWYsTD1iLUIueCtpLE09ZS1CLnkraixOPT09Qy5yYXRpbyYmTz09PUMuYW5nbGUmJkw9PT1DLngmJk09PT1DLnl8fChtPUMueCxuPUMueSxvPUMuYW5nbGUscD1DLnJhdGlvLEMuZ29Ubyh7eDpMLHk6TSxhbmdsZTpPLHJhdGlvOk59KSxBLmRpc3BhdGNoRXZlbnQoImRyYWciKSl9cmV0dXJuIGEucHJldmVudERlZmF1bHQoKSwhMX19ZnVuY3Rpb24gaChhKXt2YXIgYixjLGU7aWYoYS50b3VjaGVzJiYxPT09YS50b3VjaGVzLmxlbmd0aCYmRCgidG91Y2hFbmFibGVkIikpcmV0dXJuIHk9ITAsYz0xL0QoImRvdWJsZUNsaWNrWm9vbWluZ1JhdGlvIiksYj1kKGEudG91Y2hlc1swXSksQS5kaXNwYXRjaEV2ZW50KCJkb3VibGVjbGljayIsc2lnbWEudXRpbHMubW91c2VDb29yZHMoYSxiLngsYi55KSksRCgiZG91YmxlQ2xpY2tFbmFibGVkIikmJihiPUMuY2FtZXJhUG9zaXRpb24oYi54LXNpZ21hLnV0aWxzLmdldENlbnRlcihhKS54LGIueS1zaWdtYS51dGlscy5nZXRDZW50ZXIoYSkueSwhMCksZT17ZHVyYXRpb246RCgiZG91YmxlQ2xpY2tab29tRHVyYXRpb24iKSxvbkNvbXBsZXRlOmZ1bmN0aW9uKCl7eT0hMX19LHNpZ21hLnV0aWxzLnpvb21UbyhDLGIueCxiLnksYyxlKSksYS5wcmV2ZW50RGVmYXVsdD9hLnByZXZlbnREZWZhdWx0KCk6YS5yZXR1cm5WYWx1ZT0hMSxhLnN0b3BQcm9wYWdhdGlvbigpLCExfXZhciBpLGosayxsLG0sbixvLHAscSxyLHMsdCx1LHYsdyx4LHkseixBPXRoaXMsQj1hLEM9YixEPWMsRT1bXTtzaWdtYS5jbGFzc2VzLmRpc3BhdGNoZXIuZXh0ZW5kKHRoaXMpLHNpZ21hLnV0aWxzLmRvdWJsZUNsaWNrKEIsInRvdWNoc3RhcnQiLGgpLEIuYWRkRXZlbnRMaXN0ZW5lcigidG91Y2hzdGFydCIsZSwhMSksQi5hZGRFdmVudExpc3RlbmVyKCJ0b3VjaGVuZCIsZiwhMSksQi5hZGRFdmVudExpc3RlbmVyKCJ0b3VjaGNhbmNlbCIsZiwhMSksQi5hZGRFdmVudExpc3RlbmVyKCJ0b3VjaGxlYXZlIixmLCExKSxCLmFkZEV2ZW50TGlzdGVuZXIoInRvdWNobW92ZSIsZywhMSksdGhpcy5raWxsPWZ1bmN0aW9uKCl7c2lnbWEudXRpbHMudW5iaW5kRG91YmxlQ2xpY2soQiwidG91Y2hzdGFydCIpLEIuYWRkRXZlbnRMaXN0ZW5lcigidG91Y2hzdGFydCIsZSksQi5hZGRFdmVudExpc3RlbmVyKCJ0b3VjaGVuZCIsZiksQi5hZGRFdmVudExpc3RlbmVyKCJ0b3VjaGNhbmNlbCIsZiksQi5hZGRFdmVudExpc3RlbmVyKCJ0b3VjaGxlYXZlIixmKSxCLmFkZEV2ZW50TGlzdGVuZXIoInRvdWNobW92ZSIsZyl9fX0uY2FsbCh0aGlzKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBzaWdtYSl0aHJvdyJzaWdtYSBpcyBub3QgZGVjbGFyZWQiO2lmKCJ1bmRlZmluZWQiPT10eXBlb2YgY29ucmFkKXRocm93ImNvbnJhZCBpcyBub3QgZGVjbGFyZWQiO3NpZ21hLnV0aWxzLnBrZygic2lnbWEucmVuZGVyZXJzIiksc2lnbWEucmVuZGVyZXJzLmNhbnZhcz1mdW5jdGlvbihhLGIsYyxkKXtpZigib2JqZWN0IiE9dHlwZW9mIGQpdGhyb3cic2lnbWEucmVuZGVyZXJzLmNhbnZhczogV3JvbmcgYXJndW1lbnRzLiI7aWYoIShkLmNvbnRhaW5lciBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSl0aHJvdyJDb250YWluZXIgbm90IGZvdW5kLiI7dmFyIGUsZixnLGg7Zm9yKHNpZ21hLmNsYXNzZXMuZGlzcGF0Y2hlci5leHRlbmQodGhpcyksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsImNvbnJhZElkIix7dmFsdWU6c2lnbWEudXRpbHMuaWQoKX0pLHRoaXMuZ3JhcGg9YSx0aGlzLmNhbWVyYT1iLHRoaXMuY29udGV4dHM9e30sdGhpcy5kb21FbGVtZW50cz17fSx0aGlzLm9wdGlvbnM9ZCx0aGlzLmNvbnRhaW5lcj10aGlzLm9wdGlvbnMuY29udGFpbmVyLHRoaXMuc2V0dGluZ3M9Im9iamVjdCI9PXR5cGVvZiBkLnNldHRpbmdzJiZkLnNldHRpbmdzP2MuZW1iZWRPYmplY3RzKGQuc2V0dGluZ3MpOmMsdGhpcy5ub2Rlc09uU2NyZWVuPVtdLHRoaXMuZWRnZXNPblNjcmVlbj1bXSx0aGlzLmpvYnM9e30sdGhpcy5vcHRpb25zLnByZWZpeD0icmVuZGVyZXIiK3RoaXMuY29ucmFkSWQrIjoiLHRoaXMuc2V0dGluZ3MoImJhdGNoRWRnZXNEcmF3aW5nIik/KHRoaXMuaW5pdERPTSgiY2FudmFzIiwiZWRnZXMiKSx0aGlzLmluaXRET00oImNhbnZhcyIsInNjZW5lIiksdGhpcy5jb250ZXh0cy5ub2Rlcz10aGlzLmNvbnRleHRzLnNjZW5lLHRoaXMuY29udGV4dHMubGFiZWxzPXRoaXMuY29udGV4dHMuc2NlbmUpOih0aGlzLmluaXRET00oImNhbnZhcyIsInNjZW5lIiksdGhpcy5jb250ZXh0cy5lZGdlcz10aGlzLmNvbnRleHRzLnNjZW5lLHRoaXMuY29udGV4dHMubm9kZXM9dGhpcy5jb250ZXh0cy5zY2VuZSx0aGlzLmNvbnRleHRzLmxhYmVscz10aGlzLmNvbnRleHRzLnNjZW5lKSx0aGlzLmluaXRET00oImNhbnZhcyIsIm1vdXNlIiksdGhpcy5jb250ZXh0cy5ob3Zlcj10aGlzLmNvbnRleHRzLm1vdXNlLHRoaXMuY2FwdG9ycz1bXSxnPXRoaXMub3B0aW9ucy5jYXB0b3JzfHxbc2lnbWEuY2FwdG9ycy5tb3VzZSxzaWdtYS5jYXB0b3JzLnRvdWNoXSxlPTAsZj1nLmxlbmd0aDtlPGY7ZSsrKWg9ImZ1bmN0aW9uIj09dHlwZW9mIGdbZV0/Z1tlXTpzaWdtYS5jYXB0b3JzW2dbZV1dLHRoaXMuY2FwdG9ycy5wdXNoKG5ldyBoKHRoaXMuZG9tRWxlbWVudHMubW91c2UsdGhpcy5jYW1lcmEsdGhpcy5zZXR0aW5ncykpO3NpZ21hLm1pc2MuYmluZEV2ZW50cy5jYWxsKHRoaXMsdGhpcy5vcHRpb25zLnByZWZpeCksc2lnbWEubWlzYy5kcmF3SG92ZXJzLmNhbGwodGhpcyx0aGlzLm9wdGlvbnMucHJlZml4KSx0aGlzLnJlc2l6ZSghMSl9LHNpZ21hLnJlbmRlcmVycy5jYW52YXMucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbihiKXtiPWJ8fHt9O3ZhciBjLGQsZSxmLGcsaCxpLGosayxsLG0sbixvLHA9e30scT10aGlzLmdyYXBoLHI9dGhpcy5ncmFwaC5ub2RlcyxzPSh0aGlzLm9wdGlvbnMucHJlZml4LHRoaXMuc2V0dGluZ3MoYiwiZHJhd0VkZ2VzIikpLHQ9dGhpcy5zZXR0aW5ncyhiLCJkcmF3Tm9kZXMiKSx1PXRoaXMuc2V0dGluZ3MoYiwiZHJhd0xhYmVscyIpLHY9dGhpcy5zZXR0aW5ncyhiLCJkcmF3RWRnZUxhYmVscyIpLHc9dGhpcy5zZXR0aW5ncy5lbWJlZE9iamVjdHMoYix7cHJlZml4OnRoaXMub3B0aW9ucy5wcmVmaXh9KTt0aGlzLnJlc2l6ZSghMSksdGhpcy5zZXR0aW5ncyhiLCJoaWRlRWRnZXNPbk1vdmUiKSYmKHRoaXMuY2FtZXJhLmlzQW5pbWF0ZWR8fHRoaXMuY2FtZXJhLmlzTW92aW5nKSYmKHM9ITEpLHRoaXMuY2FtZXJhLmFwcGx5VmlldyhhLHRoaXMub3B0aW9ucy5wcmVmaXgse3dpZHRoOnRoaXMud2lkdGgsaGVpZ2h0OnRoaXMuaGVpZ2h0fSksdGhpcy5jbGVhcigpO2ZvcihlIGluIHRoaXMuam9icyljb25yYWQuaGFzSm9iKGUpJiZjb25yYWQua2lsbEpvYihlKTtmb3IodGhpcy5lZGdlc09uU2NyZWVuPVtdLHRoaXMubm9kZXNPblNjcmVlbj10aGlzLmNhbWVyYS5xdWFkdHJlZS5hcmVhKHRoaXMuY2FtZXJhLmdldFJlY3RhbmdsZSh0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KSksYz10aGlzLm5vZGVzT25TY3JlZW4sZD0wLGY9Yy5sZW5ndGg7ZDxmO2QrKylwW2NbZF0uaWRdPWNbZF07aWYocyl7Zm9yKGM9cS5lZGdlcygpLGQ9MCxmPWMubGVuZ3RoO2Q8ZjtkKyspZz1jW2RdLCFwW2cuc291cmNlXSYmIXBbZy50YXJnZXRdfHxnLmhpZGRlbnx8cihnLnNvdXJjZSkuaGlkZGVufHxyKGcudGFyZ2V0KS5oaWRkZW58fHRoaXMuZWRnZXNPblNjcmVlbi5wdXNoKGcpO2lmKHRoaXMuc2V0dGluZ3MoYiwiYmF0Y2hFZGdlc0RyYXdpbmciKSloPSJlZGdlc18iK3RoaXMuY29ucmFkSWQsbj13KCJjYW52YXNFZGdlc0JhdGNoU2l6ZSIpLGw9dGhpcy5lZGdlc09uU2NyZWVuLGY9bC5sZW5ndGgsaz0wLGk9TWF0aC5taW4obC5sZW5ndGgsaytuKSxqPWZ1bmN0aW9uKCl7Zm9yKG89dGhpcy5jb250ZXh0cy5lZGdlcy5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24sdGhpcy5jb250ZXh0cy5lZGdlcy5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb249ImRlc3RpbmF0aW9uLW92ZXIiLG09c2lnbWEuY2FudmFzLmVkZ2VzLGQ9aztkPGk7ZCsrKWc9bFtkXSwobVtnLnR5cGV8fHRoaXMuc2V0dGluZ3MoYiwiZGVmYXVsdEVkZ2VUeXBlIildfHxtLmRlZikoZyxxLm5vZGVzKGcuc291cmNlKSxxLm5vZGVzKGcudGFyZ2V0KSx0aGlzLmNvbnRleHRzLmVkZ2VzLHcpO2lmKHYpZm9yKG09c2lnbWEuY2FudmFzLmVkZ2VzLmxhYmVscyxkPWs7ZDxpO2QrKylnPWxbZF0sZy5oaWRkZW58fChtW2cudHlwZXx8dGhpcy5zZXR0aW5ncyhiLCJkZWZhdWx0RWRnZVR5cGUiKV18fG0uZGVmKShnLHEubm9kZXMoZy5zb3VyY2UpLHEubm9kZXMoZy50YXJnZXQpLHRoaXMuY29udGV4dHMubGFiZWxzLHcpO3JldHVybiB0aGlzLmNvbnRleHRzLmVkZ2VzLmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbj1vLGk9PT1sLmxlbmd0aD8oZGVsZXRlIHRoaXMuam9ic1toXSwhMSk6KGs9aSsxLGk9TWF0aC5taW4obC5sZW5ndGgsaytuKSwhMCl9LHRoaXMuam9ic1toXT1qLGNvbnJhZC5hZGRKb2IoaCxqLmJpbmQodGhpcykpO2Vsc2V7Zm9yKG09c2lnbWEuY2FudmFzLmVkZ2VzLGM9dGhpcy5lZGdlc09uU2NyZWVuLGQ9MCxmPWMubGVuZ3RoO2Q8ZjtkKyspZz1jW2RdLChtW2cudHlwZXx8dGhpcy5zZXR0aW5ncyhiLCJkZWZhdWx0RWRnZVR5cGUiKV18fG0uZGVmKShnLHEubm9kZXMoZy5zb3VyY2UpLHEubm9kZXMoZy50YXJnZXQpLHRoaXMuY29udGV4dHMuZWRnZXMsdyk7aWYodilmb3IobT1zaWdtYS5jYW52YXMuZWRnZXMubGFiZWxzLGM9dGhpcy5lZGdlc09uU2NyZWVuLGQ9MCxmPWMubGVuZ3RoO2Q8ZjtkKyspY1tkXS5oaWRkZW58fChtW2NbZF0udHlwZXx8dGhpcy5zZXR0aW5ncyhiLCJkZWZhdWx0RWRnZVR5cGUiKV18fG0uZGVmKShjW2RdLHEubm9kZXMoY1tkXS5zb3VyY2UpLHEubm9kZXMoY1tkXS50YXJnZXQpLHRoaXMuY29udGV4dHMubGFiZWxzLHcpfX1pZih0KWZvcihtPXNpZ21hLmNhbnZhcy5ub2RlcyxjPXRoaXMubm9kZXNPblNjcmVlbixkPTAsZj1jLmxlbmd0aDtkPGY7ZCsrKWNbZF0uaGlkZGVufHwobVtjW2RdLnR5cGV8fHRoaXMuc2V0dGluZ3MoYiwiZGVmYXVsdE5vZGVUeXBlIildfHxtLmRlZikoY1tkXSx0aGlzLmNvbnRleHRzLm5vZGVzLHcpO2lmKHUpZm9yKG09c2lnbWEuY2FudmFzLmxhYmVscyxjPXRoaXMubm9kZXNPblNjcmVlbixkPTAsZj1jLmxlbmd0aDtkPGY7ZCsrKWNbZF0uaGlkZGVufHwobVtjW2RdLnR5cGV8fHRoaXMuc2V0dGluZ3MoYiwiZGVmYXVsdE5vZGVUeXBlIildfHxtLmRlZikoY1tkXSx0aGlzLmNvbnRleHRzLmxhYmVscyx3KTtyZXR1cm4gdGhpcy5kaXNwYXRjaEV2ZW50KCJyZW5kZXIiKSx0aGlzfSxzaWdtYS5yZW5kZXJlcnMuY2FudmFzLnByb3RvdHlwZS5pbml0RE9NPWZ1bmN0aW9uKGEsYil7dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChhKTtjLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSIsYy5zZXRBdHRyaWJ1dGUoImNsYXNzIiwic2lnbWEtIitiKSx0aGlzLmRvbUVsZW1lbnRzW2JdPWMsdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQoYyksImNhbnZhcyI9PT1hLnRvTG93ZXJDYXNlKCkmJih0aGlzLmNvbnRleHRzW2JdPWMuZ2V0Q29udGV4dCgiMmQiKSl9LHNpZ21hLnJlbmRlcmVycy5jYW52YXMucHJvdG90eXBlLnJlc2l6ZT1mdW5jdGlvbihiLGMpe3ZhciBkLGU9dGhpcy53aWR0aCxmPXRoaXMuaGVpZ2h0LGc9c2lnbWEudXRpbHMuZ2V0UGl4ZWxSYXRpbygpO2lmKGIhPT1hJiZjIT09YT8odGhpcy53aWR0aD1iLHRoaXMuaGVpZ2h0PWMpOih0aGlzLndpZHRoPXRoaXMuY29udGFpbmVyLm9mZnNldFdpZHRoLHRoaXMuaGVpZ2h0PXRoaXMuY29udGFpbmVyLm9mZnNldEhlaWdodCxiPXRoaXMud2lkdGgsYz10aGlzLmhlaWdodCksZSE9PXRoaXMud2lkdGh8fGYhPT10aGlzLmhlaWdodClmb3IoZCBpbiB0aGlzLmRvbUVsZW1lbnRzKXRoaXMuZG9tRWxlbWVudHNbZF0uc3R5bGUud2lkdGg9YisicHgiLHRoaXMuZG9tRWxlbWVudHNbZF0uc3R5bGUuaGVpZ2h0PWMrInB4IiwiY2FudmFzIj09PXRoaXMuZG9tRWxlbWVudHNbZF0udGFnTmFtZS50b0xvd2VyQ2FzZSgpJiYodGhpcy5kb21FbGVtZW50c1tkXS5zZXRBdHRyaWJ1dGUoIndpZHRoIixiKmcrInB4IiksdGhpcy5kb21FbGVtZW50c1tkXS5zZXRBdHRyaWJ1dGUoImhlaWdodCIsYypnKyJweCIpLDEhPT1nJiZ0aGlzLmNvbnRleHRzW2RdLnNjYWxlKGcsZykpO3JldHVybiB0aGlzfSxzaWdtYS5yZW5kZXJlcnMuY2FudmFzLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe2Zvcih2YXIgYSBpbiB0aGlzLmNvbnRleHRzKXRoaXMuY29udGV4dHNbYV0uY2xlYXJSZWN0KDAsMCx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KTtyZXR1cm4gdGhpc30sc2lnbWEucmVuZGVyZXJzLmNhbnZhcy5wcm90b3R5cGUua2lsbD1mdW5jdGlvbigpe2Zvcih2YXIgYSxiO2I9dGhpcy5jYXB0b3JzLnBvcCgpOyliLmtpbGwoKTtkZWxldGUgdGhpcy5jYXB0b3JzO2ZvcihhIGluIHRoaXMuZG9tRWxlbWVudHMpdGhpcy5kb21FbGVtZW50c1thXS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZG9tRWxlbWVudHNbYV0pLGRlbGV0ZSB0aGlzLmRvbUVsZW1lbnRzW2FdLGRlbGV0ZSB0aGlzLmNvbnRleHRzW2FdO2RlbGV0ZSB0aGlzLmRvbUVsZW1lbnRzLGRlbGV0ZSB0aGlzLmNvbnRleHRzfSxzaWdtYS51dGlscy5wa2coInNpZ21hLmNhbnZhcy5ub2RlcyIpLHNpZ21hLnV0aWxzLnBrZygic2lnbWEuY2FudmFzLmVkZ2VzIiksc2lnbWEudXRpbHMucGtnKCJzaWdtYS5jYW52YXMubGFiZWxzIil9LmNhbGwodGhpcyksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2lmKCJ1bmRlZmluZWQiPT10eXBlb2Ygc2lnbWEpdGhyb3cic2lnbWEgaXMgbm90IGRlY2xhcmVkIjtzaWdtYS51dGlscy5wa2coInNpZ21hLnJlbmRlcmVycyIpLHNpZ21hLnJlbmRlcmVycy53ZWJnbD1mdW5jdGlvbihhLGIsYyxkKXtpZigib2JqZWN0IiE9dHlwZW9mIGQpdGhyb3cic2lnbWEucmVuZGVyZXJzLndlYmdsOiBXcm9uZyBhcmd1bWVudHMuIjtpZighKGQuY29udGFpbmVyIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpKXRocm93IkNvbnRhaW5lciBub3QgZm91bmQuIjt2YXIgZSxmLGcsaDtmb3Ioc2lnbWEuY2xhc3Nlcy5kaXNwYXRjaGVyLmV4dGVuZCh0aGlzKSx0aGlzLmpvYnM9e30sT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsImNvbnJhZElkIix7dmFsdWU6c2lnbWEudXRpbHMuaWQoKX0pLHRoaXMuZ3JhcGg9YSx0aGlzLmNhbWVyYT1iLHRoaXMuY29udGV4dHM9e30sdGhpcy5kb21FbGVtZW50cz17fSx0aGlzLm9wdGlvbnM9ZCx0aGlzLmNvbnRhaW5lcj10aGlzLm9wdGlvbnMuY29udGFpbmVyLHRoaXMuc2V0dGluZ3M9Im9iamVjdCI9PXR5cGVvZiBkLnNldHRpbmdzJiZkLnNldHRpbmdzP2MuZW1iZWRPYmplY3RzKGQuc2V0dGluZ3MpOmMsdGhpcy5vcHRpb25zLnByZWZpeD10aGlzLmNhbWVyYS5yZWFkUHJlZml4LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCJub2RlUHJvZ3JhbXMiLHt2YWx1ZTp7fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCJlZGdlUHJvZ3JhbXMiLHt2YWx1ZTp7fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCJub2RlRmxvYXRBcnJheXMiLHt2YWx1ZTp7fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCJlZGdlRmxvYXRBcnJheXMiLHt2YWx1ZTp7fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCJlZGdlSW5kaWNlc0FycmF5cyIse3ZhbHVlOnt9fSksdGhpcy5zZXR0aW5ncyhkLCJiYXRjaEVkZ2VzRHJhd2luZyIpPyh0aGlzLmluaXRET00oImNhbnZhcyIsImVkZ2VzIiwhMCksdGhpcy5pbml0RE9NKCJjYW52YXMiLCJub2RlcyIsITApKToodGhpcy5pbml0RE9NKCJjYW52YXMiLCJzY2VuZSIsITApLHRoaXMuY29udGV4dHMubm9kZXM9dGhpcy5jb250ZXh0cy5zY2VuZSx0aGlzLmNvbnRleHRzLmVkZ2VzPXRoaXMuY29udGV4dHMuc2NlbmUpLHRoaXMuaW5pdERPTSgiY2FudmFzIiwibGFiZWxzIiksdGhpcy5pbml0RE9NKCJjYW52YXMiLCJtb3VzZSIpLHRoaXMuY29udGV4dHMuaG92ZXI9dGhpcy5jb250ZXh0cy5tb3VzZSx0aGlzLmNhcHRvcnM9W10sZz10aGlzLm9wdGlvbnMuY2FwdG9yc3x8W3NpZ21hLmNhcHRvcnMubW91c2Usc2lnbWEuY2FwdG9ycy50b3VjaF0sZT0wLGY9Zy5sZW5ndGg7ZTxmO2UrKyloPSJmdW5jdGlvbiI9PXR5cGVvZiBnW2VdP2dbZV06c2lnbWEuY2FwdG9yc1tnW2VdXSx0aGlzLmNhcHRvcnMucHVzaChuZXcgaCh0aGlzLmRvbUVsZW1lbnRzLm1vdXNlLHRoaXMuY2FtZXJhLHRoaXMuc2V0dGluZ3MpKTtzaWdtYS5taXNjLmJpbmRFdmVudHMuY2FsbCh0aGlzLHRoaXMuY2FtZXJhLnByZWZpeCksc2lnbWEubWlzYy5kcmF3SG92ZXJzLmNhbGwodGhpcyx0aGlzLmNhbWVyYS5wcmVmaXgpLHRoaXMucmVzaXplKCl9LHNpZ21hLnJlbmRlcmVycy53ZWJnbC5wcm90b3R5cGUucHJvY2Vzcz1mdW5jdGlvbigpe3ZhciBhLGIsYyxkLGUsZixnPXRoaXMuZ3JhcGgsaD1zaWdtYS51dGlscy5leHRlbmQoaCx0aGlzLm9wdGlvbnMpLGk9dGhpcy5zZXR0aW5ncyhoLCJkZWZhdWx0RWRnZVR5cGUiKSxqPXRoaXMuc2V0dGluZ3MoaCwiZGVmYXVsdE5vZGVUeXBlIik7Zm9yKGQgaW4gdGhpcy5ub2RlRmxvYXRBcnJheXMpZGVsZXRlIHRoaXMubm9kZUZsb2F0QXJyYXlzW2RdO2ZvcihkIGluIHRoaXMuZWRnZUZsb2F0QXJyYXlzKWRlbGV0ZSB0aGlzLmVkZ2VGbG9hdEFycmF5c1tkXTtmb3IoZCBpbiB0aGlzLmVkZ2VJbmRpY2VzQXJyYXlzKWRlbGV0ZSB0aGlzLmVkZ2VJbmRpY2VzQXJyYXlzW2RdO2ZvcihhPWcuZWRnZXMoKSxiPTAsYz1hLmxlbmd0aDtiPGM7YisrKWU9YVtiXS50eXBlfHxpLGQ9ZSYmc2lnbWEud2ViZ2wuZWRnZXNbZV0/ZToiZGVmIix0aGlzLmVkZ2VGbG9hdEFycmF5c1tkXXx8KHRoaXMuZWRnZUZsb2F0QXJyYXlzW2RdPXtlZGdlczpbXX0pLHRoaXMuZWRnZUZsb2F0QXJyYXlzW2RdLmVkZ2VzLnB1c2goYVtiXSk7Zm9yKGE9Zy5ub2RlcygpLGI9MCxjPWEubGVuZ3RoO2I8YztiKyspZT1hW2JdLnR5cGV8fGosZD1lJiZzaWdtYS53ZWJnbC5ub2Rlc1tlXT9lOiJkZWYiLHRoaXMubm9kZUZsb2F0QXJyYXlzW2RdfHwodGhpcy5ub2RlRmxvYXRBcnJheXNbZF09e25vZGVzOltdfSksdGhpcy5ub2RlRmxvYXRBcnJheXNbZF0ubm9kZXMucHVzaChhW2JdKTtmb3IoZCBpbiB0aGlzLmVkZ2VGbG9hdEFycmF5cyl7Zm9yKGY9c2lnbWEud2ViZ2wuZWRnZXNbZF0sYT10aGlzLmVkZ2VGbG9hdEFycmF5c1tkXS5lZGdlcyx0aGlzLmVkZ2VGbG9hdEFycmF5c1tkXS5hcnJheT1uZXcgRmxvYXQzMkFycmF5KGEubGVuZ3RoKmYuUE9JTlRTKmYuQVRUUklCVVRFUyksYj0wLGM9YS5sZW5ndGg7YjxjO2IrKylhW2JdLmhpZGRlbnx8Zy5ub2RlcyhhW2JdLnNvdXJjZSkuaGlkZGVufHxnLm5vZGVzKGFbYl0udGFyZ2V0KS5oaWRkZW58fGYuYWRkRWRnZShhW2JdLGcubm9kZXMoYVtiXS5zb3VyY2UpLGcubm9kZXMoYVtiXS50YXJnZXQpLHRoaXMuZWRnZUZsb2F0QXJyYXlzW2RdLmFycmF5LGIqZi5QT0lOVFMqZi5BVFRSSUJVVEVTLGgucHJlZml4LHRoaXMuc2V0dGluZ3MpOyJmdW5jdGlvbiI9PXR5cGVvZiBmLmNvbXB1dGVJbmRpY2VzJiYodGhpcy5lZGdlSW5kaWNlc0FycmF5c1tkXT1mLmNvbXB1dGVJbmRpY2VzKHRoaXMuZWRnZUZsb2F0QXJyYXlzW2RdLmFycmF5KSl9Zm9yKGQgaW4gdGhpcy5ub2RlRmxvYXRBcnJheXMpZm9yKGY9c2lnbWEud2ViZ2wubm9kZXNbZF0sYT10aGlzLm5vZGVGbG9hdEFycmF5c1tkXS5ub2Rlcyx0aGlzLm5vZGVGbG9hdEFycmF5c1tkXS5hcnJheT1uZXcgRmxvYXQzMkFycmF5KGEubGVuZ3RoKmYuUE9JTlRTKmYuQVRUUklCVVRFUyksYj0wLGM9YS5sZW5ndGg7YjxjO2IrKyl0aGlzLm5vZGVGbG9hdEFycmF5c1tkXS5hcnJheXx8KHRoaXMubm9kZUZsb2F0QXJyYXlzW2RdLmFycmF5PW5ldyBGbG9hdDMyQXJyYXkoYS5sZW5ndGgqZi5QT0lOVFMqZi5BVFRSSUJVVEVTKSksYVtiXS5oaWRkZW58fGYuYWRkTm9kZShhW2JdLHRoaXMubm9kZUZsb2F0QXJyYXlzW2RdLmFycmF5LGIqZi5QT0lOVFMqZi5BVFRSSUJVVEVTLGgucHJlZml4LHRoaXMuc2V0dGluZ3MpO3JldHVybiB0aGlzfSxzaWdtYS5yZW5kZXJlcnMud2ViZ2wucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbihiKXt2YXIgYyxkLGUsZixnLGgsaT10aGlzLGo9KHRoaXMuZ3JhcGgsdGhpcy5jb250ZXh0cy5ub2Rlcyksaz10aGlzLmNvbnRleHRzLmVkZ2VzLGw9dGhpcy5jYW1lcmEuZ2V0TWF0cml4KCksbT1zaWdtYS51dGlscy5leHRlbmQoYix0aGlzLm9wdGlvbnMpLG49dGhpcy5zZXR0aW5ncyhtLCJkcmF3TGFiZWxzIiksbz10aGlzLnNldHRpbmdzKG0sImRyYXdFZGdlcyIpLHA9dGhpcy5zZXR0aW5ncyhtLCJkcmF3Tm9kZXMiKTt0aGlzLnJlc2l6ZSghMSksdGhpcy5zZXR0aW5ncyhtLCJoaWRlRWRnZXNPbk1vdmUiKSYmKHRoaXMuY2FtZXJhLmlzQW5pbWF0ZWR8fHRoaXMuY2FtZXJhLmlzTW92aW5nKSYmKG89ITEpLHRoaXMuY2xlYXIoKSxsPXNpZ21hLnV0aWxzLm1hdHJpY2VzLm11bHRpcGx5KGwsc2lnbWEudXRpbHMubWF0cmljZXMudHJhbnNsYXRpb24odGhpcy53aWR0aC8yLHRoaXMuaGVpZ2h0LzIpKTtmb3IoZiBpbiB0aGlzLmpvYnMpY29ucmFkLmhhc0pvYihmKSYmY29ucmFkLmtpbGxKb2IoZik7aWYobylpZih0aGlzLnNldHRpbmdzKG0sImJhdGNoRWRnZXNEcmF3aW5nIikpKGZ1bmN0aW9uKCl7dmFyIGEsYixjLGQsZSxmLGcsaCxpLGo7Yz0iZWRnZXNfIit0aGlzLmNvbnJhZElkLGo9dGhpcy5zZXR0aW5ncyhtLCJ3ZWJnbEVkZ2VzQmF0Y2hTaXplIiksYT1PYmplY3Qua2V5cyh0aGlzLmVkZ2VGbG9hdEFycmF5cyksYS5sZW5ndGgmJihiPTAsaT1zaWdtYS53ZWJnbC5lZGdlc1thW2JdXSxlPXRoaXMuZWRnZUZsb2F0QXJyYXlzW2FbYl1dLmFycmF5LGg9dGhpcy5lZGdlSW5kaWNlc0FycmF5c1thW2JdXSxnPTAsZj1NYXRoLm1pbihnK2oqaS5QT0lOVFMsZS5sZW5ndGgvaS5BVFRSSUJVVEVTKSxkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWRnZVByb2dyYW1zW2FbYl1dfHwodGhpcy5lZGdlUHJvZ3JhbXNbYVtiXV09aS5pbml0UHJvZ3JhbShrKSksZzxmJiYoay51c2VQcm9ncmFtKHRoaXMuZWRnZVByb2dyYW1zW2FbYl1dKSxpLnJlbmRlcihrLHRoaXMuZWRnZVByb2dyYW1zW2FbYl1dLGUse3NldHRpbmdzOnRoaXMuc2V0dGluZ3MsbWF0cml4Omwsd2lkdGg6dGhpcy53aWR0aCxoZWlnaHQ6dGhpcy5oZWlnaHQscmF0aW86dGhpcy5jYW1lcmEucmF0aW8sc2NhbGluZ1JhdGlvOnRoaXMuc2V0dGluZ3MobSwid2ViZ2xPdmVyc2FtcGxpbmdSYXRpbyIpLHN0YXJ0OmcsY291bnQ6Zi1nLGluZGljZXNEYXRhOmh9KSksZj49ZS5sZW5ndGgvaS5BVFRSSUJVVEVTJiZiPT09YS5sZW5ndGgtMT8oZGVsZXRlIHRoaXMuam9ic1tjXSwhMSk6KGY+PWUubGVuZ3RoL2kuQVRUUklCVVRFUz8oYisrLGU9dGhpcy5lZGdlRmxvYXRBcnJheXNbYVtiXV0uYXJyYXksaT1zaWdtYS53ZWJnbC5lZGdlc1thW2JdXSxnPTAsZj1NYXRoLm1pbihnK2oqaS5QT0lOVFMsZS5sZW5ndGgvaS5BVFRSSUJVVEVTKSk6KGc9ZixmPU1hdGgubWluKGcraippLlBPSU5UUyxlLmxlbmd0aC9pLkFUVFJJQlVURVMpKSwhMCl9LHRoaXMuam9ic1tjXT1kLGNvbnJhZC5hZGRKb2IoYyxkLmJpbmQodGhpcykpKX0pLmNhbGwodGhpcyk7ZWxzZSBmb3IoZiBpbiB0aGlzLmVkZ2VGbG9hdEFycmF5cyloPXNpZ21hLndlYmdsLmVkZ2VzW2ZdLHRoaXMuZWRnZVByb2dyYW1zW2ZdfHwodGhpcy5lZGdlUHJvZ3JhbXNbZl09aC5pbml0UHJvZ3JhbShrKSksdGhpcy5lZGdlRmxvYXRBcnJheXNbZl0mJihrLnVzZVByb2dyYW0odGhpcy5lZGdlUHJvZ3JhbXNbZl0pLGgucmVuZGVyKGssdGhpcy5lZGdlUHJvZ3JhbXNbZl0sdGhpcy5lZGdlRmxvYXRBcnJheXNbZl0uYXJyYXkse3NldHRpbmdzOnRoaXMuc2V0dGluZ3MsbWF0cml4Omwsd2lkdGg6dGhpcy53aWR0aCxoZWlnaHQ6dGhpcy5oZWlnaHQscmF0aW86dGhpcy5jYW1lcmEucmF0aW8sc2NhbGluZ1JhdGlvOnRoaXMuc2V0dGluZ3MobSwid2ViZ2xPdmVyc2FtcGxpbmdSYXRpbyIpLGluZGljZXNEYXRhOnRoaXMuZWRnZUluZGljZXNBcnJheXNbZl19KSk7aWYocCl7ai5ibGVuZEZ1bmMoai5TUkNfQUxQSEEsai5PTkVfTUlOVVNfU1JDX0FMUEhBKSxqLmVuYWJsZShqLkJMRU5EKTtmb3IoZiBpbiB0aGlzLm5vZGVGbG9hdEFycmF5cyloPXNpZ21hLndlYmdsLm5vZGVzW2ZdLHRoaXMubm9kZVByb2dyYW1zW2ZdfHwodGhpcy5ub2RlUHJvZ3JhbXNbZl09aC5pbml0UHJvZ3JhbShqKSksdGhpcy5ub2RlRmxvYXRBcnJheXNbZl0mJihqLnVzZVByb2dyYW0odGhpcy5ub2RlUHJvZ3JhbXNbZl0pLGgucmVuZGVyKGosdGhpcy5ub2RlUHJvZ3JhbXNbZl0sdGhpcy5ub2RlRmxvYXRBcnJheXNbZl0uYXJyYXkse3NldHRpbmdzOnRoaXMuc2V0dGluZ3MsbWF0cml4Omwsd2lkdGg6dGhpcy53aWR0aCxoZWlnaHQ6dGhpcy5oZWlnaHQscmF0aW86dGhpcy5jYW1lcmEucmF0aW8sc2NhbGluZ1JhdGlvOnRoaXMuc2V0dGluZ3MobSwid2ViZ2xPdmVyc2FtcGxpbmdSYXRpbyIpfSkpfWlmKG4pZm9yKGM9dGhpcy5jYW1lcmEucXVhZHRyZWUuYXJlYSh0aGlzLmNhbWVyYS5nZXRSZWN0YW5nbGUodGhpcy53aWR0aCx0aGlzLmhlaWdodCkpLHRoaXMuY2FtZXJhLmFwcGx5VmlldyhhLGEse25vZGVzOmMsZWRnZXM6W10sd2lkdGg6dGhpcy53aWR0aCxoZWlnaHQ6dGhpcy5oZWlnaHR9KSxnPWZ1bmN0aW9uKGEpe3JldHVybiBpLnNldHRpbmdzKHtwcmVmaXg6aS5jYW1lcmEucHJlZml4fSxhKX0sZD0wLGU9Yy5sZW5ndGg7ZDxlO2QrKyljW2RdLmhpZGRlbnx8KHNpZ21hLmNhbnZhcy5sYWJlbHNbY1tkXS50eXBlfHx0aGlzLnNldHRpbmdzKG0sImRlZmF1bHROb2RlVHlwZSIpXXx8c2lnbWEuY2FudmFzLmxhYmVscy5kZWYpKGNbZF0sdGhpcy5jb250ZXh0cy5sYWJlbHMsZyk7cmV0dXJuIHRoaXMuZGlzcGF0Y2hFdmVudCgicmVuZGVyIiksdGhpc30sc2lnbWEucmVuZGVyZXJzLndlYmdsLnByb3RvdHlwZS5pbml0RE9NPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KGEpLGU9dGhpcztkLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSIsZC5zZXRBdHRyaWJ1dGUoImNsYXNzIiwic2lnbWEtIitiKSx0aGlzLmRvbUVsZW1lbnRzW2JdPWQsdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQoZCksImNhbnZhcyI9PT1hLnRvTG93ZXJDYXNlKCkmJih0aGlzLmNvbnRleHRzW2JdPWQuZ2V0Q29udGV4dChjPyJleHBlcmltZW50YWwtd2ViZ2wiOiIyZCIse3ByZXNlcnZlRHJhd2luZ0J1ZmZlcjohMH0pLGMmJihkLmFkZEV2ZW50TGlzdGVuZXIoIndlYmdsY29udGV4dGxvc3QiLGZ1bmN0aW9uKGEpe2EucHJldmVudERlZmF1bHQoKX0sITEpLGQuYWRkRXZlbnRMaXN0ZW5lcigid2ViZ2xjb250ZXh0cmVzdG9yZWQiLGZ1bmN0aW9uKGEpe2UucmVuZGVyKCl9LCExKSkpfSxzaWdtYS5yZW5kZXJlcnMud2ViZ2wucHJvdG90eXBlLnJlc2l6ZT1mdW5jdGlvbihiLGMpe3ZhciBkLGU9dGhpcy53aWR0aCxmPXRoaXMuaGVpZ2h0LGc9c2lnbWEudXRpbHMuZ2V0UGl4ZWxSYXRpbygpO2lmKGIhPT1hJiZjIT09YT8odGhpcy53aWR0aD1iLHRoaXMuaGVpZ2h0PWMpOih0aGlzLndpZHRoPXRoaXMuY29udGFpbmVyLm9mZnNldFdpZHRoLHRoaXMuaGVpZ2h0PXRoaXMuY29udGFpbmVyLm9mZnNldEhlaWdodCxiPXRoaXMud2lkdGgsYz10aGlzLmhlaWdodCksZSE9PXRoaXMud2lkdGh8fGYhPT10aGlzLmhlaWdodClmb3IoZCBpbiB0aGlzLmRvbUVsZW1lbnRzKXRoaXMuZG9tRWxlbWVudHNbZF0uc3R5bGUud2lkdGg9YisicHgiLHRoaXMuZG9tRWxlbWVudHNbZF0uc3R5bGUuaGVpZ2h0PWMrInB4IiwiY2FudmFzIj09PXRoaXMuZG9tRWxlbWVudHNbZF0udGFnTmFtZS50b0xvd2VyQ2FzZSgpJiYodGhpcy5jb250ZXh0c1tkXSYmdGhpcy5jb250ZXh0c1tkXS5zY2FsZT8odGhpcy5kb21FbGVtZW50c1tkXS5zZXRBdHRyaWJ1dGUoIndpZHRoIixiKmcrInB4IiksdGhpcy5kb21FbGVtZW50c1tkXS5zZXRBdHRyaWJ1dGUoImhlaWdodCIsYypnKyJweCIpLDEhPT1nJiZ0aGlzLmNvbnRleHRzW2RdLnNjYWxlKGcsZykpOih0aGlzLmRvbUVsZW1lbnRzW2RdLnNldEF0dHJpYnV0ZSgid2lkdGgiLGIqdGhpcy5zZXR0aW5ncygid2ViZ2xPdmVyc2FtcGxpbmdSYXRpbyIpKyJweCIpLHRoaXMuZG9tRWxlbWVudHNbZF0uc2V0QXR0cmlidXRlKCJoZWlnaHQiLGMqdGhpcy5zZXR0aW5ncygid2ViZ2xPdmVyc2FtcGxpbmdSYXRpbyIpKyJweCIpKSk7Zm9yKGQgaW4gdGhpcy5jb250ZXh0cyl0aGlzLmNvbnRleHRzW2RdJiZ0aGlzLmNvbnRleHRzW2RdLnZpZXdwb3J0JiZ0aGlzLmNvbnRleHRzW2RdLnZpZXdwb3J0KDAsMCx0aGlzLndpZHRoKnRoaXMuc2V0dGluZ3MoIndlYmdsT3ZlcnNhbXBsaW5nUmF0aW8iKSx0aGlzLmhlaWdodCp0aGlzLnNldHRpbmdzKCJ3ZWJnbE92ZXJzYW1wbGluZ1JhdGlvIikpO3JldHVybiB0aGlzfSxzaWdtYS5yZW5kZXJlcnMud2ViZ2wucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGV4dHMubGFiZWxzLmNsZWFyUmVjdCgwLDAsdGhpcy53aWR0aCx0aGlzLmhlaWdodCksdGhpcy5jb250ZXh0cy5ub2Rlcy5jbGVhcih0aGlzLmNvbnRleHRzLm5vZGVzLkNPTE9SX0JVRkZFUl9CSVQpLHRoaXMuY29udGV4dHMuZWRnZXMuY2xlYXIodGhpcy5jb250ZXh0cy5lZGdlcy5DT0xPUl9CVUZGRVJfQklUKSx0aGlzfSxzaWdtYS5yZW5kZXJlcnMud2ViZ2wucHJvdG90eXBlLmtpbGw9ZnVuY3Rpb24oKXtmb3IodmFyIGEsYjtiPXRoaXMuY2FwdG9ycy5wb3AoKTspYi5raWxsKCk7ZGVsZXRlIHRoaXMuY2FwdG9ycztmb3IoYSBpbiB0aGlzLmRvbUVsZW1lbnRzKXRoaXMuZG9tRWxlbWVudHNbYV0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmRvbUVsZW1lbnRzW2FdKSxkZWxldGUgdGhpcy5kb21FbGVtZW50c1thXSxkZWxldGUgdGhpcy5jb250ZXh0c1thXTtkZWxldGUgdGhpcy5kb21FbGVtZW50cyxkZWxldGUgdGhpcy5jb250ZXh0c30sc2lnbWEudXRpbHMucGtnKCJzaWdtYS53ZWJnbC5ub2RlcyIpLHNpZ21hLnV0aWxzLnBrZygic2lnbWEud2ViZ2wuZWRnZXMiKSxzaWdtYS51dGlscy5wa2coInNpZ21hLmNhbnZhcy5sYWJlbHMiKX0uY2FsbCh0aGlzKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBzaWdtYSl0aHJvdyJzaWdtYSBpcyBub3QgZGVjbGFyZWQiO2lmKCJ1bmRlZmluZWQiPT10eXBlb2YgY29ucmFkKXRocm93ImNvbnJhZCBpcyBub3QgZGVjbGFyZWQiO3NpZ21hLnV0aWxzLnBrZygic2lnbWEucmVuZGVyZXJzIiksc2lnbWEucmVuZGVyZXJzLnN2Zz1mdW5jdGlvbihhLGIsYyxkKXtpZigib2JqZWN0IiE9dHlwZW9mIGQpdGhyb3cic2lnbWEucmVuZGVyZXJzLnN2ZzogV3JvbmcgYXJndW1lbnRzLiI7aWYoIShkLmNvbnRhaW5lciBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSl0aHJvdyJDb250YWluZXIgbm90IGZvdW5kLiI7dmFyIGUsZixnLGgsaT10aGlzO2ZvcihzaWdtYS5jbGFzc2VzLmRpc3BhdGNoZXIuZXh0ZW5kKHRoaXMpLHRoaXMuZ3JhcGg9YSx0aGlzLmNhbWVyYT1iLHRoaXMuZG9tRWxlbWVudHM9e2dyYXBoOm51bGwsZ3JvdXBzOnt9LG5vZGVzOnt9LGVkZ2VzOnt9LGxhYmVsczp7fSxob3ZlcnM6e319LHRoaXMubWVhc3VyZW1lbnRDYW52YXM9bnVsbCx0aGlzLm9wdGlvbnM9ZCx0aGlzLmNvbnRhaW5lcj10aGlzLm9wdGlvbnMuY29udGFpbmVyLHRoaXMuc2V0dGluZ3M9Im9iamVjdCI9PXR5cGVvZiBkLnNldHRpbmdzJiZkLnNldHRpbmdzP2MuZW1iZWRPYmplY3RzKGQuc2V0dGluZ3MpOmMsdGhpcy5zZXR0aW5ncygiZnJlZVN0eWxlIiwhIXRoaXMub3B0aW9ucy5mcmVlU3R5bGUpLHRoaXMuc2V0dGluZ3MoInhtbG5zIiwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciKSx0aGlzLm5vZGVzT25TY3JlZW49W10sdGhpcy5lZGdlc09uU2NyZWVuPVtdLHRoaXMub3B0aW9ucy5wcmVmaXg9InJlbmRlcmVyIitzaWdtYS51dGlscy5pZCgpKyI6Iix0aGlzLmluaXRET00oInN2ZyIpLHRoaXMuY2FwdG9ycz1bXSxnPXRoaXMub3B0aW9ucy5jYXB0b3JzfHxbc2lnbWEuY2FwdG9ycy5tb3VzZSxzaWdtYS5jYXB0b3JzLnRvdWNoXSxlPTAsZj1nLmxlbmd0aDtlPGY7ZSsrKWg9ImZ1bmN0aW9uIj09dHlwZW9mIGdbZV0/Z1tlXTpzaWdtYS5jYXB0b3JzW2dbZV1dLHRoaXMuY2FwdG9ycy5wdXNoKG5ldyBoKHRoaXMuZG9tRWxlbWVudHMuZ3JhcGgsdGhpcy5jYW1lcmEsdGhpcy5zZXR0aW5ncykpO3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJyZXNpemUiLGZ1bmN0aW9uKCl7aS5yZXNpemUoKX0pLHNpZ21hLm1pc2MuYmluZERPTUV2ZW50cy5jYWxsKHRoaXMsdGhpcy5kb21FbGVtZW50cy5ncmFwaCksdGhpcy5iaW5kSG92ZXJzKHRoaXMub3B0aW9ucy5wcmVmaXgpLHRoaXMucmVzaXplKCExKX0sc2lnbWEucmVuZGVyZXJzLnN2Zy5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKGIpe2I9Ynx8e307dmFyIGMsZCxlLGYsZyxoLGksaixrLGw9e30sbT10aGlzLmdyYXBoLG49dGhpcy5ncmFwaC5ub2RlcyxvPSh0aGlzLm9wdGlvbnMucHJlZml4LHRoaXMuc2V0dGluZ3MoYiwiZHJhd0VkZ2VzIikpLHA9dGhpcy5zZXR0aW5ncyhiLCJkcmF3Tm9kZXMiKSxxPSh0aGlzLnNldHRpbmdzKGIsImRyYXdMYWJlbHMiKSx0aGlzLnNldHRpbmdzLmVtYmVkT2JqZWN0cyhiLHtwcmVmaXg6dGhpcy5vcHRpb25zLnByZWZpeCxmb3JjZUxhYmVsczp0aGlzLm9wdGlvbnMuZm9yY2VMYWJlbHN9KSk7Zm9yKHRoaXMuc2V0dGluZ3MoYiwiaGlkZUVkZ2VzT25Nb3ZlIikmJih0aGlzLmNhbWVyYS5pc0FuaW1hdGVkfHx0aGlzLmNhbWVyYS5pc01vdmluZykmJihvPSExKSx0aGlzLmNhbWVyYS5hcHBseVZpZXcoYSx0aGlzLm9wdGlvbnMucHJlZml4LHt3aWR0aDp0aGlzLndpZHRoLGhlaWdodDp0aGlzLmhlaWdodH0pLHRoaXMuaGlkZURPTUVsZW1lbnRzKHRoaXMuZG9tRWxlbWVudHMubm9kZXMpLHRoaXMuaGlkZURPTUVsZW1lbnRzKHRoaXMuZG9tRWxlbWVudHMuZWRnZXMpLHRoaXMuaGlkZURPTUVsZW1lbnRzKHRoaXMuZG9tRWxlbWVudHMubGFiZWxzKSx0aGlzLmVkZ2VzT25TY3JlZW49W10sdGhpcy5ub2Rlc09uU2NyZWVuPXRoaXMuY2FtZXJhLnF1YWR0cmVlLmFyZWEodGhpcy5jYW1lcmEuZ2V0UmVjdGFuZ2xlKHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpKSxjPXRoaXMubm9kZXNPblNjcmVlbixkPTAsZj1jLmxlbmd0aDtkPGY7ZCsrKWxbY1tkXS5pZF09Y1tkXTtmb3IoYz1tLmVkZ2VzKCksZD0wLGY9Yy5sZW5ndGg7ZDxmO2QrKylnPWNbZF0sIWxbZy5zb3VyY2VdJiYhbFtnLnRhcmdldF18fGcuaGlkZGVufHxuKGcuc291cmNlKS5oaWRkZW58fG4oZy50YXJnZXQpLmhpZGRlbnx8dGhpcy5lZGdlc09uU2NyZWVuLnB1c2goZyk7aWYoaj1zaWdtYS5zdmcubm9kZXMsaz1zaWdtYS5zdmcubGFiZWxzLHApZm9yKGM9dGhpcy5ub2Rlc09uU2NyZWVuLGQ9MCxmPWMubGVuZ3RoO2Q8ZjtkKyspY1tkXS5oaWRkZW58fHRoaXMuZG9tRWxlbWVudHMubm9kZXNbY1tkXS5pZF18fChlPShqW2NbZF0udHlwZV18fGouZGVmKS5jcmVhdGUoY1tkXSxxKSx0aGlzLmRvbUVsZW1lbnRzLm5vZGVzW2NbZF0uaWRdPWUsdGhpcy5kb21FbGVtZW50cy5ncm91cHMubm9kZXMuYXBwZW5kQ2hpbGQoZSksZT0oa1tjW2RdLnR5cGVdfHxrLmRlZikuY3JlYXRlKGNbZF0scSksdGhpcy5kb21FbGVtZW50cy5sYWJlbHNbY1tkXS5pZF09ZSx0aGlzLmRvbUVsZW1lbnRzLmdyb3Vwcy5sYWJlbHMuYXBwZW5kQ2hpbGQoZSkpO2lmKHApZm9yKGM9dGhpcy5ub2Rlc09uU2NyZWVuLGQ9MCxmPWMubGVuZ3RoO2Q8ZjtkKyspY1tkXS5oaWRkZW58fCgoaltjW2RdLnR5cGVdfHxqLmRlZikudXBkYXRlKGNbZF0sdGhpcy5kb21FbGVtZW50cy5ub2Rlc1tjW2RdLmlkXSxxKSwoa1tjW2RdLnR5cGVdfHxrLmRlZikudXBkYXRlKGNbZF0sdGhpcy5kb21FbGVtZW50cy5sYWJlbHNbY1tkXS5pZF0scSkpO2lmKGo9c2lnbWEuc3ZnLmVkZ2VzLG8pZm9yKGM9dGhpcy5lZGdlc09uU2NyZWVuLGQ9MCxmPWMubGVuZ3RoO2Q8ZjtkKyspdGhpcy5kb21FbGVtZW50cy5lZGdlc1tjW2RdLmlkXXx8KGg9bihjW2RdLnNvdXJjZSksaT1uKGNbZF0udGFyZ2V0KSxlPShqW2NbZF0udHlwZV18fGouZGVmKS5jcmVhdGUoY1tkXSxoLGkscSksdGhpcy5kb21FbGVtZW50cy5lZGdlc1tjW2RdLmlkXT1lLHRoaXMuZG9tRWxlbWVudHMuZ3JvdXBzLmVkZ2VzLmFwcGVuZENoaWxkKGUpKTtpZihvKWZvcihjPXRoaXMuZWRnZXNPblNjcmVlbixkPTAsZj1jLmxlbmd0aDtkPGY7ZCsrKWg9bihjW2RdLnNvdXJjZSksaT1uKGNbZF0udGFyZ2V0KSwoaltjW2RdLnR5cGVdfHxqLmRlZikudXBkYXRlKGNbZF0sdGhpcy5kb21FbGVtZW50cy5lZGdlc1tjW2RdLmlkXSxoLGkscSk7cmV0dXJuIHRoaXMuZGlzcGF0Y2hFdmVudCgicmVuZGVyIiksdGhpc30sc2lnbWEucmVuZGVyZXJzLnN2Zy5wcm90b3R5cGUuaW5pdERPTT1mdW5jdGlvbihhKXt2YXIgYixjLGQsZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlModGhpcy5zZXR0aW5ncygieG1sbnMiKSxhKSxmPXRoaXMuc2V0dGluZ3MoImNsYXNzUHJlZml4Iik7ZS5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiLGUuc2V0QXR0cmlidXRlKCJjbGFzcyIsZisiLXN2ZyIpLGUuc2V0QXR0cmlidXRlKCJ4bWxucyIsdGhpcy5zZXR0aW5ncygieG1sbnMiKSksZS5zZXRBdHRyaWJ1dGUoInhtbG5zOnhsaW5rIiwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIpLGUuc2V0QXR0cmlidXRlKCJ2ZXJzaW9uIiwiMS4xIik7dmFyIGc9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIik7Zy5zZXRBdHRyaWJ1dGUoImNsYXNzIixmKyItbWVhc3VyZW1lbnQtY2FudmFzIiksdGhpcy5kb21FbGVtZW50cy5ncmFwaD10aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZChlKTt2YXIgaD1bImVkZ2VzIiwibm9kZXMiLCJsYWJlbHMiLCJob3ZlcnMiXTtmb3IoZD0wLGM9aC5sZW5ndGg7ZDxjO2QrKyliPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyh0aGlzLnNldHRpbmdzKCJ4bWxucyIpLCJnIiksYi5zZXRBdHRyaWJ1dGVOUyhudWxsLCJpZCIsZisiLWdyb3VwLSIraFtkXSksYi5zZXRBdHRyaWJ1dGVOUyhudWxsLCJjbGFzcyIsZisiLWdyb3VwIiksdGhpcy5kb21FbGVtZW50cy5ncm91cHNbaFtkXV09dGhpcy5kb21FbGVtZW50cy5ncmFwaC5hcHBlbmRDaGlsZChiKTt0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZChnKSx0aGlzLm1lYXN1cmVtZW50Q2FudmFzPWcuZ2V0Q29udGV4dCgiMmQiKX0sc2lnbWEucmVuZGVyZXJzLnN2Zy5wcm90b3R5cGUuaGlkZURPTUVsZW1lbnRzPWZ1bmN0aW9uKGEpe3ZhciBiLGM7Zm9yKGMgaW4gYSliPWFbY10sc2lnbWEuc3ZnLnV0aWxzLmhpZGUoYik7cmV0dXJuIHRoaXN9LHNpZ21hLnJlbmRlcmVycy5zdmcucHJvdG90eXBlLmJpbmRIb3ZlcnM9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihiKXt2YXIgYz1iLmRhdGEubm9kZSxkPWcuc2V0dGluZ3MuZW1iZWRPYmplY3RzKHtwcmVmaXg6YX0pO2lmKGQoImVuYWJsZUhvdmVyaW5nIikpe3ZhciBoPShmW2MudHlwZV18fGYuZGVmKS5jcmVhdGUoYyxnLmRvbUVsZW1lbnRzLm5vZGVzW2MuaWRdLGcubWVhc3VyZW1lbnRDYW52YXMsZCk7Zy5kb21FbGVtZW50cy5ob3ZlcnNbYy5pZF09aCxnLmRvbUVsZW1lbnRzLmdyb3Vwcy5ob3ZlcnMuYXBwZW5kQ2hpbGQoaCksZT1jfX1mdW5jdGlvbiBjKGIpe3ZhciBjPWIuZGF0YS5ub2RlO2cuc2V0dGluZ3MuZW1iZWRPYmplY3RzKHtwcmVmaXg6YX0pKCJlbmFibGVIb3ZlcmluZyIpJiYoZy5kb21FbGVtZW50cy5ncm91cHMuaG92ZXJzLnJlbW92ZUNoaWxkKGcuZG9tRWxlbWVudHMuaG92ZXJzW2MuaWRdKSxlPW51bGwsZGVsZXRlIGcuZG9tRWxlbWVudHMuaG92ZXJzW2MuaWRdLGcuZG9tRWxlbWVudHMuZ3JvdXBzLm5vZGVzLmFwcGVuZENoaWxkKGcuZG9tRWxlbWVudHMubm9kZXNbYy5pZF0pKX1mdW5jdGlvbiBkKCl7aWYoZSl7dmFyIGI9Zy5zZXR0aW5ncy5lbWJlZE9iamVjdHMoe3ByZWZpeDphfSk7Zy5kb21FbGVtZW50cy5ncm91cHMuaG92ZXJzLnJlbW92ZUNoaWxkKGcuZG9tRWxlbWVudHMuaG92ZXJzW2UuaWRdKSxkZWxldGUgZy5kb21FbGVtZW50cy5ob3ZlcnNbZS5pZF07dmFyIGM9KGZbZS50eXBlXXx8Zi5kZWYpLmNyZWF0ZShlLGcuZG9tRWxlbWVudHMubm9kZXNbZS5pZF0sZy5tZWFzdXJlbWVudENhbnZhcyxiKTtnLmRvbUVsZW1lbnRzLmhvdmVyc1tlLmlkXT1jLGcuZG9tRWxlbWVudHMuZ3JvdXBzLmhvdmVycy5hcHBlbmRDaGlsZChjKX19dmFyIGUsZj1zaWdtYS5zdmcuaG92ZXJzLGc9dGhpczt0aGlzLmJpbmQoIm92ZXJOb2RlIixiKSx0aGlzLmJpbmQoIm91dE5vZGUiLGMpLHRoaXMuYmluZCgicmVuZGVyIixkKX0sc2lnbWEucmVuZGVyZXJzLnN2Zy5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKGIsYyl7dmFyIGQ9dGhpcy53aWR0aCxlPXRoaXMuaGVpZ2h0LGY9MTtyZXR1cm4gYiE9PWEmJmMhPT1hPyh0aGlzLndpZHRoPWIsdGhpcy5oZWlnaHQ9Yyk6KHRoaXMud2lkdGg9dGhpcy5jb250YWluZXIub2Zmc2V0V2lkdGgsdGhpcy5oZWlnaHQ9dGhpcy5jb250YWluZXIub2Zmc2V0SGVpZ2h0LGI9dGhpcy53aWR0aCxjPXRoaXMuaGVpZ2h0KSxkPT09dGhpcy53aWR0aCYmZT09PXRoaXMuaGVpZ2h0fHwodGhpcy5kb21FbGVtZW50cy5ncmFwaC5zdHlsZS53aWR0aD1iKyJweCIsdGhpcy5kb21FbGVtZW50cy5ncmFwaC5zdHlsZS5oZWlnaHQ9YysicHgiLCJzdmciPT09dGhpcy5kb21FbGVtZW50cy5ncmFwaC50YWdOYW1lLnRvTG93ZXJDYXNlKCkmJih0aGlzLmRvbUVsZW1lbnRzLmdyYXBoLnNldEF0dHJpYnV0ZSgid2lkdGgiLGIqZiksdGhpcy5kb21FbGVtZW50cy5ncmFwaC5zZXRBdHRyaWJ1dGUoImhlaWdodCIsYypmKSkpLHRoaXN9LHNpZ21hLnV0aWxzLnBrZygic2lnbWEuc3ZnLm5vZGVzIiksc2lnbWEudXRpbHMucGtnKCJzaWdtYS5zdmcuZWRnZXMiKSxzaWdtYS51dGlscy5wa2coInNpZ21hLnN2Zy5sYWJlbHMiKX0uY2FsbCh0aGlzKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBzaWdtYSl0aHJvdyJzaWdtYSBpcyBub3QgZGVjbGFyZWQiO3NpZ21hLnV0aWxzLnBrZygic2lnbWEucmVuZGVyZXJzIik7dmFyIGIsYz0hIWEuV2ViR0xSZW5kZXJpbmdDb250ZXh0O2lmKGMpe2I9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIik7dHJ5e2M9ISghYi5nZXRDb250ZXh0KCJ3ZWJnbCIpJiYhYi5nZXRDb250ZXh0KCJleHBlcmltZW50YWwtd2ViZ2wiKSl9Y2F0Y2goYSl7Yz0hMX19c2lnbWEucmVuZGVyZXJzLmRlZj1jP3NpZ21hLnJlbmRlcmVycy53ZWJnbDpzaWdtYS5yZW5kZXJlcnMuY2FudmFzfSh0aGlzKSxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0IjtzaWdtYS51dGlscy5wa2coInNpZ21hLndlYmdsLm5vZGVzIiksc2lnbWEud2ViZ2wubm9kZXMuZGVmPXtQT0lOVFM6MyxBVFRSSUJVVEVTOjUsYWRkTm9kZTpmdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPXNpZ21hLnV0aWxzLmZsb2F0Q29sb3IoYS5jb2xvcnx8ZSgiZGVmYXVsdE5vZGVDb2xvciIpKTtiW2MrK109YVtkKyJ4Il0sYltjKytdPWFbZCsieSJdLGJbYysrXT1hW2QrInNpemUiXSxiW2MrK109ZixiW2MrK109MCxiW2MrK109YVtkKyJ4Il0sYltjKytdPWFbZCsieSJdLGJbYysrXT1hW2QrInNpemUiXSxiW2MrK109ZixiW2MrK109MipNYXRoLlBJLzMsYltjKytdPWFbZCsieCJdLGJbYysrXT1hW2QrInkiXSxiW2MrK109YVtkKyJzaXplIl0sYltjKytdPWYsYltjKytdPTQqTWF0aC5QSS8zfSxyZW5kZXI6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGUsZj1hLmdldEF0dHJpYkxvY2F0aW9uKGIsImFfcG9zaXRpb24iKSxnPWEuZ2V0QXR0cmliTG9jYXRpb24oYiwiYV9zaXplIiksaD1hLmdldEF0dHJpYkxvY2F0aW9uKGIsImFfY29sb3IiKSxpPWEuZ2V0QXR0cmliTG9jYXRpb24oYiwiYV9hbmdsZSIpLGo9YS5nZXRVbmlmb3JtTG9jYXRpb24oYiwidV9yZXNvbHV0aW9uIiksaz1hLmdldFVuaWZvcm1Mb2NhdGlvbihiLCJ1X21hdHJpeCIpLGw9YS5nZXRVbmlmb3JtTG9jYXRpb24oYiwidV9yYXRpbyIpLG09YS5nZXRVbmlmb3JtTG9jYXRpb24oYiwidV9zY2FsZSIpO2U9YS5jcmVhdGVCdWZmZXIoKSxhLmJpbmRCdWZmZXIoYS5BUlJBWV9CVUZGRVIsZSksYS5idWZmZXJEYXRhKGEuQVJSQVlfQlVGRkVSLGMsYS5EWU5BTUlDX0RSQVcpLGEudW5pZm9ybTJmKGosZC53aWR0aCxkLmhlaWdodCksYS51bmlmb3JtMWYobCwxL01hdGgucG93KGQucmF0aW8sZC5zZXR0aW5ncygibm9kZXNQb3dSYXRpbyIpKSksYS51bmlmb3JtMWYobSxkLnNjYWxpbmdSYXRpbyksYS51bmlmb3JtTWF0cml4M2Z2KGssITEsZC5tYXRyaXgpLGEuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoZiksYS5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShnKSxhLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGgpLGEuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoaSksYS52ZXJ0ZXhBdHRyaWJQb2ludGVyKGYsMixhLkZMT0FULCExLHRoaXMuQVRUUklCVVRFUypGbG9hdDMyQXJyYXkuQllURVNfUEVSX0VMRU1FTlQsMCksYS52ZXJ0ZXhBdHRyaWJQb2ludGVyKGcsMSxhLkZMT0FULCExLHRoaXMuQVRUUklCVVRFUypGbG9hdDMyQXJyYXkuQllURVNfUEVSX0VMRU1FTlQsOCksYS52ZXJ0ZXhBdHRyaWJQb2ludGVyKGgsMSxhLkZMT0FULCExLHRoaXMuQVRUUklCVVRFUypGbG9hdDMyQXJyYXkuQllURVNfUEVSX0VMRU1FTlQsMTIpLGEudmVydGV4QXR0cmliUG9pbnRlcihpLDEsYS5GTE9BVCwhMSx0aGlzLkFUVFJJQlVURVMqRmxvYXQzMkFycmF5LkJZVEVTX1BFUl9FTEVNRU5ULDE2KSxhLmRyYXdBcnJheXMoYS5UUklBTkdMRVMsZC5zdGFydHx8MCxkLmNvdW50fHxjLmxlbmd0aC90aGlzLkFUVFJJQlVURVMpfSxpbml0UHJvZ3JhbTpmdW5jdGlvbihhKXt2YXIgYixjO3JldHVybiBiPXNpZ21hLnV0aWxzLmxvYWRTaGFkZXIoYSxbImF0dHJpYnV0ZSB2ZWMyIGFfcG9zaXRpb247IiwiYXR0cmlidXRlIGZsb2F0IGFfc2l6ZTsiLCJhdHRyaWJ1dGUgZmxvYXQgYV9jb2xvcjsiLCJhdHRyaWJ1dGUgZmxvYXQgYV9hbmdsZTsiLCJ1bmlmb3JtIHZlYzIgdV9yZXNvbHV0aW9uOyIsInVuaWZvcm0gZmxvYXQgdV9yYXRpbzsiLCJ1bmlmb3JtIGZsb2F0IHVfc2NhbGU7IiwidW5pZm9ybSBtYXQzIHVfbWF0cml4OyIsInZhcnlpbmcgdmVjNCBjb2xvcjsiLCJ2YXJ5aW5nIHZlYzIgY2VudGVyOyIsInZhcnlpbmcgZmxvYXQgcmFkaXVzOyIsInZvaWQgbWFpbigpIHsiLCJyYWRpdXMgPSBhX3NpemUgKiB1X3JhdGlvOyIsInZlYzIgcG9zaXRpb24gPSAodV9tYXRyaXggKiB2ZWMzKGFfcG9zaXRpb24sIDEpKS54eTsiLCJjZW50ZXIgPSBwb3NpdGlvbiAqIHVfc2NhbGU7IiwiY2VudGVyID0gdmVjMihjZW50ZXIueCwgdV9zY2FsZSAqIHVfcmVzb2x1dGlvbi55IC0gY2VudGVyLnkpOyIsInBvc2l0aW9uID0gcG9zaXRpb24gKyIsIjIuMCAqIHJhZGl1cyAqIHZlYzIoY29zKGFfYW5nbGUpLCBzaW4oYV9hbmdsZSkpOyIsInBvc2l0aW9uID0gKHBvc2l0aW9uIC8gdV9yZXNvbHV0aW9uICogMi4wIC0gMS4wKSAqIHZlYzIoMSwgLTEpOyIsInJhZGl1cyA9IHJhZGl1cyAqIHVfc2NhbGU7IiwiZ2xfUG9zaXRpb24gPSB2ZWM0KHBvc2l0aW9uLCAwLCAxKTsiLCJmbG9hdCBjID0gYV9jb2xvcjsiLCJjb2xvci5iID0gbW9kKGMsIDI1Ni4wKTsgYyA9IGZsb29yKGMgLyAyNTYuMCk7IiwiY29sb3IuZyA9IG1vZChjLCAyNTYuMCk7IGMgPSBmbG9vcihjIC8gMjU2LjApOyIsImNvbG9yLnIgPSBtb2QoYywgMjU2LjApOyBjID0gZmxvb3IoYyAvIDI1Ni4wKTsgY29sb3IgLz0gMjU1LjA7IiwiY29sb3IuYSA9IDEuMDsiLCJ9Il0uam9pbigiXG4iKSxhLlZFUlRFWF9TSEFERVIpLGM9c2lnbWEudXRpbHMubG9hZFNoYWRlcihhLFsicHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7IiwidmFyeWluZyB2ZWM0IGNvbG9yOyIsInZhcnlpbmcgdmVjMiBjZW50ZXI7IiwidmFyeWluZyBmbG9hdCByYWRpdXM7Iiwidm9pZCBtYWluKHZvaWQpIHsiLCJ2ZWM0IGNvbG9yMCA9IHZlYzQoMC4wLCAwLjAsIDAuMCwgMC4wKTsiLCJ2ZWMyIG0gPSBnbF9GcmFnQ29vcmQueHkgLSBjZW50ZXI7IiwiZmxvYXQgZGlmZiA9IHJhZGl1cyAtIHNxcnQobS54ICogbS54ICsgbS55ICogbS55KTsiLCJpZiAoZGlmZiA+IDAuMCkiLCJnbF9GcmFnQ29sb3IgPSBjb2xvcjsiLCJlbHNlIiwiZ2xfRnJhZ0NvbG9yID0gY29sb3IwOyIsIn0iXS5qb2luKCJcbiIpLGEuRlJBR01FTlRfU0hBREVSKSxzaWdtYS51dGlscy5sb2FkUHJvZ3JhbShhLFtiLGNdKX19fSgpLGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3NpZ21hLnV0aWxzLnBrZygic2lnbWEud2ViZ2wubm9kZXMiKSxzaWdtYS53ZWJnbC5ub2Rlcy5mYXN0PXtQT0lOVFM6MSxBVFRSSUJVVEVTOjQsYWRkTm9kZTpmdW5jdGlvbihhLGIsYyxkLGUpe2JbYysrXT1hW2QrIngiXSxiW2MrK109YVtkKyJ5Il0sYltjKytdPWFbZCsic2l6ZSJdLGJbYysrXT1zaWdtYS51dGlscy5mbG9hdENvbG9yKGEuY29sb3J8fGUoImRlZmF1bHROb2RlQ29sb3IiKSl9LHJlbmRlcjpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZSxmPWEuZ2V0QXR0cmliTG9jYXRpb24oYiwiYV9wb3NpdGlvbiIpLGc9YS5nZXRBdHRyaWJMb2NhdGlvbihiLCJhX3NpemUiKSxoPWEuZ2V0QXR0cmliTG9jYXRpb24oYiwiYV9jb2xvciIpLGk9YS5nZXRVbmlmb3JtTG9jYXRpb24oYiwidV9yZXNvbHV0aW9uIiksaj1hLmdldFVuaWZvcm1Mb2NhdGlvbihiLCJ1X21hdHJpeCIpLGs9YS5nZXRVbmlmb3JtTG9jYXRpb24oYiwidV9yYXRpbyIpLGw9YS5nZXRVbmlmb3JtTG9jYXRpb24oYiwidV9zY2FsZSIpO2U9YS5jcmVhdGVCdWZmZXIoKSxhLmJpbmRCdWZmZXIoYS5BUlJBWV9CVUZGRVIsZSksYS5idWZmZXJEYXRhKGEuQVJSQVlfQlVGRkVSLGMsYS5EWU5BTUlDX0RSQVcpLGEudW5pZm9ybTJmKGksZC53aWR0aCxkLmhlaWdodCksYS51bmlmb3JtMWYoaywxL01hdGgucG93KGQucmF0aW8sZC5zZXR0aW5ncygibm9kZXNQb3dSYXRpbyIpKSksYS51bmlmb3JtMWYobCxkLnNjYWxpbmdSYXRpbyksYS51bmlmb3JtTWF0cml4M2Z2KGosITEsZC5tYXRyaXgpLGEuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoZiksYS5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShnKSxhLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGgpLGEudmVydGV4QXR0cmliUG9pbnRlcihmLDIsYS5GTE9BVCwhMSx0aGlzLkFUVFJJQlVURVMqRmxvYXQzMkFycmF5LkJZVEVTX1BFUl9FTEVNRU5ULDApLGEudmVydGV4QXR0cmliUG9pbnRlcihnLDEsYS5GTE9BVCwhMSx0aGlzLkFUVFJJQlVURVMqRmxvYXQzMkFycmF5LkJZVEVTX1BFUl9FTEVNRU5ULDgpLGEudmVydGV4QXR0cmliUG9pbnRlcihoLDEsYS5GTE9BVCwhMSx0aGlzLkFUVFJJQlVURVMqRmxvYXQzMkFycmF5LkJZVEVTX1BFUl9FTEVNRU5ULDEyKSxhLmRyYXdBcnJheXMoYS5QT0lOVFMsZC5zdGFydHx8MCxkLmNvdW50fHxjLmxlbmd0aC90aGlzLkFUVFJJQlVURVMpfSxpbml0UHJvZ3JhbTpmdW5jdGlvbihhKXt2YXIgYixjO3JldHVybiBiPXNpZ21hLnV0aWxzLmxvYWRTaGFkZXIoYSxbImF0dHJpYnV0ZSB2ZWMyIGFfcG9zaXRpb247IiwiYXR0cmlidXRlIGZsb2F0IGFfc2l6ZTsiLCJhdHRyaWJ1dGUgZmxvYXQgYV9jb2xvcjsiLCJ1bmlmb3JtIHZlYzIgdV9yZXNvbHV0aW9uOyIsInVuaWZvcm0gZmxvYXQgdV9yYXRpbzsiLCJ1bmlmb3JtIGZsb2F0IHVfc2NhbGU7IiwidW5pZm9ybSBtYXQzIHVfbWF0cml4OyIsInZhcnlpbmcgdmVjNCBjb2xvcjsiLCJ2b2lkIG1haW4oKSB7IiwiZ2xfUG9zaXRpb24gPSB2ZWM0KCIsIigodV9tYXRyaXggKiB2ZWMzKGFfcG9zaXRpb24sIDEpKS54eSAvIiwidV9yZXNvbHV0aW9uICogMi4wIC0gMS4wKSAqIHZlYzIoMSwgLTEpLCIsIjAsIiwiMSIsIik7IiwiZ2xfUG9pbnRTaXplID0gYV9zaXplICogdV9yYXRpbyAqIHVfc2NhbGUgKiAyLjA7IiwiZmxvYXQgYyA9IGFfY29sb3I7IiwiY29sb3IuYiA9IG1vZChjLCAyNTYuMCk7IGMgPSBmbG9vcihjIC8gMjU2LjApOyIsImNvbG9yLmcgPSBtb2QoYywgMjU2LjApOyBjID0gZmxvb3IoYyAvIDI1Ni4wKTsiLCJjb2xvci5yID0gbW9kKGMsIDI1Ni4wKTsgYyA9IGZsb29yKGMgLyAyNTYuMCk7IGNvbG9yIC89IDI1NS4wOyIsImNvbG9yLmEgPSAxLjA7IiwifSJdLmpvaW4oIlxuIiksYS5WRVJURVhfU0hBREVSKSxjPXNpZ21hLnV0aWxzLmxvYWRTaGFkZXIoYSxbInByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OyIsInZhcnlpbmcgdmVjNCBjb2xvcjsiLCJ2b2lkIG1haW4odm9pZCkgeyIsImZsb2F0IGJvcmRlciA9IDAuMDE7IiwiZmxvYXQgcmFkaXVzID0gMC41OyIsInZlYzQgY29sb3IwID0gdmVjNCgwLjAsIDAuMCwgMC4wLCAwLjApOyIsInZlYzIgbSA9IGdsX1BvaW50Q29vcmQgLSB2ZWMyKDAuNSwgMC41KTsiLCJmbG9hdCBkaXN0ID0gcmFkaXVzIC0gc3FydChtLnggKiBtLnggKyBtLnkgKiBtLnkpOyIsImZsb2F0IHQgPSAwLjA7IiwiaWYgKGRpc3QgPiBib3JkZXIpIiwidCA9IDEuMDsiLCJlbHNlIGlmIChkaXN0ID4gMC4wKSIsInQgPSBkaXN0IC8gYm9yZGVyOyIsImdsX0ZyYWdDb2xvciA9IG1peChjb2xvcjAsIGNvbG9yLCB0KTsiLCJ9Il0uam9pbigiXG4iKSxhLkZSQUdNRU5UX1NIQURFUiksc2lnbWEudXRpbHMubG9hZFByb2dyYW0oYSxbYixjXSl9fX0oKSxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0IjtzaWdtYS51dGlscy5wa2coInNpZ21hLndlYmdsLmVkZ2VzIiksc2lnbWEud2ViZ2wuZWRnZXMuZGVmPXtQT0lOVFM6NixBVFRSSUJVVEVTOjcsYWRkRWRnZTpmdW5jdGlvbihhLGIsYyxkLGUsZixnKXt2YXIgaD0oYVtmKyJzaXplIl18fDEpLzIsaT1iW2YrIngiXSxqPWJbZisieSJdLGs9Y1tmKyJ4Il0sbD1jW2YrInkiXSxtPWEuY29sb3I7aWYoIW0pc3dpdGNoKGcoImVkZ2VDb2xvciIpKXtjYXNlInNvdXJjZSI6bT1iLmNvbG9yfHxnKCJkZWZhdWx0Tm9kZUNvbG9yIik7YnJlYWs7Y2FzZSJ0YXJnZXQiOm09Yy5jb2xvcnx8ZygiZGVmYXVsdE5vZGVDb2xvciIpO2JyZWFrO2RlZmF1bHQ6bT1nKCJkZWZhdWx0RWRnZUNvbG9yIil9bT1zaWdtYS51dGlscy5mbG9hdENvbG9yKG0pLGRbZSsrXT1pLGRbZSsrXT1qLGRbZSsrXT1rLGRbZSsrXT1sLGRbZSsrXT1oLGRbZSsrXT0wLGRbZSsrXT1tLGRbZSsrXT1rLGRbZSsrXT1sLGRbZSsrXT1pLGRbZSsrXT1qLGRbZSsrXT1oLGRbZSsrXT0xLGRbZSsrXT1tLGRbZSsrXT1rLGRbZSsrXT1sLGRbZSsrXT1pLGRbZSsrXT1qLGRbZSsrXT1oLGRbZSsrXT0wLGRbZSsrXT1tLGRbZSsrXT1rLGRbZSsrXT1sLGRbZSsrXT1pLGRbZSsrXT1qLGRbZSsrXT1oLGRbZSsrXT0wLGRbZSsrXT1tLGRbZSsrXT1pLGRbZSsrXT1qLGRbZSsrXT1rLGRbZSsrXT1sLGRbZSsrXT1oLGRbZSsrXT0xLGRbZSsrXT1tLGRbZSsrXT1pLGRbZSsrXT1qLGRbZSsrXT1rLGRbZSsrXT1sLGRbZSsrXT1oLGRbZSsrXT0wLGRbZSsrXT1tfSxyZW5kZXI6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGUsZj1hLmdldEF0dHJpYkxvY2F0aW9uKGIsImFfY29sb3IiKSxnPWEuZ2V0QXR0cmliTG9jYXRpb24oYiwiYV9wb3NpdGlvbjEiKSxoPWEuZ2V0QXR0cmliTG9jYXRpb24oYiwiYV9wb3NpdGlvbjIiKSxpPWEuZ2V0QXR0cmliTG9jYXRpb24oYiwiYV90aGlja25lc3MiKSxqPWEuZ2V0QXR0cmliTG9jYXRpb24oYiwiYV9taW51cyIpLGs9YS5nZXRVbmlmb3JtTG9jYXRpb24oYiwidV9yZXNvbHV0aW9uIiksbD1hLmdldFVuaWZvcm1Mb2NhdGlvbihiLCJ1X21hdHJpeCIpLG09YS5nZXRVbmlmb3JtTG9jYXRpb24oYiwidV9tYXRyaXhIYWxmUGkiKSxuPWEuZ2V0VW5pZm9ybUxvY2F0aW9uKGIsInVfbWF0cml4SGFsZlBpTWludXMiKSxvPWEuZ2V0VW5pZm9ybUxvY2F0aW9uKGIsInVfcmF0aW8iKSxwPWEuZ2V0VW5pZm9ybUxvY2F0aW9uKGIsInVfc2NhbGUiKTtlPWEuY3JlYXRlQnVmZmVyKCksYS5iaW5kQnVmZmVyKGEuQVJSQVlfQlVGRkVSLGUpLGEuYnVmZmVyRGF0YShhLkFSUkFZX0JVRkZFUixjLGEuU1RBVElDX0RSQVcpLGEudW5pZm9ybTJmKGssZC53aWR0aCxkLmhlaWdodCksYS51bmlmb3JtMWYobyxkLnJhdGlvL01hdGgucG93KGQucmF0aW8sZC5zZXR0aW5ncygiZWRnZXNQb3dSYXRpbyIpKSksYS51bmlmb3JtMWYocCxkLnNjYWxpbmdSYXRpbyksYS51bmlmb3JtTWF0cml4M2Z2KGwsITEsZC5tYXRyaXgpLGEudW5pZm9ybU1hdHJpeDJmdihtLCExLHNpZ21hLnV0aWxzLm1hdHJpY2VzLnJvdGF0aW9uKE1hdGguUEkvMiwhMCkpLGEudW5pZm9ybU1hdHJpeDJmdihuLCExLHNpZ21hLnV0aWxzLm1hdHJpY2VzLnJvdGF0aW9uKC1NYXRoLlBJLzIsITApKSxhLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGYpLGEuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoZyksYS5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShoKSxhLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGkpLGEuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoaiksYS52ZXJ0ZXhBdHRyaWJQb2ludGVyKGcsMixhLkZMT0FULCExLHRoaXMuQVRUUklCVVRFUypGbG9hdDMyQXJyYXkuQllURVNfUEVSX0VMRU1FTlQsMCksYS52ZXJ0ZXhBdHRyaWJQb2ludGVyKGgsMixhLkZMT0FULCExLHRoaXMuQVRUUklCVVRFUypGbG9hdDMyQXJyYXkuQllURVNfUEVSX0VMRU1FTlQsOCksYS52ZXJ0ZXhBdHRyaWJQb2ludGVyKGksMSxhLkZMT0FULCExLHRoaXMuQVRUUklCVVRFUypGbG9hdDMyQXJyYXkuQllURVNfUEVSX0VMRU1FTlQsMTYpLGEudmVydGV4QXR0cmliUG9pbnRlcihqLDEsYS5GTE9BVCwhMSx0aGlzLkFUVFJJQlVURVMqRmxvYXQzMkFycmF5LkJZVEVTX1BFUl9FTEVNRU5ULDIwKSxhLnZlcnRleEF0dHJpYlBvaW50ZXIoZiwxLGEuRkxPQVQsITEsdGhpcy5BVFRSSUJVVEVTKkZsb2F0MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVCwyNCksYS5kcmF3QXJyYXlzKGEuVFJJQU5HTEVTLGQuc3RhcnR8fDAsZC5jb3VudHx8Yy5sZW5ndGgvdGhpcy5BVFRSSUJVVEVTKX0saW5pdFByb2dyYW06ZnVuY3Rpb24oYSl7dmFyIGIsYztyZXR1cm4gYj1zaWdtYS51dGlscy5sb2FkU2hhZGVyKGEsWyJhdHRyaWJ1dGUgdmVjMiBhX3Bvc2l0aW9uMTsiLCJhdHRyaWJ1dGUgdmVjMiBhX3Bvc2l0aW9uMjsiLCJhdHRyaWJ1dGUgZmxvYXQgYV90aGlja25lc3M7IiwiYXR0cmlidXRlIGZsb2F0IGFfbWludXM7IiwiYXR0cmlidXRlIGZsb2F0IGFfY29sb3I7IiwidW5pZm9ybSB2ZWMyIHVfcmVzb2x1dGlvbjsiLCJ1bmlmb3JtIGZsb2F0IHVfcmF0aW87IiwidW5pZm9ybSBmbG9hdCB1X3NjYWxlOyIsInVuaWZvcm0gbWF0MyB1X21hdHJpeDsiLCJ1bmlmb3JtIG1hdDIgdV9tYXRyaXhIYWxmUGk7IiwidW5pZm9ybSBtYXQyIHVfbWF0cml4SGFsZlBpTWludXM7IiwidmFyeWluZyB2ZWM0IGNvbG9yOyIsInZvaWQgbWFpbigpIHsiLCJ2ZWMyIHBvc2l0aW9uID0gYV90aGlja25lc3MgKiB1X3JhdGlvICoiLCJub3JtYWxpemUoYV9wb3NpdGlvbjIgLSBhX3Bvc2l0aW9uMSk7IiwibWF0MiBtYXRyaXggPSBhX21pbnVzICogdV9tYXRyaXhIYWxmUGlNaW51cyArIiwiKDEuMCAtIGFfbWludXMpICogdV9tYXRyaXhIYWxmUGk7IiwicG9zaXRpb24gPSBtYXRyaXggKiBwb3NpdGlvbiArIGFfcG9zaXRpb24xOyIsImdsX1Bvc2l0aW9uID0gdmVjNCgiLCIoKHVfbWF0cml4ICogdmVjMyhwb3NpdGlvbiwgMSkpLnh5IC8iLCJ1X3Jlc29sdXRpb24gKiAyLjAgLSAxLjApICogdmVjMigxLCAtMSksIiwiMCwiLCIxIiwiKTsiLCJmbG9hdCBjID0gYV9jb2xvcjsiLCJjb2xvci5iID0gbW9kKGMsIDI1Ni4wKTsgYyA9IGZsb29yKGMgLyAyNTYuMCk7IiwiY29sb3IuZyA9IG1vZChjLCAyNTYuMCk7IGMgPSBmbG9vcihjIC8gMjU2LjApOyIsImNvbG9yLnIgPSBtb2QoYywgMjU2LjApOyBjID0gZmxvb3IoYyAvIDI1Ni4wKTsgY29sb3IgLz0gMjU1LjA7IiwiY29sb3IuYSA9IDEuMDsiLCJ9Il0uam9pbigiXG4iKSxhLlZFUlRFWF9TSEFERVIpLGM9c2lnbWEudXRpbHMubG9hZFNoYWRlcihhLFsicHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7IiwidmFyeWluZyB2ZWM0IGNvbG9yOyIsInZvaWQgbWFpbih2b2lkKSB7IiwiZ2xfRnJhZ0NvbG9yID0gY29sb3I7IiwifSJdLmpvaW4oIlxuIiksYS5GUkFHTUVOVF9TSEFERVIpLHNpZ21hLnV0aWxzLmxvYWRQcm9ncmFtKGEsW2IsY10pfX19KCksZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7c2lnbWEudXRpbHMucGtnKCJzaWdtYS53ZWJnbC5lZGdlcyIpLHNpZ21hLndlYmdsLmVkZ2VzLmZhc3Q9e1BPSU5UUzoyLEFUVFJJQlVURVM6MyxhZGRFZGdlOmZ1bmN0aW9uKGEsYixjLGQsZSxmLGcpe3ZhciBoPShhW2YrInNpemUiXSxiW2YrIngiXSksaT1iW2YrInkiXSxqPWNbZisieCJdLGs9Y1tmKyJ5Il0sbD1hLmNvbG9yO2lmKCFsKXN3aXRjaChnKCJlZGdlQ29sb3IiKSl7Y2FzZSJzb3VyY2UiOmw9Yi5jb2xvcnx8ZygiZGVmYXVsdE5vZGVDb2xvciIpO2JyZWFrO2Nhc2UidGFyZ2V0IjpsPWMuY29sb3J8fGcoImRlZmF1bHROb2RlQ29sb3IiKTticmVhaztkZWZhdWx0Omw9ZygiZGVmYXVsdEVkZ2VDb2xvciIpfWw9c2lnbWEudXRpbHMuZmxvYXRDb2xvcihsKSxkW2UrK109aCxkW2UrK109aSxkW2UrK109bCxkW2UrK109aixkW2UrK109ayxkW2UrK109bH0scmVuZGVyOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlLGY9YS5nZXRBdHRyaWJMb2NhdGlvbihiLCJhX2NvbG9yIiksZz1hLmdldEF0dHJpYkxvY2F0aW9uKGIsImFfcG9zaXRpb24iKSxoPWEuZ2V0VW5pZm9ybUxvY2F0aW9uKGIsInVfcmVzb2x1dGlvbiIpLGk9YS5nZXRVbmlmb3JtTG9jYXRpb24oYiwidV9tYXRyaXgiKTtlPWEuY3JlYXRlQnVmZmVyKCksYS5iaW5kQnVmZmVyKGEuQVJSQVlfQlVGRkVSLGUpLGEuYnVmZmVyRGF0YShhLkFSUkFZX0JVRkZFUixjLGEuRFlOQU1JQ19EUkFXKSxhLnVuaWZvcm0yZihoLGQud2lkdGgsZC5oZWlnaHQpLGEudW5pZm9ybU1hdHJpeDNmdihpLCExLGQubWF0cml4KSxhLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGcpLGEuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoZiksYS52ZXJ0ZXhBdHRyaWJQb2ludGVyKGcsMixhLkZMT0FULCExLHRoaXMuQVRUUklCVVRFUypGbG9hdDMyQXJyYXkuQllURVNfUEVSX0VMRU1FTlQsMCksYS52ZXJ0ZXhBdHRyaWJQb2ludGVyKGYsMSxhLkZMT0FULCExLHRoaXMuQVRUUklCVVRFUypGbG9hdDMyQXJyYXkuQllURVNfUEVSX0VMRU1FTlQsOCksYS5saW5lV2lkdGgoMyksYS5kcmF3QXJyYXlzKGEuTElORVMsZC5zdGFydHx8MCxkLmNvdW50fHxjLmxlbmd0aC90aGlzLkFUVFJJQlVURVMpfSxpbml0UHJvZ3JhbTpmdW5jdGlvbihhKXt2YXIgYixjO3JldHVybiBiPXNpZ21hLnV0aWxzLmxvYWRTaGFkZXIoYSxbImF0dHJpYnV0ZSB2ZWMyIGFfcG9zaXRpb247IiwiYXR0cmlidXRlIGZsb2F0IGFfY29sb3I7IiwidW5pZm9ybSB2ZWMyIHVfcmVzb2x1dGlvbjsiLCJ1bmlmb3JtIG1hdDMgdV9tYXRyaXg7IiwidmFyeWluZyB2ZWM0IGNvbG9yOyIsInZvaWQgbWFpbigpIHsiLCJnbF9Qb3NpdGlvbiA9IHZlYzQoIiwiKCh1X21hdHJpeCAqIHZlYzMoYV9wb3NpdGlvbiwgMSkpLnh5IC8iLCJ1X3Jlc29sdXRpb24gKiAyLjAgLSAxLjApICogdmVjMigxLCAtMSksIiwiMCwiLCIxIiwiKTsiLCJmbG9hdCBjID0gYV9jb2xvcjsiLCJjb2xvci5iID0gbW9kKGMsIDI1Ni4wKTsgYyA9IGZsb29yKGMgLyAyNTYuMCk7IiwiY29sb3IuZyA9IG1vZChjLCAyNTYuMCk7IGMgPSBmbG9vcihjIC8gMjU2LjApOyIsImNvbG9yLnIgPSBtb2QoYywgMjU2LjApOyBjID0gZmxvb3IoYyAvIDI1Ni4wKTsgY29sb3IgLz0gMjU1LjA7IiwiY29sb3IuYSA9IDEuMDsiLCJ9Il0uam9pbigiXG4iKSxhLlZFUlRFWF9TSEFERVIpLGM9c2lnbWEudXRpbHMubG9hZFNoYWRlcihhLFsicHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7IiwidmFyeWluZyB2ZWM0IGNvbG9yOyIsInZvaWQgbWFpbih2b2lkKSB7IiwiZ2xfRnJhZ0NvbG9yID0gY29sb3I7IiwifSJdLmpvaW4oIlxuIiksYS5GUkFHTUVOVF9TSEFERVIpLHNpZ21hLnV0aWxzLmxvYWRQcm9ncmFtKGEsW2IsY10pfX19KCksZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7c2lnbWEudXRpbHMucGtnKCJzaWdtYS53ZWJnbC5lZGdlcyIpLHNpZ21hLndlYmdsLmVkZ2VzLmFycm93PXtQT0lOVFM6OSxBVFRSSUJVVEVTOjExLGFkZEVkZ2U6ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyl7dmFyIGg9KGFbZisic2l6ZSJdfHwxKS8yLGk9YltmKyJ4Il0saj1iW2YrInkiXSxrPWNbZisieCJdLGw9Y1tmKyJ5Il0sbT1jW2YrInNpemUiXSxuPWEuY29sb3I7aWYoIW4pc3dpdGNoKGcoImVkZ2VDb2xvciIpKXtjYXNlInNvdXJjZSI6bj1iLmNvbG9yfHxnKCJkZWZhdWx0Tm9kZUNvbG9yIik7YnJlYWs7Y2FzZSJ0YXJnZXQiOm49Yy5jb2xvcnx8ZygiZGVmYXVsdE5vZGVDb2xvciIpO2JyZWFrO2RlZmF1bHQ6bj1nKCJkZWZhdWx0RWRnZUNvbG9yIil9bj1zaWdtYS51dGlscy5mbG9hdENvbG9yKG4pLGRbZSsrXT1pLGRbZSsrXT1qLGRbZSsrXT1rLGRbZSsrXT1sLGRbZSsrXT1oLGRbZSsrXT1tLGRbZSsrXT0wLGRbZSsrXT0wLGRbZSsrXT0wLGRbZSsrXT0wLGRbZSsrXT1uLGRbZSsrXT1rLGRbZSsrXT1sLGRbZSsrXT1pLGRbZSsrXT1qLGRbZSsrXT1oLGRbZSsrXT1tLGRbZSsrXT0xLGRbZSsrXT0xLGRbZSsrXT0wLGRbZSsrXT0wLGRbZSsrXT1uLGRbZSsrXT1rLGRbZSsrXT1sLGRbZSsrXT1pLGRbZSsrXT1qLGRbZSsrXT1oLGRbZSsrXT1tLGRbZSsrXT0xLGRbZSsrXT0wLGRbZSsrXT0wLGRbZSsrXT0wLGRbZSsrXT1uLGRbZSsrXT1rLGRbZSsrXT1sLGRbZSsrXT1pLGRbZSsrXT1qLGRbZSsrXT1oLGRbZSsrXT1tLGRbZSsrXT0xLGRbZSsrXT0wLGRbZSsrXT0wLGRbZSsrXT0wLGRbZSsrXT1uLGRbZSsrXT1pLGRbZSsrXT1qLGRbZSsrXT1rLGRbZSsrXT1sLGRbZSsrXT1oLGRbZSsrXT1tLGRbZSsrXT0wLGRbZSsrXT0xLGRbZSsrXT0wLGRbZSsrXT0wLGRbZSsrXT1uLGRbZSsrXT1pLGRbZSsrXT1qLGRbZSsrXT1rLGRbZSsrXT1sLGRbZSsrXT1oLGRbZSsrXT1tLGRbZSsrXT0wLGRbZSsrXT0wLGRbZSsrXT0wLGRbZSsrXT0wLGRbZSsrXT1uLGRbZSsrXT1rLGRbZSsrXT1sLGRbZSsrXT1pLGRbZSsrXT1qLGRbZSsrXT1oLGRbZSsrXT1tLGRbZSsrXT0xLGRbZSsrXT0wLGRbZSsrXT0xLGRbZSsrXT0tMSxkW2UrK109bixkW2UrK109ayxkW2UrK109bCxkW2UrK109aSxkW2UrK109aixkW2UrK109aCxkW2UrK109bSxkW2UrK109MSxkW2UrK109MCxkW2UrK109MSxkW2UrK109MCxkW2UrK109bixkW2UrK109ayxkW2UrK109bCxkW2UrK109aSxkW2UrK109aixkW2UrK109aCxkW2UrK109bSxkW2UrK109MSxkW2UrK109MCxkW2UrK109MSxkW2UrK109MSxkW2UrK109bn0scmVuZGVyOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlLGY9YS5nZXRBdHRyaWJMb2NhdGlvbihiLCJhX3BvczEiKSxnPWEuZ2V0QXR0cmliTG9jYXRpb24oYiwiYV9wb3MyIiksaD1hLmdldEF0dHJpYkxvY2F0aW9uKGIsImFfdGhpY2tuZXNzIiksaT1hLmdldEF0dHJpYkxvY2F0aW9uKGIsImFfdFNpemUiKSxqPWEuZ2V0QXR0cmliTG9jYXRpb24oYiwiYV9kZWxheSIpLGs9YS5nZXRBdHRyaWJMb2NhdGlvbihiLCJhX21pbnVzIiksbD1hLmdldEF0dHJpYkxvY2F0aW9uKGIsImFfaGVhZCIpLG09YS5nZXRBdHRyaWJMb2NhdGlvbihiLCJhX2hlYWRQb3NpdGlvbiIpLG49YS5nZXRBdHRyaWJMb2NhdGlvbihiLCJhX2NvbG9yIiksbz1hLmdldFVuaWZvcm1Mb2NhdGlvbihiLCJ1X3Jlc29sdXRpb24iKSxwPWEuZ2V0VW5pZm9ybUxvY2F0aW9uKGIsInVfbWF0cml4IikscT1hLmdldFVuaWZvcm1Mb2NhdGlvbihiLCJ1X21hdHJpeEhhbGZQaSIpLHI9YS5nZXRVbmlmb3JtTG9jYXRpb24oYiwidV9tYXRyaXhIYWxmUGlNaW51cyIpLHM9YS5nZXRVbmlmb3JtTG9jYXRpb24oYiwidV9yYXRpbyIpLHQ9YS5nZXRVbmlmb3JtTG9jYXRpb24oYiwidV9ub2RlUmF0aW8iKSx1PWEuZ2V0VW5pZm9ybUxvY2F0aW9uKGIsInVfYXJyb3dIZWFkIiksdj1hLmdldFVuaWZvcm1Mb2NhdGlvbihiLCJ1X3NjYWxlIik7ZT1hLmNyZWF0ZUJ1ZmZlcigpLGEuYmluZEJ1ZmZlcihhLkFSUkFZX0JVRkZFUixlKSxhLmJ1ZmZlckRhdGEoYS5BUlJBWV9CVUZGRVIsYyxhLlNUQVRJQ19EUkFXKSxhLnVuaWZvcm0yZihvLGQud2lkdGgsZC5oZWlnaHQpLGEudW5pZm9ybTFmKHMsZC5yYXRpby9NYXRoLnBvdyhkLnJhdGlvLGQuc2V0dGluZ3MoImVkZ2VzUG93UmF0aW8iKSkpLGEudW5pZm9ybTFmKHQsTWF0aC5wb3coZC5yYXRpbyxkLnNldHRpbmdzKCJub2Rlc1Bvd1JhdGlvIikpL2QucmF0aW8pLGEudW5pZm9ybTFmKHUsNSksYS51bmlmb3JtMWYodixkLnNjYWxpbmdSYXRpbyksYS51bmlmb3JtTWF0cml4M2Z2KHAsITEsZC5tYXRyaXgpLGEudW5pZm9ybU1hdHJpeDJmdihxLCExLHNpZ21hLnV0aWxzLm1hdHJpY2VzLnJvdGF0aW9uKE1hdGguUEkvMiwhMCkpLGEudW5pZm9ybU1hdHJpeDJmdihyLCExLHNpZ21hLnV0aWxzLm1hdHJpY2VzLnJvdGF0aW9uKC1NYXRoLlBJLzIsITApKSxhLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGYpLGEuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoZyksYS5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShoKSxhLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGkpLGEuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoaiksYS5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShrKSxhLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGwpLGEuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkobSksYS5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShuKSxhLnZlcnRleEF0dHJpYlBvaW50ZXIoZiwyLGEuRkxPQVQsITEsdGhpcy5BVFRSSUJVVEVTKkZsb2F0MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVCwwKSxhLnZlcnRleEF0dHJpYlBvaW50ZXIoZywyLGEuRkxPQVQsITEsdGhpcy5BVFRSSUJVVEVTKkZsb2F0MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVCw4KSxhLnZlcnRleEF0dHJpYlBvaW50ZXIoaCwxLGEuRkxPQVQsITEsdGhpcy5BVFRSSUJVVEVTKkZsb2F0MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVCwxNiksYS52ZXJ0ZXhBdHRyaWJQb2ludGVyKGksMSxhLkZMT0FULCExLHRoaXMuQVRUUklCVVRFUypGbG9hdDMyQXJyYXkuQllURVNfUEVSX0VMRU1FTlQsMjApLGEudmVydGV4QXR0cmliUG9pbnRlcihqLDEsYS5GTE9BVCwhMSx0aGlzLkFUVFJJQlVURVMqRmxvYXQzMkFycmF5LkJZVEVTX1BFUl9FTEVNRU5ULDI0KSxhLnZlcnRleEF0dHJpYlBvaW50ZXIoaywxLGEuRkxPQVQsITEsdGhpcy5BVFRSSUJVVEVTKkZsb2F0MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVCwyOCksYS52ZXJ0ZXhBdHRyaWJQb2ludGVyKGwsMSxhLkZMT0FULCExLHRoaXMuQVRUUklCVVRFUypGbG9hdDMyQXJyYXkuQllURVNfUEVSX0VMRU1FTlQsMzIpLGEudmVydGV4QXR0cmliUG9pbnRlcihtLDEsYS5GTE9BVCwhMSx0aGlzLkFUVFJJQlVURVMqRmxvYXQzMkFycmF5LkJZVEVTX1BFUl9FTEVNRU5ULDM2KSxhLnZlcnRleEF0dHJpYlBvaW50ZXIobiwxLGEuRkxPQVQsITEsdGhpcy5BVFRSSUJVVEVTKkZsb2F0MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVCw0MCksYS5kcmF3QXJyYXlzKGEuVFJJQU5HTEVTLGQuc3RhcnR8fDAsZC5jb3VudHx8Yy5sZW5ndGgvdGhpcy5BVFRSSUJVVEVTKX0saW5pdFByb2dyYW06ZnVuY3Rpb24oYSl7dmFyIGIsYztyZXR1cm4gYj1zaWdtYS51dGlscy5sb2FkU2hhZGVyKGEsWyJhdHRyaWJ1dGUgdmVjMiBhX3BvczE7IiwiYXR0cmlidXRlIHZlYzIgYV9wb3MyOyIsImF0dHJpYnV0ZSBmbG9hdCBhX3RoaWNrbmVzczsiLCJhdHRyaWJ1dGUgZmxvYXQgYV90U2l6ZTsiLCJhdHRyaWJ1dGUgZmxvYXQgYV9kZWxheTsiLCJhdHRyaWJ1dGUgZmxvYXQgYV9taW51czsiLCJhdHRyaWJ1dGUgZmxvYXQgYV9oZWFkOyIsImF0dHJpYnV0ZSBmbG9hdCBhX2hlYWRQb3NpdGlvbjsiLCJhdHRyaWJ1dGUgZmxvYXQgYV9jb2xvcjsiLCJ1bmlmb3JtIHZlYzIgdV9yZXNvbHV0aW9uOyIsInVuaWZvcm0gZmxvYXQgdV9yYXRpbzsiLCJ1bmlmb3JtIGZsb2F0IHVfbm9kZVJhdGlvOyIsInVuaWZvcm0gZmxvYXQgdV9hcnJvd0hlYWQ7IiwidW5pZm9ybSBmbG9hdCB1X3NjYWxlOyIsInVuaWZvcm0gbWF0MyB1X21hdHJpeDsiLCJ1bmlmb3JtIG1hdDIgdV9tYXRyaXhIYWxmUGk7IiwidW5pZm9ybSBtYXQyIHVfbWF0cml4SGFsZlBpTWludXM7IiwidmFyeWluZyB2ZWM0IGNvbG9yOyIsInZvaWQgbWFpbigpIHsiLCJ2ZWMyIHBvcyA9IG5vcm1hbGl6ZShhX3BvczIgLSBhX3BvczEpOyIsIm1hdDIgbWF0cml4ID0gKDEuMCAtIGFfaGVhZCkgKiIsIigiLCJhX21pbnVzICogdV9tYXRyaXhIYWxmUGlNaW51cyArIiwiKDEuMCAtIGFfbWludXMpICogdV9tYXRyaXhIYWxmUGkiLCIpICsgYV9oZWFkICogKCIsImFfaGVhZFBvc2l0aW9uICogdV9tYXRyaXhIYWxmUGlNaW51cyAqIDAuNiArIiwiKGFfaGVhZFBvc2l0aW9uICogYV9oZWFkUG9zaXRpb24gLSAxLjApICogbWF0MigxLjApIiwiKTsiLCJwb3MgPSBhX3BvczEgKyAoIiwiKDEuMCAtIGFfaGVhZCkgKiBhX3RoaWNrbmVzcyAqIHVfcmF0aW8gKiBtYXRyaXggKiBwb3MgKyIsImFfaGVhZCAqIHVfYXJyb3dIZWFkICogYV90aGlja25lc3MgKiB1X3JhdGlvICogbWF0cml4ICogcG9zICsiLCJhX2RlbGF5ICogcG9zICogKCIsImFfdFNpemUgLyB1X25vZGVSYXRpbyArIiwidV9hcnJvd0hlYWQgKiBhX3RoaWNrbmVzcyAqIHVfcmF0aW8iLCIpIiwiKTsiLCJnbF9Qb3NpdGlvbiA9IHZlYzQoIiwiKCh1X21hdHJpeCAqIHZlYzMocG9zLCAxKSkueHkgLyIsInVfcmVzb2x1dGlvbiAqIDIuMCAtIDEuMCkgKiB2ZWMyKDEsIC0xKSwiLCIwLCIsIjEiLCIpOyIsImZsb2F0IGMgPSBhX2NvbG9yOyIsImNvbG9yLmIgPSBtb2QoYywgMjU2LjApOyBjID0gZmxvb3IoYyAvIDI1Ni4wKTsiLCJjb2xvci5nID0gbW9kKGMsIDI1Ni4wKTsgYyA9IGZsb29yKGMgLyAyNTYuMCk7IiwiY29sb3IuciA9IG1vZChjLCAyNTYuMCk7IGMgPSBmbG9vcihjIC8gMjU2LjApOyBjb2xvciAvPSAyNTUuMDsiLCJjb2xvci5hID0gMS4wOyIsIn0iXS5qb2luKCJcbiIpLGEuVkVSVEVYX1NIQURFUiksYz1zaWdtYS51dGlscy5sb2FkU2hhZGVyKGEsWyJwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDsiLCJ2YXJ5aW5nIHZlYzQgY29sb3I7Iiwidm9pZCBtYWluKHZvaWQpIHsiLCJnbF9GcmFnQ29sb3IgPSBjb2xvcjsiLCJ9Il0uam9pbigiXG4iKSxhLkZSQUdNRU5UX1NIQURFUiksc2lnbWEudXRpbHMubG9hZFByb2dyYW0oYSxbYixjXSl9fX0oKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBzaWdtYSl0aHJvdyJzaWdtYSBpcyBub3QgZGVjbGFyZWQiO3NpZ21hLnV0aWxzLnBrZygic2lnbWEuY2FudmFzLmxhYmVscyIpLHNpZ21hLmNhbnZhcy5sYWJlbHMuZGVmPWZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlPWMoInByZWZpeCIpfHwiIixmPWFbZSsic2l6ZSJdO2Y8YygibGFiZWxUaHJlc2hvbGQiKXx8YS5sYWJlbCYmInN0cmluZyI9PXR5cGVvZiBhLmxhYmVsJiYoZD0iZml4ZWQiPT09YygibGFiZWxTaXplIik/YygiZGVmYXVsdExhYmVsU2l6ZSIpOmMoImxhYmVsU2l6ZVJhdGlvIikqZixiLmZvbnQ9KGMoImZvbnRTdHlsZSIpP2MoImZvbnRTdHlsZSIpKyIgIjoiIikrZCsicHggIitjKCJmb250IiksYi5maWxsU3R5bGU9Im5vZGUiPT09YygibGFiZWxDb2xvciIpP2EuY29sb3J8fGMoImRlZmF1bHROb2RlQ29sb3IiKTpjKCJkZWZhdWx0TGFiZWxDb2xvciIpLGIuZmlsbFRleHQoYS5sYWJlbCxNYXRoLnJvdW5kKGFbZSsieCJdK2YrMyksTWF0aC5yb3VuZChhW2UrInkiXStkLzMpKSl9fS5jYWxsKHRoaXMpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtpZigidW5kZWZpbmVkIj09dHlwZW9mIHNpZ21hKXRocm93InNpZ21hIGlzIG5vdCBkZWNsYXJlZCI7c2lnbWEudXRpbHMucGtnKCJzaWdtYS5jYW52YXMuaG92ZXJzIiksc2lnbWEuY2FudmFzLmhvdmVycy5kZWY9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZixnLGgsaT1jKCJob3ZlckZvbnRTdHlsZSIpfHxjKCJmb250U3R5bGUiKSxqPWMoInByZWZpeCIpfHwiIixrPWFbaisic2l6ZSJdLGw9ImZpeGVkIj09PWMoImxhYmVsU2l6ZSIpP2MoImRlZmF1bHRMYWJlbFNpemUiKTpjKCJsYWJlbFNpemVSYXRpbyIpKms7Yi5mb250PShpP2krIiAiOiIiKStsKyJweCAiKyhjKCJob3ZlckZvbnQiKXx8YygiZm9udCIpKSxiLmJlZ2luUGF0aCgpLGIuZmlsbFN0eWxlPSJub2RlIj09PWMoImxhYmVsSG92ZXJCR0NvbG9yIik/YS5jb2xvcnx8YygiZGVmYXVsdE5vZGVDb2xvciIpOmMoImRlZmF1bHRIb3ZlckxhYmVsQkdDb2xvciIpLGEubGFiZWwmJmMoImxhYmVsSG92ZXJTaGFkb3ciKSYmKGIuc2hhZG93T2Zmc2V0WD0wLGIuc2hhZG93T2Zmc2V0WT0wLGIuc2hhZG93Qmx1cj04LGIuc2hhZG93Q29sb3I9YygibGFiZWxIb3ZlclNoYWRvd0NvbG9yIikpLGEubGFiZWwmJiJzdHJpbmciPT10eXBlb2YgYS5sYWJlbCYmKGQ9TWF0aC5yb3VuZChhW2orIngiXS1sLzItMiksZT1NYXRoLnJvdW5kKGFbaisieSJdLWwvMi0yKSxmPU1hdGgucm91bmQoYi5tZWFzdXJlVGV4dChhLmxhYmVsKS53aWR0aCtsLzIrays3KSxnPU1hdGgucm91bmQobCs0KSxoPU1hdGgucm91bmQobC8yKzIpLGIubW92ZVRvKGQsZStoKSxiLmFyY1RvKGQsZSxkK2gsZSxoKSxiLmxpbmVUbyhkK2YsZSksYi5saW5lVG8oZCtmLGUrZyksYi5saW5lVG8oZCtoLGUrZyksYi5hcmNUbyhkLGUrZyxkLGUrZy1oLGgpLGIubGluZVRvKGQsZStoKSxiLmNsb3NlUGF0aCgpLGIuZmlsbCgpLGIuc2hhZG93T2Zmc2V0WD0wLGIuc2hhZG93T2Zmc2V0WT0wLGIuc2hhZG93Qmx1cj0wKSxjKCJib3JkZXJTaXplIik+MCYmKGIuYmVnaW5QYXRoKCksYi5maWxsU3R5bGU9Im5vZGUiPT09Yygibm9kZUJvcmRlckNvbG9yIik/YS5jb2xvcnx8YygiZGVmYXVsdE5vZGVDb2xvciIpOmMoImRlZmF1bHROb2RlQm9yZGVyQ29sb3IiKSxiLmFyYyhhW2orIngiXSxhW2orInkiXSxrK2MoImJvcmRlclNpemUiKSwwLDIqTWF0aC5QSSwhMCksYi5jbG9zZVBhdGgoKSxiLmZpbGwoKSksKHNpZ21hLmNhbnZhcy5ub2Rlc1thLnR5cGVdfHxzaWdtYS5jYW52YXMubm9kZXMuZGVmKShhLGIsYyksYS5sYWJlbCYmInN0cmluZyI9PXR5cGVvZiBhLmxhYmVsJiYoYi5maWxsU3R5bGU9Im5vZGUiPT09YygibGFiZWxIb3ZlckNvbG9yIik/YS5jb2xvcnx8YygiZGVmYXVsdE5vZGVDb2xvciIpOmMoImRlZmF1bHRMYWJlbEhvdmVyQ29sb3IiKSxiLmZpbGxUZXh0KGEubGFiZWwsTWF0aC5yb3VuZChhW2orIngiXStrKzMpLE1hdGgucm91bmQoYVtqKyJ5Il0rbC8zKSkpfX0uY2FsbCh0aGlzKSxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0IjtzaWdtYS51dGlscy5wa2coInNpZ21hLmNhbnZhcy5ub2RlcyIpLHNpZ21hLmNhbnZhcy5ub2Rlcy5kZWY9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWMoInByZWZpeCIpfHwiIjtiLmZpbGxTdHlsZT1hLmNvbG9yfHxjKCJkZWZhdWx0Tm9kZUNvbG9yIiksYi5iZWdpblBhdGgoKSxiLmFyYyhhW2QrIngiXSxhW2QrInkiXSxhW2QrInNpemUiXSwwLDIqTWF0aC5QSSwhMCksYi5jbG9zZVBhdGgoKSxiLmZpbGwoKX19KCksZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7c2lnbWEudXRpbHMucGtnKCJzaWdtYS5jYW52YXMuZWRnZXMiKSxzaWdtYS5jYW52YXMuZWRnZXMuZGVmPWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9YS5jb2xvcixnPWUoInByZWZpeCIpfHwiIixoPWFbZysic2l6ZSJdfHwxLGk9ZSgiZWRnZUNvbG9yIiksaj1lKCJkZWZhdWx0Tm9kZUNvbG9yIiksaz1lKCJkZWZhdWx0RWRnZUNvbG9yIik7aWYoIWYpc3dpdGNoKGkpe2Nhc2Uic291cmNlIjpmPWIuY29sb3J8fGo7YnJlYWs7Y2FzZSJ0YXJnZXQiOmY9Yy5jb2xvcnx8ajticmVhaztkZWZhdWx0OmY9a31kLnN0cm9rZVN0eWxlPWYsZC5saW5lV2lkdGg9aCxkLmJlZ2luUGF0aCgpLGQubW92ZVRvKGJbZysieCJdLGJbZysieSJdKSxkLmxpbmVUbyhjW2crIngiXSxjW2crInkiXSksZC5zdHJva2UoKX19KCksZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7c2lnbWEudXRpbHMucGtnKCJzaWdtYS5jYW52YXMuZWRnZXMiKSxzaWdtYS5jYW52YXMuZWRnZXMuYXJyb3c9ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj1hLmNvbG9yLGc9ZSgicHJlZml4Iil8fCIiLGg9ZSgiZWRnZUNvbG9yIiksaT1lKCJkZWZhdWx0Tm9kZUNvbG9yIiksaj1lKCJkZWZhdWx0RWRnZUNvbG9yIiksaz1hW2crInNpemUiXXx8MSxsPWNbZysic2l6ZSJdLG09YltnKyJ4Il0sbj1iW2crInkiXSxvPWNbZysieCJdLHA9Y1tnKyJ5Il0scT1NYXRoLm1heCgyLjUqayxlKCJtaW5BcnJvd1NpemUiKSkscj1NYXRoLnNxcnQoTWF0aC5wb3coby1tLDIpK01hdGgucG93KHAtbiwyKSkscz1tKyhvLW0pKihyLXEtbCkvcix0PW4rKHAtbikqKHItcS1sKS9yLHU9KG8tbSkqcS9yLHY9KHAtbikqcS9yO2lmKCFmKXN3aXRjaChoKXtjYXNlInNvdXJjZSI6Zj1iLmNvbG9yfHxpO2JyZWFrO2Nhc2UidGFyZ2V0IjpmPWMuY29sb3J8fGk7YnJlYWs7ZGVmYXVsdDpmPWp9ZC5zdHJva2VTdHlsZT1mLGQubGluZVdpZHRoPWssZC5iZWdpblBhdGgoKSxkLm1vdmVUbyhtLG4pLGQubGluZVRvKHMsdCksZC5zdHJva2UoKSxkLmZpbGxTdHlsZT1mLGQuYmVnaW5QYXRoKCksZC5tb3ZlVG8ocyt1LHQrdiksZC5saW5lVG8ocysuNip2LHQtLjYqdSksZC5saW5lVG8ocy0uNip2LHQrLjYqdSksZC5saW5lVG8ocyt1LHQrdiksZC5jbG9zZVBhdGgoKSxkLmZpbGwoKX19KCksZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7c2lnbWEudXRpbHMucGtnKCJzaWdtYS5jYW52YXMuZWRnZWhvdmVycyIpLHNpZ21hLmNhbnZhcy5lZGdlaG92ZXJzLmRlZj1mdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPWEuY29sb3IsZz1lKCJwcmVmaXgiKXx8IiIsaD1hW2crInNpemUiXXx8MSxpPWUoImVkZ2VDb2xvciIpLGo9ZSgiZGVmYXVsdE5vZGVDb2xvciIpLGs9ZSgiZGVmYXVsdEVkZ2VDb2xvciIpO2lmKCFmKXN3aXRjaChpKXtjYXNlInNvdXJjZSI6Zj1iLmNvbG9yfHxqO2JyZWFrO2Nhc2UidGFyZ2V0IjpmPWMuY29sb3J8fGo7YnJlYWs7ZGVmYXVsdDpmPWt9Zj0iZWRnZSI9PT1lKCJlZGdlSG92ZXJDb2xvciIpP2EuaG92ZXJfY29sb3J8fGY6YS5ob3Zlcl9jb2xvcnx8ZSgiZGVmYXVsdEVkZ2VIb3ZlckNvbG9yIil8fGYsaCo9ZSgiZWRnZUhvdmVyU2l6ZVJhdGlvIiksZC5zdHJva2VTdHlsZT1mLGQubGluZVdpZHRoPWgsZC5iZWdpblBhdGgoKSxkLm1vdmVUbyhiW2crIngiXSxiW2crInkiXSksZC5saW5lVG8oY1tnKyJ4Il0sY1tnKyJ5Il0pLGQuc3Ryb2tlKCl9fSgpLGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3NpZ21hLnV0aWxzLnBrZygic2lnbWEuY2FudmFzLmVkZ2Vob3ZlcnMiKSxzaWdtYS5jYW52YXMuZWRnZWhvdmVycy5jdXJ2ZT1mdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPWEuY29sb3IsZz1lKCJwcmVmaXgiKXx8IiIsaD1lKCJlZGdlSG92ZXJTaXplUmF0aW8iKSooYVtnKyJzaXplIl18fDEpLGk9ZSgiZWRnZUNvbG9yIiksaj1lKCJkZWZhdWx0Tm9kZUNvbG9yIiksaz1lKCJkZWZhdWx0RWRnZUNvbG9yIiksbD17fSxtPWJbZysic2l6ZSJdLG49YltnKyJ4Il0sbz1iW2crInkiXSxwPWNbZysieCJdLHE9Y1tnKyJ5Il07aWYobD1iLmlkPT09Yy5pZD9zaWdtYS51dGlscy5nZXRTZWxmTG9vcENvbnRyb2xQb2ludHMobixvLG0pOnNpZ21hLnV0aWxzLmdldFF1YWRyYXRpY0NvbnRyb2xQb2ludChuLG8scCxxKSwhZilzd2l0Y2goaSl7Y2FzZSJzb3VyY2UiOmY9Yi5jb2xvcnx8ajticmVhaztjYXNlInRhcmdldCI6Zj1jLmNvbG9yfHxqO2JyZWFrO2RlZmF1bHQ6Zj1rfWY9ImVkZ2UiPT09ZSgiZWRnZUhvdmVyQ29sb3IiKT9hLmhvdmVyX2NvbG9yfHxmOmEuaG92ZXJfY29sb3J8fGUoImRlZmF1bHRFZGdlSG92ZXJDb2xvciIpfHxmLGQuc3Ryb2tlU3R5bGU9ZixkLmxpbmVXaWR0aD1oLGQuYmVnaW5QYXRoKCksZC5tb3ZlVG8obixvKSxiLmlkPT09Yy5pZD9kLmJlemllckN1cnZlVG8obC54MSxsLnkxLGwueDIsbC55MixwLHEpOmQucXVhZHJhdGljQ3VydmVUbyhsLngsbC55LHAscSksZC5zdHJva2UoKX19KCksZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7c2lnbWEudXRpbHMucGtnKCJzaWdtYS5jYW52YXMuZWRnZWhvdmVycyIpLHNpZ21hLmNhbnZhcy5lZGdlaG92ZXJzLmFycm93PWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9YS5jb2xvcixnPWUoInByZWZpeCIpfHwiIixoPWUoImVkZ2VDb2xvciIpLGk9ZSgiZGVmYXVsdE5vZGVDb2xvciIpLGo9ZSgiZGVmYXVsdEVkZ2VDb2xvciIpLGs9YVtnKyJzaXplIl18fDEsbD1jW2crInNpemUiXSxtPWJbZysieCJdLG49YltnKyJ5Il0sbz1jW2crIngiXSxwPWNbZysieSJdO2s9YS5ob3Zlcj9lKCJlZGdlSG92ZXJTaXplUmF0aW8iKSprOms7dmFyIHE9Mi41Kmsscj1NYXRoLnNxcnQoTWF0aC5wb3coby1tLDIpK01hdGgucG93KHAtbiwyKSkscz1tKyhvLW0pKihyLXEtbCkvcix0PW4rKHAtbikqKHItcS1sKS9yLHU9KG8tbSkqcS9yLHY9KHAtbikqcS9yO2lmKCFmKXN3aXRjaChoKXtjYXNlInNvdXJjZSI6Zj1iLmNvbG9yfHxpO2JyZWFrO2Nhc2UidGFyZ2V0IjpmPWMuY29sb3J8fGk7YnJlYWs7ZGVmYXVsdDpmPWp9Zj0iZWRnZSI9PT1lKCJlZGdlSG92ZXJDb2xvciIpP2EuaG92ZXJfY29sb3J8fGY6YS5ob3Zlcl9jb2xvcnx8ZSgiZGVmYXVsdEVkZ2VIb3ZlckNvbG9yIil8fGYsZC5zdHJva2VTdHlsZT1mLGQubGluZVdpZHRoPWssZC5iZWdpblBhdGgoKSxkLm1vdmVUbyhtLG4pLGQubGluZVRvKHMsdCksZC5zdHJva2UoKSxkLmZpbGxTdHlsZT1mLGQuYmVnaW5QYXRoKCksZC5tb3ZlVG8ocyt1LHQrdiksZC5saW5lVG8ocysuNip2LHQtLjYqdSksZC5saW5lVG8ocy0uNip2LHQrLjYqdSksZC5saW5lVG8ocyt1LHQrdiksZC5jbG9zZVBhdGgoKSxkLmZpbGwoKX19KCksZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7c2lnbWEudXRpbHMucGtnKCJzaWdtYS5jYW52YXMuZWRnZWhvdmVycyIpLHNpZ21hLmNhbnZhcy5lZGdlaG92ZXJzLmN1cnZlZEFycm93PWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGYsZyxoLGksaixrLGw9YS5jb2xvcixtPWUoInByZWZpeCIpfHwiIixuPWUoImVkZ2VDb2xvciIpLG89ZSgiZGVmYXVsdE5vZGVDb2xvciIpLHA9ZSgiZGVmYXVsdEVkZ2VDb2xvciIpLHE9e30scj1lKCJlZGdlSG92ZXJTaXplUmF0aW8iKSooYVttKyJzaXplIl18fDEpLHM9Y1ttKyJzaXplIl0sdD1iW20rIngiXSx1PWJbbSsieSJdLHY9Y1ttKyJ4Il0sdz1jW20rInkiXTtpZihxPWIuaWQ9PT1jLmlkP3NpZ21hLnV0aWxzLmdldFNlbGZMb29wQ29udHJvbFBvaW50cyh0LHUscyk6c2lnbWEudXRpbHMuZ2V0UXVhZHJhdGljQ29udHJvbFBvaW50KHQsdSx2LHcpLGIuaWQ9PT1jLmlkPyhmPU1hdGguc3FydChNYXRoLnBvdyh2LXEueDEsMikrTWF0aC5wb3cody1xLnkxLDIpKSxnPTIuNSpyLGg9cS54MSsodi1xLngxKSooZi1nLXMpL2YsaT1xLnkxKyh3LXEueTEpKihmLWctcykvZixqPSh2LXEueDEpKmcvZixrPSh3LXEueTEpKmcvZik6KGY9TWF0aC5zcXJ0KE1hdGgucG93KHYtcS54LDIpK01hdGgucG93KHctcS55LDIpKSxnPTIuNSpyLGg9cS54Kyh2LXEueCkqKGYtZy1zKS9mLGk9cS55Kyh3LXEueSkqKGYtZy1zKS9mLGo9KHYtcS54KSpnL2Ysaz0ody1xLnkpKmcvZiksIWwpc3dpdGNoKG4pe2Nhc2Uic291cmNlIjpsPWIuY29sb3J8fG87YnJlYWs7Y2FzZSJ0YXJnZXQiOmw9Yy5jb2xvcnx8bzticmVhaztkZWZhdWx0Omw9cH1sPSJlZGdlIj09PWUoImVkZ2VIb3ZlckNvbG9yIik/YS5ob3Zlcl9jb2xvcnx8bDphLmhvdmVyX2NvbG9yfHxlKCJkZWZhdWx0RWRnZUhvdmVyQ29sb3IiKXx8bCxkLnN0cm9rZVN0eWxlPWwsZC5saW5lV2lkdGg9cixkLmJlZ2luUGF0aCgpLGQubW92ZVRvKHQsdSksYi5pZD09PWMuaWQ/ZC5iZXppZXJDdXJ2ZVRvKHEueDIscS55MixxLngxLHEueTEsaCxpKTpkLnF1YWRyYXRpY0N1cnZlVG8ocS54LHEueSxoLGkpLGQuc3Ryb2tlKCksZC5maWxsU3R5bGU9bCxkLmJlZ2luUGF0aCgpLGQubW92ZVRvKGgraixpK2spLGQubGluZVRvKGgrLjYqayxpLS42KmopLGQubGluZVRvKGgtLjYqayxpKy42KmopLGQubGluZVRvKGgraixpK2spLGQuY2xvc2VQYXRoKCksZC5maWxsKCl9fSgpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtpZigidW5kZWZpbmVkIj09dHlwZW9mIHNpZ21hKXRocm93InNpZ21hIGlzIG5vdCBkZWNsYXJlZCI7c2lnbWEudXRpbHMucGtnKCJzaWdtYS5jYW52YXMuZXh0cmVtaXRpZXMiKSxzaWdtYS5jYW52YXMuZXh0cmVtaXRpZXMuZGVmPWZ1bmN0aW9uKGEsYixjLGQsZSl7KHNpZ21hLmNhbnZhcy5ob3ZlcnNbYi50eXBlXXx8c2lnbWEuY2FudmFzLmhvdmVycy5kZWYpKGIsZCxlKSwoc2lnbWEuY2FudmFzLmhvdmVyc1tjLnR5cGVdfHxzaWdtYS5jYW52YXMuaG92ZXJzLmRlZikoYyxkLGUpfX0uY2FsbCh0aGlzKSxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0IjtzaWdtYS51dGlscy5wa2coInNpZ21hLnN2Zy51dGlscyIpLHNpZ21hLnN2Zy51dGlscz17c2hvdzpmdW5jdGlvbihhKXtyZXR1cm4gYS5zdHlsZS5kaXNwbGF5PSIiLHRoaXN9LGhpZGU6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuc3R5bGUuZGlzcGxheT0ibm9uZSIsdGhpc319fSgpLGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3NpZ21hLnV0aWxzLnBrZygic2lnbWEuc3ZnLm5vZGVzIiksc2lnbWEuc3ZnLm5vZGVzLmRlZj17Y3JlYXRlOmZ1bmN0aW9uKGEsYil7dmFyIGM9KGIoInByZWZpeCIpLGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhiKCJ4bWxucyIpLCJjaXJjbGUiKSk7cmV0dXJuIGMuc2V0QXR0cmlidXRlTlMobnVsbCwiZGF0YS1ub2RlLWlkIixhLmlkKSxjLnNldEF0dHJpYnV0ZU5TKG51bGwsImNsYXNzIixiKCJjbGFzc1ByZWZpeCIpKyItbm9kZSIpLGMuc2V0QXR0cmlidXRlTlMobnVsbCwiZmlsbCIsYS5jb2xvcnx8YigiZGVmYXVsdE5vZGVDb2xvciIpKSxjfSx1cGRhdGU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWMoInByZWZpeCIpfHwiIjtyZXR1cm4gYi5zZXRBdHRyaWJ1dGVOUyhudWxsLCJjeCIsYVtkKyJ4Il0pLGIuc2V0QXR0cmlidXRlTlMobnVsbCwiY3kiLGFbZCsieSJdKSxiLnNldEF0dHJpYnV0ZU5TKG51bGwsInIiLGFbZCsic2l6ZSJdKSxjKCJmcmVlU3R5bGUiKXx8Yi5zZXRBdHRyaWJ1dGVOUyhudWxsLCJmaWxsIixhLmNvbG9yfHxjKCJkZWZhdWx0Tm9kZUNvbG9yIikpLGIuc3R5bGUuZGlzcGxheT0iIix0aGlzfX19KCksZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7c2lnbWEudXRpbHMucGtnKCJzaWdtYS5zdmcuZWRnZXMiKSxzaWdtYS5zdmcuZWRnZXMuZGVmPXtjcmVhdGU6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9YS5jb2xvcixmPShkKCJwcmVmaXgiKSxkKCJlZGdlQ29sb3IiKSksZz1kKCJkZWZhdWx0Tm9kZUNvbG9yIiksaD1kKCJkZWZhdWx0RWRnZUNvbG9yIik7aWYoIWUpc3dpdGNoKGYpe2Nhc2Uic291cmNlIjplPWIuY29sb3J8fGc7YnJlYWs7Y2FzZSJ0YXJnZXQiOmU9Yy5jb2xvcnx8ZzticmVhaztkZWZhdWx0OmU9aH12YXIgaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoZCgieG1sbnMiKSwibGluZSIpO3JldHVybiBpLnNldEF0dHJpYnV0ZU5TKG51bGwsImRhdGEtZWRnZS1pZCIsYS5pZCksaS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJjbGFzcyIsZCgiY2xhc3NQcmVmaXgiKSsiLWVkZ2UiKSxpLnNldEF0dHJpYnV0ZU5TKG51bGwsInN0cm9rZSIsZSksaX0sdXBkYXRlOmZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9ZSgicHJlZml4Iil8fCIiO3JldHVybiBiLnNldEF0dHJpYnV0ZU5TKG51bGwsInN0cm9rZS13aWR0aCIsYVtmKyJzaXplIl18fDEpLGIuc2V0QXR0cmlidXRlTlMobnVsbCwieDEiLGNbZisieCJdKSxiLnNldEF0dHJpYnV0ZU5TKG51bGwsInkxIixjW2YrInkiXSksYi5zZXRBdHRyaWJ1dGVOUyhudWxsLCJ4MiIsZFtmKyJ4Il0pLGIuc2V0QXR0cmlidXRlTlMobnVsbCwieTIiLGRbZisieSJdKSxiLnN0eWxlLmRpc3BsYXk9IiIsdGhpc319fSgpLGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3NpZ21hLnV0aWxzLnBrZygic2lnbWEuc3ZnLmVkZ2VzIiksc2lnbWEuc3ZnLmVkZ2VzLmN1cnZlPXtjcmVhdGU6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9YS5jb2xvcixmPShkKCJwcmVmaXgiKSxkKCJlZGdlQ29sb3IiKSksZz1kKCJkZWZhdWx0Tm9kZUNvbG9yIiksaD1kKCJkZWZhdWx0RWRnZUNvbG9yIik7aWYoIWUpc3dpdGNoKGYpe2Nhc2Uic291cmNlIjplPWIuY29sb3J8fGc7YnJlYWs7Y2FzZSJ0YXJnZXQiOmU9Yy5jb2xvcnx8ZzticmVhaztkZWZhdWx0OmU9aH12YXIgaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoZCgieG1sbnMiKSwicGF0aCIpO3JldHVybiBpLnNldEF0dHJpYnV0ZU5TKG51bGwsImRhdGEtZWRnZS1pZCIsYS5pZCksaS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJjbGFzcyIsZCgiY2xhc3NQcmVmaXgiKSsiLWVkZ2UiKSxpLnNldEF0dHJpYnV0ZU5TKG51bGwsInN0cm9rZSIsZSksaX0sdXBkYXRlOmZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9ZSgicHJlZml4Iil8fCIiO2Iuc2V0QXR0cmlidXRlTlMobnVsbCwic3Ryb2tlLXdpZHRoIixhW2YrInNpemUiXXx8MSk7dmFyIGc9KGNbZisieCJdK2RbZisieCJdKS8yKyhkW2YrInkiXS1jW2YrInkiXSkvNCxoPShjW2YrInkiXStkW2YrInkiXSkvMisoY1tmKyJ4Il0tZFtmKyJ4Il0pLzQsaT0iTSIrY1tmKyJ4Il0rIiwiK2NbZisieSJdKyIgUSIrZysiLCIraCsiICIrZFtmKyJ4Il0rIiwiK2RbZisieSJdO3JldHVybiBiLnNldEF0dHJpYnV0ZU5TKG51bGwsImQiLGkpLGIuc2V0QXR0cmlidXRlTlMobnVsbCwiZmlsbCIsIm5vbmUiKSxiLnN0eWxlLmRpc3BsYXk9IiIsdGhpc319fSgpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtpZigidW5kZWZpbmVkIj09dHlwZW9mIHNpZ21hKXRocm93InNpZ21hIGlzIG5vdCBkZWNsYXJlZCI7c2lnbWEudXRpbHMucGtnKCJzaWdtYS5zdmcubGFiZWxzIiksc2lnbWEuc3ZnLmxhYmVscy5kZWY9e2NyZWF0ZTpmdW5jdGlvbihhLGIpe3ZhciBjPWIoInByZWZpeCIpfHwiIixkPWFbYysic2l6ZSJdLGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKGIoInhtbG5zIiksInRleHQiKSxmPSJmaXhlZCI9PT1iKCJsYWJlbFNpemUiKT9iKCJkZWZhdWx0TGFiZWxTaXplIik6YigibGFiZWxTaXplUmF0aW8iKSpkLGc9Im5vZGUiPT09YigibGFiZWxDb2xvciIpP2EuY29sb3J8fGIoImRlZmF1bHROb2RlQ29sb3IiKTpiKCJkZWZhdWx0TGFiZWxDb2xvciIpO3JldHVybiBlLnNldEF0dHJpYnV0ZU5TKG51bGwsImRhdGEtbGFiZWwtdGFyZ2V0IixhLmlkKSxlLnNldEF0dHJpYnV0ZU5TKG51bGwsImNsYXNzIixiKCJjbGFzc1ByZWZpeCIpKyItbGFiZWwiKSxlLnNldEF0dHJpYnV0ZU5TKG51bGwsImZvbnQtc2l6ZSIsZiksZS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJmb250LWZhbWlseSIsYigiZm9udCIpKSxlLnNldEF0dHJpYnV0ZU5TKG51bGwsImZpbGwiLGcpLGUuaW5uZXJIVE1MPWEubGFiZWwsZS50ZXh0Q29udGVudD1hLmxhYmVsLGV9LHVwZGF0ZTpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9YygicHJlZml4Iil8fCIiLGU9YVtkKyJzaXplIl0sZj0iZml4ZWQiPT09YygibGFiZWxTaXplIik/YygiZGVmYXVsdExhYmVsU2l6ZSIpOmMoImxhYmVsU2l6ZVJhdGlvIikqZTtpZigoYygiZm9yY2VMYWJlbHMiKXx8IShlPGMoImxhYmVsVGhyZXNob2xkIikpKSYmInN0cmluZyI9PXR5cGVvZiBhLmxhYmVsKXJldHVybiBiLnNldEF0dHJpYnV0ZU5TKG51bGwsIngiLE1hdGgucm91bmQoYVtkKyJ4Il0rZSszKSksYi5zZXRBdHRyaWJ1dGVOUyhudWxsLCJ5IixNYXRoLnJvdW5kKGFbZCsieSJdK2YvMykpLGIuc3R5bGUuZGlzcGxheT0iIix0aGlzfX19LmNhbGwodGhpcyksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2lmKCJ1bmRlZmluZWQiPT10eXBlb2Ygc2lnbWEpdGhyb3cic2lnbWEgaXMgbm90IGRlY2xhcmVkIjtzaWdtYS51dGlscy5wa2coInNpZ21hLnN2Zy5ob3ZlcnMiKSxzaWdtYS5zdmcuaG92ZXJzLmRlZj17Y3JlYXRlOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlLGYsZyxoPShkKCJob3ZlckZvbnRTdHlsZSIpfHxkKCJmb250U3R5bGUiKSxkKCJwcmVmaXgiKXx8IiIpLGk9YVtoKyJzaXplIl0saj0iZml4ZWQiPT09ZCgibGFiZWxTaXplIik/ZCgiZGVmYXVsdExhYmVsU2l6ZSIpOmQoImxhYmVsU2l6ZVJhdGlvIikqaSxrPSJub2RlIj09PWQoImxhYmVsSG92ZXJDb2xvciIpP2EuY29sb3J8fGQoImRlZmF1bHROb2RlQ29sb3IiKTpkKCJkZWZhdWx0TGFiZWxIb3ZlckNvbG9yIiksbD1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoZCgieG1sbnMiKSwiZyIpLG09ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKGQoInhtbG5zIiksInJlY3QiKSxuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhkKCJ4bWxucyIpLCJjaXJjbGUiKSxvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhkKCJ4bWxucyIpLCJ0ZXh0Iik7cmV0dXJuIGwuc2V0QXR0cmlidXRlTlMobnVsbCwiY2xhc3MiLGQoImNsYXNzUHJlZml4IikrIi1ob3ZlciIpLGwuc2V0QXR0cmlidXRlTlMobnVsbCwiZGF0YS1ub2RlLWlkIixhLmlkKSwic3RyaW5nIj09dHlwZW9mIGEubGFiZWwmJihvLmlubmVySFRNTD1hLmxhYmVsLG8udGV4dENvbnRlbnQ9YS5sYWJlbCxvLnNldEF0dHJpYnV0ZU5TKG51bGwsImNsYXNzIixkKCJjbGFzc1ByZWZpeCIpKyItaG92ZXItbGFiZWwiKSxvLnNldEF0dHJpYnV0ZU5TKG51bGwsImZvbnQtc2l6ZSIsaiksby5zZXRBdHRyaWJ1dGVOUyhudWxsLCJmb250LWZhbWlseSIsZCgiZm9udCIpKSxvLnNldEF0dHJpYnV0ZU5TKG51bGwsImZpbGwiLGspLG8uc2V0QXR0cmlidXRlTlMobnVsbCwieCIsTWF0aC5yb3VuZChhW2grIngiXStpKzMpKSxvLnNldEF0dHJpYnV0ZU5TKG51bGwsInkiLE1hdGgucm91bmQoYVtoKyJ5Il0rai8zKSksTWF0aC5yb3VuZChhW2grIngiXS1qLzItMiksTWF0aC5yb3VuZChhW2grInkiXS1qLzItMiksZT1NYXRoLnJvdW5kKGMubWVhc3VyZVRleHQoYS5sYWJlbCkud2lkdGgrai8yK2krOSksZj1NYXRoLnJvdW5kKGorNCksZz1NYXRoLnJvdW5kKGovMisyKSxuLnNldEF0dHJpYnV0ZU5TKG51bGwsImNsYXNzIixkKCJjbGFzc1ByZWZpeCIpKyItaG92ZXItYXJlYSIpLG4uc2V0QXR0cmlidXRlTlMobnVsbCwiZmlsbCIsIiNmZmYiKSxuLnNldEF0dHJpYnV0ZU5TKG51bGwsImN4IixhW2grIngiXSksbi5zZXRBdHRyaWJ1dGVOUyhudWxsLCJjeSIsYVtoKyJ5Il0pLG4uc2V0QXR0cmlidXRlTlMobnVsbCwiciIsZyksbS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJjbGFzcyIsZCgiY2xhc3NQcmVmaXgiKSsiLWhvdmVyLWFyZWEiKSxtLnNldEF0dHJpYnV0ZU5TKG51bGwsImZpbGwiLCIjZmZmIiksbS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJ4IixhW2grIngiXStnLzQpLG0uc2V0QXR0cmlidXRlTlMobnVsbCwieSIsYVtoKyJ5Il0tZyksbS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJ3aWR0aCIsZSksbS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJoZWlnaHQiLGYpKSxsLmFwcGVuZENoaWxkKG4pLGwuYXBwZW5kQ2hpbGQobSksbC5hcHBlbmRDaGlsZChvKSxsLmFwcGVuZENoaWxkKGIpLGx9fX0uY2FsbCh0aGlzKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBzaWdtYSl0aHJvdyJzaWdtYSBpcyBub3QgZGVjbGFyZWQiO3NpZ21hLnV0aWxzLnBrZygic2lnbWEubWlkZGxld2FyZXMiKSxzaWdtYS51dGlscy5wa2coInNpZ21hLnV0aWxzIiksc2lnbWEubWlkZGxld2FyZXMucmVzY2FsZT1mdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmLGcsaCxpLGosayxsPXRoaXMuZ3JhcGgubm9kZXMoKSxtPXRoaXMuZ3JhcGguZWRnZXMoKSxuPXRoaXMuc2V0dGluZ3MuZW1iZWRPYmplY3RzKGN8fHt9KSxvPW4oImJvdW5kcyIpfHxzaWdtYS51dGlscy5nZXRCb3VuZGFyaWVzKHRoaXMuZ3JhcGgsYSwhMCkscD1vLm1pblgscT1vLm1pblkscj1vLm1heFgscz1vLm1heFksdD1vLnNpemVNYXgsdT1vLndlaWdodE1heCx2PW4oIndpZHRoIil8fDEsdz1uKCJoZWlnaHQiKXx8MSx4PW4oImF1dG9SZXNjYWxlIikseT17bm9kZVBvc2l0aW9uOjEsbm9kZVNpemU6MSxlZGdlU2l6ZToxfTtmb3IoeCBpbnN0YW5jZW9mIEFycmF5fHwoeD1bIm5vZGVQb3NpdGlvbiIsIm5vZGVTaXplIiwiZWRnZVNpemUiXSksZD0wLGU9eC5sZW5ndGg7ZDxlO2QrKylpZigheVt4W2RdXSl0aHJvdyBuZXcgRXJyb3IoJ1RoZSByZXNjYWxlIHNldHRpbmcgIicreFtkXSsnIiBpcyBub3QgcmVjb2duaXplZC4nKTt2YXIgej1+eC5pbmRleE9mKCJub2RlUG9zaXRpb24iKSxBPX54LmluZGV4T2YoIm5vZGVTaXplIiksQj1+eC5pbmRleE9mKCJlZGdlU2l6ZSIpO2ZvcihqPSJvdXRzaWRlIj09PW4oInNjYWxpbmdNb2RlIik/TWF0aC5tYXgodi9NYXRoLm1heChyLXAsMSksdy9NYXRoLm1heChzLXEsMSkpOk1hdGgubWluKHYvTWF0aC5tYXgoci1wLDEpLHcvTWF0aC5tYXgocy1xLDEpKSxrPShuKCJyZXNjYWxlSWdub3JlU2l6ZSIpPzA6KG4oIm1heE5vZGVTaXplIil8fHQpL2opKyhuKCJzaWRlTWFyZ2luIil8fDApLHIrPWsscC09ayxzKz1rLHEtPWssaj0ib3V0c2lkZSI9PT1uKCJzY2FsaW5nTW9kZSIpP01hdGgubWF4KHYvTWF0aC5tYXgoci1wLDEpLHcvTWF0aC5tYXgocy1xLDEpKTpNYXRoLm1pbih2L01hdGgubWF4KHItcCwxKSx3L01hdGgubWF4KHMtcSwxKSksbigibWF4Tm9kZVNpemUiKXx8bigibWluTm9kZVNpemUiKT9uKCJtYXhOb2RlU2l6ZSIpPT09bigibWluTm9kZVNpemUiKT8oZj0wLGc9K24oIm1heE5vZGVTaXplIikpOihmPShuKCJtYXhOb2RlU2l6ZSIpLW4oIm1pbk5vZGVTaXplIikpL3QsZz0rbigibWluTm9kZVNpemUiKSk6KGY9MSxnPTApLG4oIm1heEVkZ2VTaXplIil8fG4oIm1pbkVkZ2VTaXplIik/bigibWF4RWRnZVNpemUiKT09PW4oIm1pbkVkZ2VTaXplIik/KGg9MCxpPStuKCJtaW5FZGdlU2l6ZSIpKTooaD0obigibWF4RWRnZVNpemUiKS1uKCJtaW5FZGdlU2l6ZSIpKS91LGk9K24oIm1pbkVkZ2VTaXplIikpOihoPTEsaT0wKSxkPTAsZT1tLmxlbmd0aDtkPGU7ZCsrKW1bZF1bYisic2l6ZSJdPW1bZF1bYSsic2l6ZSJdKihCP2g6MSkrKEI/aTowKTtmb3IoZD0wLGU9bC5sZW5ndGg7ZDxlO2QrKylsW2RdW2IrInNpemUiXT1sW2RdW2ErInNpemUiXSooQT9mOjEpKyhBP2c6MCksbFtkXVtiKyJ4Il09KGxbZF1bYSsieCJdLShyK3ApLzIpKih6P2o6MSksbFtkXVtiKyJ5Il09KGxbZF1bYSsieSJdLShzK3EpLzIpKih6P2o6MSl9LHNpZ21hLnV0aWxzLmdldEJvdW5kYXJpZXM9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZj1hLmVkZ2VzKCksZz1hLm5vZGVzKCksaD0tMS8wLGk9LTEvMCxqPTEvMCxrPTEvMCxsPS0xLzAsbT0tMS8wO2lmKGMpZm9yKGQ9MCxlPWYubGVuZ3RoO2Q8ZTtkKyspaD1NYXRoLm1heChmW2RdW2IrInNpemUiXSxoKTtmb3IoZD0wLGU9Zy5sZW5ndGg7ZDxlO2QrKylpPU1hdGgubWF4KGdbZF1bYisic2l6ZSJdLGkpLGw9TWF0aC5tYXgoZ1tkXVtiKyJ4Il0sbCksaj1NYXRoLm1pbihnW2RdW2IrIngiXSxqKSxtPU1hdGgubWF4KGdbZF1bYisieSJdLG0pLGs9TWF0aC5taW4oZ1tkXVtiKyJ5Il0sayk7cmV0dXJuIGg9aHx8MSxpPWl8fDEse3dlaWdodE1heDpoLHNpemVNYXg6aSxtaW5YOmosbWluWTprLG1heFg6bCxtYXhZOm19fX0uY2FsbCh0aGlzKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBzaWdtYSl0aHJvdyJzaWdtYSBpcyBub3QgZGVjbGFyZWQiO3NpZ21hLnV0aWxzLnBrZygic2lnbWEubWlkZGxld2FyZXMiKSxzaWdtYS5taWRkbGV3YXJlcy5jb3B5PWZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlO2lmKGIrIiIhPWErIiIpe2ZvcihlPXRoaXMuZ3JhcGgubm9kZXMoKSxjPTAsZD1lLmxlbmd0aDtjPGQ7YysrKWVbY11bYisieCJdPWVbY11bYSsieCJdLGVbY11bYisieSJdPWVbY11bYSsieSJdLGVbY11bYisic2l6ZSJdPWVbY11bYSsic2l6ZSJdO2ZvcihlPXRoaXMuZ3JhcGguZWRnZXMoKSxjPTAsZD1lLmxlbmd0aDtjPGQ7YysrKWVbY11bYisic2l6ZSJdPWVbY11bYSsic2l6ZSJdfX19LmNhbGwodGhpcyksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2lmKCJ1bmRlZmluZWQiPT10eXBlb2Ygc2lnbWEpdGhyb3cic2lnbWEgaXMgbm90IGRlY2xhcmVkIjtzaWdtYS51dGlscy5wa2coInNpZ21hLm1pc2MuYW5pbWF0aW9uLnJ1bm5pbmciKTt2YXIgYj1mdW5jdGlvbigpe3ZhciBhPTA7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIiIrICsrYX19KCk7c2lnbWEubWlzYy5hbmltYXRpb24uY2FtZXJhPWZ1bmN0aW9uKGMsZCxlKXtpZighKGMgaW5zdGFuY2VvZiBzaWdtYS5jbGFzc2VzLmNhbWVyYSYmIm9iamVjdCI9PXR5cGVvZiBkJiZkKSl0aHJvdyJhbmltYXRpb24uY2FtZXJhOiBXcm9uZyBhcmd1bWVudHMuIjtpZigibnVtYmVyIiE9dHlwZW9mIGQueCYmIm51bWJlciIhPXR5cGVvZiBkLnkmJiJudW1iZXIiIT10eXBlb2YgZC5yYXRpbyYmIm51bWJlciIhPXR5cGVvZiBkLmFuZ2xlKXRocm93IlRoZXJlIG11c3QgYmUgYXQgbGVhc3Qgb25lIHZhbGlkIGNvb3JkaW5hdGUgaW4gdGhlIGdpdmVuIHZhbC4iO3ZhciBmLGcsaCxpLGosaz1lfHx7fSxsPXNpZ21hLnV0aWxzLmRhdGVOb3coKTtyZXR1cm4gaj17eDpjLngseTpjLnkscmF0aW86Yy5yYXRpbyxhbmdsZTpjLmFuZ2xlfSxrLmR1cmF0aW9uLGk9ImZ1bmN0aW9uIiE9dHlwZW9mIGsuZWFzaW5nP3NpZ21hLnV0aWxzLmVhc2luZ3Nbay5lYXNpbmd8fCJxdWFkcmF0aWNJbk91dCJdOmsuZWFzaW5nLGY9ZnVuY3Rpb24oKXt2YXIgYixlPWsuZHVyYXRpb24/KHNpZ21hLnV0aWxzLmRhdGVOb3coKS1sKS9rLmR1cmF0aW9uOjE7ZT49MT8oYy5pc0FuaW1hdGVkPSExLGMuZ29Ubyh7eDpkLnghPT1hP2QueDpqLngseTpkLnkhPT1hP2QueTpqLnkscmF0aW86ZC5yYXRpbyE9PWE/ZC5yYXRpbzpqLnJhdGlvLGFuZ2xlOmQuYW5nbGUhPT1hP2QuYW5nbGU6ai5hbmdsZX0pLGNhbmNlbEFuaW1hdGlvbkZyYW1lKGcpLGRlbGV0ZSBzaWdtYS5taXNjLmFuaW1hdGlvbi5ydW5uaW5nW2ddLCJmdW5jdGlvbiI9PXR5cGVvZiBrLm9uQ29tcGxldGUmJmsub25Db21wbGV0ZSgpKTooYj1pKGUpLGMuaXNBbmltYXRlZD0hMCxjLmdvVG8oe3g6ZC54IT09YT9qLngrKGQueC1qLngpKmI6ai54LHk6ZC55IT09YT9qLnkrKGQueS1qLnkpKmI6ai55LHJhdGlvOmQucmF0aW8hPT1hP2oucmF0aW8rKGQucmF0aW8tai5yYXRpbykqYjpqLnJhdGlvLGFuZ2xlOmQuYW5nbGUhPT1hP2ouYW5nbGUrKGQuYW5nbGUtai5hbmdsZSkqYjpqLmFuZ2xlfSksImZ1bmN0aW9uIj09dHlwZW9mIGsub25OZXdGcmFtZSYmay5vbk5ld0ZyYW1lKCksaC5mcmFtZUlkPXJlcXVlc3RBbmltYXRpb25GcmFtZShmKSl9LGc9YigpLGg9e2ZyYW1lSWQ6cmVxdWVzdEFuaW1hdGlvbkZyYW1lKGYpLHRhcmdldDpjLHR5cGU6ImNhbWVyYSIsb3B0aW9uczprLGZuOmZ9LHNpZ21hLm1pc2MuYW5pbWF0aW9uLnJ1bm5pbmdbZ109aCxnfSxzaWdtYS5taXNjLmFuaW1hdGlvbi5raWxsPWZ1bmN0aW9uKGEpe2lmKDEhPT1hcmd1bWVudHMubGVuZ3RofHwibnVtYmVyIiE9dHlwZW9mIGEpdGhyb3ciYW5pbWF0aW9uLmtpbGw6IFdyb25nIGFyZ3VtZW50cy4iO3ZhciBiPXNpZ21hLm1pc2MuYW5pbWF0aW9uLnJ1bm5pbmdbYV07cmV0dXJuIGImJihjYW5jZWxBbmltYXRpb25GcmFtZShhKSxkZWxldGUgc2lnbWEubWlzYy5hbmltYXRpb24ucnVubmluZ1tiLmZyYW1lSWRdLCJjYW1lcmEiPT09Yi50eXBlJiYoYi50YXJnZXQuaXNBbmltYXRlZD0hMSksImZ1bmN0aW9uIj09dHlwZW9mKGIub3B0aW9uc3x8e30pLm9uQ29tcGxldGUmJmIub3B0aW9ucy5vbkNvbXBsZXRlKCkpLHRoaXN9LHNpZ21hLm1pc2MuYW5pbWF0aW9uLmtpbGxBbGw9ZnVuY3Rpb24oYSl7dmFyIGIsYyxkPTAsZT0ic3RyaW5nIj09dHlwZW9mIGE/YTpudWxsLGY9Im9iamVjdCI9PXR5cGVvZiBhP2E6bnVsbCxnPXNpZ21hLm1pc2MuYW5pbWF0aW9uLnJ1bm5pbmc7Zm9yKGMgaW4gZyllJiZnW2NdLnR5cGUhPT1lfHxmJiZnW2NdLnRhcmdldCE9PWZ8fChiPXNpZ21hLm1pc2MuYW5pbWF0aW9uLnJ1bm5pbmdbY10sY2FuY2VsQW5pbWF0aW9uRnJhbWUoYi5mcmFtZUlkKSxkZWxldGUgc2lnbWEubWlzYy5hbmltYXRpb24ucnVubmluZ1tjXSwiY2FtZXJhIj09PWIudHlwZSYmKGIudGFyZ2V0LmlzQW5pbWF0ZWQ9ITEpLGQrKywiZnVuY3Rpb24iPT10eXBlb2YoYi5vcHRpb25zfHx7fSkub25Db21wbGV0ZSYmYi5vcHRpb25zLm9uQ29tcGxldGUoKSk7cmV0dXJuIGR9LHNpZ21hLm1pc2MuYW5pbWF0aW9uLmhhcz1mdW5jdGlvbihhKXt2YXIgYixjPSJzdHJpbmciPT10eXBlb2YgYT9hOm51bGwsZD0ib2JqZWN0Ij09dHlwZW9mIGE/YTpudWxsLGU9c2lnbWEubWlzYy5hbmltYXRpb24ucnVubmluZztmb3IoYiBpbiBlKWlmKCEoYyYmZVtiXS50eXBlIT09Y3x8ZCYmZVtiXS50YXJnZXQhPT1kKSlyZXR1cm4hMDtyZXR1cm4hMX19LmNhbGwodGhpcyksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2lmKCJ1bmRlZmluZWQiPT10eXBlb2Ygc2lnbWEpdGhyb3cic2lnbWEgaXMgbm90IGRlY2xhcmVkIjtzaWdtYS51dGlscy5wa2coInNpZ21hLm1pc2MiKSxzaWdtYS5taXNjLmJpbmRFdmVudHM9ZnVuY3Rpb24oYil7ZnVuY3Rpb24gYyhhKXthJiYoaD0ieCJpbiBhLmRhdGE/YS5kYXRhLng6aCxpPSJ5ImluIGEuZGF0YT9hLmRhdGEueTppKTt2YXIgYyxkLGUsZixnLGssbCxtLG49W10sbz1oK2oud2lkdGgvMixwPWkrai5oZWlnaHQvMixxPWouY2FtZXJhLmNhbWVyYVBvc2l0aW9uKGgsaSkscj1qLmNhbWVyYS5xdWFkdHJlZS5wb2ludChxLngscS55KTtpZihyLmxlbmd0aClmb3IoYz0wLGU9ci5sZW5ndGg7YzxlO2MrKylpZihmPXJbY10sZz1mW2IrIngiXSxrPWZbYisieSJdLGw9ZltiKyJzaXplIl0sIWYuaGlkZGVuJiZvPmctbCYmbzxnK2wmJnA+ay1sJiZwPGsrbCYmTWF0aC5zcXJ0KE1hdGgucG93KG8tZywyKStNYXRoLnBvdyhwLWssMikpPGwpe2ZvcihtPSExLGQ9MDtkPG4ubGVuZ3RoO2QrKylpZihmLnNpemU+bltkXS5zaXplKXtuLnNwbGljZShkLDAsZiksbT0hMDticmVha31tfHxuLnB1c2goZil9cmV0dXJuIG59ZnVuY3Rpb24gZChjKXtmdW5jdGlvbiBkKGEsYil7Zm9yKHI9ITEsZz0wO2c8YS5sZW5ndGg7ZysrKWlmKGIuc2l6ZT5hW2ddLnNpemUpe2Euc3BsaWNlKGcsMCxiKSxyPSEwO2JyZWFrfXJ8fGEucHVzaChiKX1pZighai5zZXR0aW5ncygiZW5hYmxlRWRnZUhvdmVyaW5nIikpcmV0dXJuW107dmFyIGU9c2lnbWEucmVuZGVyZXJzLmNhbnZhcyYmaiBpbnN0YW5jZW9mIHNpZ21hLnJlbmRlcmVycy5jYW52YXM7aWYoIWUpdGhyb3cgbmV3IEVycm9yKCJUaGUgZWRnZSBldmVudHMgZmVhdHVyZSBpcyBub3QgY29tcGF0aWJsZSB3aXRoIHRoZSBXZWJHTCByZW5kZXJlciIpO2MmJihoPSJ4ImluIGMuZGF0YT9jLmRhdGEueDpoLGk9InkiaW4gYy5kYXRhP2MuZGF0YS55OmkpO3ZhciBmLGcsayxsLG0sbixvLHAscSxyLHM9ai5zZXR0aW5ncygiZWRnZUhvdmVyUHJlY2lzaW9uIiksdD17fSx1PVtdLHY9aCtqLndpZHRoLzIsdz1pK2ouaGVpZ2h0LzIseD1qLmNhbWVyYS5jYW1lcmFQb3NpdGlvbihoLGkpLHk9W107aWYoZSl7dmFyIHo9ai5jYW1lcmEucXVhZHRyZWUuYXJlYShqLmNhbWVyYS5nZXRSZWN0YW5nbGUoai53aWR0aCxqLmhlaWdodCkpO2ZvcihsPXosZj0wLGs9bC5sZW5ndGg7ZjxrO2YrKyl0W2xbZl0uaWRdPWxbZl19aWYoai5jYW1lcmEuZWRnZXF1YWR0cmVlIT09YSYmKHk9ai5jYW1lcmEuZWRnZXF1YWR0cmVlLnBvaW50KHgueCx4LnkpKSx5Lmxlbmd0aClmb3IoZj0wLGs9eS5sZW5ndGg7ZjxrO2YrKyltPXlbZl0sbz1qLmdyYXBoLm5vZGVzKG0uc291cmNlKSxwPWouZ3JhcGgubm9kZXMobS50YXJnZXQpLG49bVtiKyJzaXplIl18fG1bInJlYWRfIitiKyJzaXplIl0sIW0uaGlkZGVuJiYhby5oaWRkZW4mJiFwLmhpZGRlbiYmKCFlfHx0W20uc291cmNlXXx8dFttLnRhcmdldF0pJiZzaWdtYS51dGlscy5nZXREaXN0YW5jZShvW2IrIngiXSxvW2IrInkiXSx2LHcpPm9bYisic2l6ZSJdJiZzaWdtYS51dGlscy5nZXREaXN0YW5jZShwW2IrIngiXSxwW2IrInkiXSx2LHcpPnBbYisic2l6ZSJdJiYoImN1cnZlIj09bS50eXBlfHwiY3VydmVkQXJyb3ciPT1tLnR5cGU/by5pZD09PXAuaWQ/KHE9c2lnbWEudXRpbHMuZ2V0U2VsZkxvb3BDb250cm9sUG9pbnRzKG9bYisieCJdLG9bYisieSJdLG9bYisic2l6ZSJdKSxzaWdtYS51dGlscy5pc1BvaW50T25CZXppZXJDdXJ2ZSh2LHcsb1tiKyJ4Il0sb1tiKyJ5Il0scFtiKyJ4Il0scFtiKyJ5Il0scS54MSxxLnkxLHEueDIscS55MixNYXRoLm1heChuLHMpKSYmZCh1LG0pKToocT1zaWdtYS51dGlscy5nZXRRdWFkcmF0aWNDb250cm9sUG9pbnQob1tiKyJ4Il0sb1tiKyJ5Il0scFtiKyJ4Il0scFtiKyJ5Il0pLHNpZ21hLnV0aWxzLmlzUG9pbnRPblF1YWRyYXRpY0N1cnZlKHYsdyxvW2IrIngiXSxvW2IrInkiXSxwW2IrIngiXSxwW2IrInkiXSxxLngscS55LE1hdGgubWF4KG4scykpJiZkKHUsbSkpOnNpZ21hLnV0aWxzLmlzUG9pbnRPblNlZ21lbnQodix3LG9bYisieCJdLG9bYisieSJdLHBbYisieCJdLHBbYisieSJdLE1hdGgubWF4KG4scykpJiZkKHUsbSkpO3JldHVybiB1fWZ1bmN0aW9uIGUoYSl7ZnVuY3Rpb24gYihhKXtqLnNldHRpbmdzKCJldmVudHNFbmFibGVkIikmJihqLmRpc3BhdGNoRXZlbnQoImNsaWNrIixhLmRhdGEpLGk9YyhhKSxrPWQoYSksaS5sZW5ndGg/KGouZGlzcGF0Y2hFdmVudCgiY2xpY2tOb2RlIix7bm9kZTppWzBdLGNhcHRvcjphLmRhdGF9KSxqLmRpc3BhdGNoRXZlbnQoImNsaWNrTm9kZXMiLHtub2RlOmksY2FwdG9yOmEuZGF0YX0pKTprLmxlbmd0aD8oai5kaXNwYXRjaEV2ZW50KCJjbGlja0VkZ2UiLHtlZGdlOmtbMF0sY2FwdG9yOmEuZGF0YX0pLGouZGlzcGF0Y2hFdmVudCgiY2xpY2tFZGdlcyIse2VkZ2U6ayxjYXB0b3I6YS5kYXRhfSkpOmouZGlzcGF0Y2hFdmVudCgiY2xpY2tTdGFnZSIse2NhcHRvcjphLmRhdGF9KSl9ZnVuY3Rpb24gZShhKXtqLnNldHRpbmdzKCJldmVudHNFbmFibGVkIikmJihqLmRpc3BhdGNoRXZlbnQoImRvdWJsZUNsaWNrIixhLmRhdGEpLGk9YyhhKSxrPWQoYSksaS5sZW5ndGg/KGouZGlzcGF0Y2hFdmVudCgiZG91YmxlQ2xpY2tOb2RlIix7bm9kZTppWzBdLGNhcHRvcjphLmRhdGF9KSxqLmRpc3BhdGNoRXZlbnQoImRvdWJsZUNsaWNrTm9kZXMiLHtub2RlOmksY2FwdG9yOmEuZGF0YX0pKTprLmxlbmd0aD8oai5kaXNwYXRjaEV2ZW50KCJkb3VibGVDbGlja0VkZ2UiLHtlZGdlOmtbMF0sY2FwdG9yOmEuZGF0YX0pLGouZGlzcGF0Y2hFdmVudCgiZG91YmxlQ2xpY2tFZGdlcyIse2VkZ2U6ayxjYXB0b3I6YS5kYXRhfSkpOmouZGlzcGF0Y2hFdmVudCgiZG91YmxlQ2xpY2tTdGFnZSIse2NhcHRvcjphLmRhdGF9KSl9ZnVuY3Rpb24gZihhKXtqLnNldHRpbmdzKCJldmVudHNFbmFibGVkIikmJihqLmRpc3BhdGNoRXZlbnQoInJpZ2h0Q2xpY2siLGEuZGF0YSksaT1jKGEpLGs9ZChhKSxpLmxlbmd0aD8oai5kaXNwYXRjaEV2ZW50KCJyaWdodENsaWNrTm9kZSIse25vZGU6aVswXSxjYXB0b3I6YS5kYXRhfSksai5kaXNwYXRjaEV2ZW50KCJyaWdodENsaWNrTm9kZXMiLHtub2RlOmksY2FwdG9yOmEuZGF0YX0pKTprLmxlbmd0aD8oai5kaXNwYXRjaEV2ZW50KCJyaWdodENsaWNrRWRnZSIse2VkZ2U6a1swXSxjYXB0b3I6YS5kYXRhfSksai5kaXNwYXRjaEV2ZW50KCJyaWdodENsaWNrRWRnZXMiLHtlZGdlOmssY2FwdG9yOmEuZGF0YX0pKTpqLmRpc3BhdGNoRXZlbnQoInJpZ2h0Q2xpY2tTdGFnZSIse2NhcHRvcjphLmRhdGF9KSl9ZnVuY3Rpb24gZyhhKXtpZihqLnNldHRpbmdzKCJldmVudHNFbmFibGVkIikpe3ZhciBiLGMsZCxlLGY9W10sZz1bXTtmb3IoYiBpbiBsKWYucHVzaChsW2JdKTtmb3IobD17fSxjPTAsZD1mLmxlbmd0aDtjPGQ7YysrKWouZGlzcGF0Y2hFdmVudCgib3V0Tm9kZSIse25vZGU6ZltjXSxjYXB0b3I6YS5kYXRhfSk7Zm9yKGYubGVuZ3RoJiZqLmRpc3BhdGNoRXZlbnQoIm91dE5vZGVzIix7bm9kZXM6ZixjYXB0b3I6YS5kYXRhfSksbT17fSxjPTAsZT1nLmxlbmd0aDtjPGU7YysrKWouZGlzcGF0Y2hFdmVudCgib3V0RWRnZSIse2VkZ2U6Z1tjXSxjYXB0b3I6YS5kYXRhfSk7Zy5sZW5ndGgmJmouZGlzcGF0Y2hFdmVudCgib3V0RWRnZXMiLHtlZGdlczpnLGNhcHRvcjphLmRhdGF9KX19ZnVuY3Rpb24gaChhKXtpZihqLnNldHRpbmdzKCJldmVudHNFbmFibGVkIikpe2k9YyhhKSxrPWQoYSk7dmFyIGIsZSxmLGcsaD1bXSxuPVtdLG89e30scD1pLmxlbmd0aCxxPVtdLHI9W10scz17fSx0PWsubGVuZ3RoO2ZvcihiPTA7YjxwO2IrKylmPWlbYl0sb1tmLmlkXT1mLGxbZi5pZF18fChuLnB1c2goZiksbFtmLmlkXT1mKTtmb3IoZSBpbiBsKW9bZV18fChoLnB1c2gobFtlXSksZGVsZXRlIGxbZV0pO2ZvcihiPTAscD1uLmxlbmd0aDtiPHA7YisrKWouZGlzcGF0Y2hFdmVudCgib3Zlck5vZGUiLHtub2RlOm5bYl0sY2FwdG9yOmEuZGF0YX0pO2ZvcihiPTAscD1oLmxlbmd0aDtiPHA7YisrKWouZGlzcGF0Y2hFdmVudCgib3V0Tm9kZSIse25vZGU6aFtiXSxjYXB0b3I6YS5kYXRhfSk7Zm9yKG4ubGVuZ3RoJiZqLmRpc3BhdGNoRXZlbnQoIm92ZXJOb2RlcyIse25vZGVzOm4sY2FwdG9yOmEuZGF0YX0pLGgubGVuZ3RoJiZqLmRpc3BhdGNoRXZlbnQoIm91dE5vZGVzIix7bm9kZXM6aCxjYXB0b3I6YS5kYXRhfSksYj0wO2I8dDtiKyspZz1rW2JdLHNbZy5pZF09ZyxtW2cuaWRdfHwoci5wdXNoKGcpLG1bZy5pZF09Zyk7Zm9yKGUgaW4gbSlzW2VdfHwocS5wdXNoKG1bZV0pLGRlbGV0ZSBtW2VdKTtmb3IoYj0wLHQ9ci5sZW5ndGg7Yjx0O2IrKylqLmRpc3BhdGNoRXZlbnQoIm92ZXJFZGdlIix7ZWRnZTpyW2JdLGNhcHRvcjphLmRhdGF9KTtmb3IoYj0wLHQ9cS5sZW5ndGg7Yjx0O2IrKylqLmRpc3BhdGNoRXZlbnQoIm91dEVkZ2UiLHtlZGdlOnFbYl0sY2FwdG9yOmEuZGF0YX0pO3IubGVuZ3RoJiZqLmRpc3BhdGNoRXZlbnQoIm92ZXJFZGdlcyIse2VkZ2VzOnIsY2FwdG9yOmEuZGF0YX0pLHEubGVuZ3RoJiZqLmRpc3BhdGNoRXZlbnQoIm91dEVkZ2VzIix7ZWRnZXM6cSxjYXB0b3I6YS5kYXRhfSl9fXZhciBpLGssbD17fSxtPXt9O2EuYmluZCgiY2xpY2siLGIpLGEuYmluZCgibW91c2Vkb3duIixoKSxhLmJpbmQoIm1vdXNldXAiLGgpLGEuYmluZCgibW91c2Vtb3ZlIixoKSxhLmJpbmQoIm1vdXNlb3V0IixnKSxhLmJpbmQoImRvdWJsZWNsaWNrIixlKSxhLmJpbmQoInJpZ2h0Y2xpY2siLGYpLGouYmluZCgicmVuZGVyIixoKX12YXIgZixnLGgsaSxqPXRoaXM7Zm9yKGY9MCxnPXRoaXMuY2FwdG9ycy5sZW5ndGg7ZjxnO2YrKyllKHRoaXMuY2FwdG9yc1tmXSl9fS5jYWxsKHRoaXMpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtpZigidW5kZWZpbmVkIj09dHlwZW9mIHNpZ21hKXRocm93InNpZ21hIGlzIG5vdCBkZWNsYXJlZCI7c2lnbWEudXRpbHMucGtnKCJzaWdtYS5taXNjIiksc2lnbWEubWlzYy5iaW5kRE9NRXZlbnRzPWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSl7dGhpcy5hdHRyPWZ1bmN0aW9uKGIpe3JldHVybiBhLmdldEF0dHJpYnV0ZU5TKG51bGwsYil9LHRoaXMudGFnPWEudGFnTmFtZSx0aGlzLmNsYXNzPXRoaXMuYXR0cigiY2xhc3MiKSx0aGlzLmlkPXRoaXMuYXR0cigiaWQiKSx0aGlzLmlzTm9kZT1mdW5jdGlvbigpe3JldHVybiEhfnRoaXMuY2xhc3MuaW5kZXhPZihnLnNldHRpbmdzKCJjbGFzc1ByZWZpeCIpKyItbm9kZSIpfSx0aGlzLmlzRWRnZT1mdW5jdGlvbigpe3JldHVybiEhfnRoaXMuY2xhc3MuaW5kZXhPZihnLnNldHRpbmdzKCJjbGFzc1ByZWZpeCIpKyItZWRnZSIpfSx0aGlzLmlzSG92ZXI9ZnVuY3Rpb24oKXtyZXR1cm4hIX50aGlzLmNsYXNzLmluZGV4T2YoZy5zZXR0aW5ncygiY2xhc3NQcmVmaXgiKSsiLWhvdmVyIil9fWZ1bmN0aW9uIGMoYSl7aWYoZy5zZXR0aW5ncygiZXZlbnRzRW5hYmxlZCIpKXtnLmRpc3BhdGNoRXZlbnQoImNsaWNrIixhKTt2YXIgYz1uZXcgYihhLnRhcmdldCk7Yy5pc05vZGUoKT9nLmRpc3BhdGNoRXZlbnQoImNsaWNrTm9kZSIse25vZGU6aC5ub2RlcyhjLmF0dHIoImRhdGEtbm9kZS1pZCIpKX0pOmcuZGlzcGF0Y2hFdmVudCgiY2xpY2tTdGFnZSIpLGEucHJldmVudERlZmF1bHQoKSxhLnN0b3BQcm9wYWdhdGlvbigpfX1mdW5jdGlvbiBkKGEpe2lmKGcuc2V0dGluZ3MoImV2ZW50c0VuYWJsZWQiKSl7Zy5kaXNwYXRjaEV2ZW50KCJkb3VibGVDbGljayIsYSk7dmFyIGM9bmV3IGIoYS50YXJnZXQpO2MuaXNOb2RlKCk/Zy5kaXNwYXRjaEV2ZW50KCJkb3VibGVDbGlja05vZGUiLHtub2RlOmgubm9kZXMoYy5hdHRyKCJkYXRhLW5vZGUtaWQiKSl9KTpnLmRpc3BhdGNoRXZlbnQoImRvdWJsZUNsaWNrU3RhZ2UiKSxhLnByZXZlbnREZWZhdWx0KCksYS5zdG9wUHJvcGFnYXRpb24oKX19ZnVuY3Rpb24gZShhKXt2YXIgYz1hLnRvRWxlbWVudHx8YS50YXJnZXQ7aWYoZy5zZXR0aW5ncygiZXZlbnRzRW5hYmxlZCIpJiZjKXt2YXIgZD1uZXcgYihjKTtpZihkLmlzTm9kZSgpKWcuZGlzcGF0Y2hFdmVudCgib3Zlck5vZGUiLHtub2RlOmgubm9kZXMoZC5hdHRyKCJkYXRhLW5vZGUtaWQiKSl9KTtlbHNlIGlmKGQuaXNFZGdlKCkpe3ZhciBlPWguZWRnZXMoZC5hdHRyKCJkYXRhLWVkZ2UtaWQiKSk7Zy5kaXNwYXRjaEV2ZW50KCJvdmVyRWRnZSIse2VkZ2U6ZSxzb3VyY2U6aC5ub2RlcyhlLnNvdXJjZSksdGFyZ2V0Omgubm9kZXMoZS50YXJnZXQpfSl9fX1mdW5jdGlvbiBmKGEpe3ZhciBjPWEuZnJvbUVsZW1lbnR8fGEub3JpZ2luYWxUYXJnZXQ7aWYoZy5zZXR0aW5ncygiZXZlbnRzRW5hYmxlZCIpKXt2YXIgZD1uZXcgYihjKTtpZihkLmlzTm9kZSgpKWcuZGlzcGF0Y2hFdmVudCgib3V0Tm9kZSIse25vZGU6aC5ub2RlcyhkLmF0dHIoImRhdGEtbm9kZS1pZCIpKX0pO2Vsc2UgaWYoZC5pc0VkZ2UoKSl7dmFyIGU9aC5lZGdlcyhkLmF0dHIoImRhdGEtZWRnZS1pZCIpKTtnLmRpc3BhdGNoRXZlbnQoIm91dEVkZ2UiLHtlZGdlOmUsc291cmNlOmgubm9kZXMoZS5zb3VyY2UpLHRhcmdldDpoLm5vZGVzKGUudGFyZ2V0KX0pfX19dmFyIGc9dGhpcyxoPXRoaXMuZ3JhcGg7YS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsYywhMSksc2lnbWEudXRpbHMuZG91YmxlQ2xpY2soYSwiY2xpY2siLGQpLGEuYWRkRXZlbnRMaXN0ZW5lcigidG91Y2hzdGFydCIsYywhMSksc2lnbWEudXRpbHMuZG91YmxlQ2xpY2soYSwidG91Y2hzdGFydCIsZCksYS5hZGRFdmVudExpc3RlbmVyKCJtb3VzZW92ZXIiLGUsITApLGEuYWRkRXZlbnRMaXN0ZW5lcigibW91c2VvdXQiLGYsITApfX0uY2FsbCh0aGlzKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBzaWdtYSl0aHJvdyJzaWdtYSBpcyBub3QgZGVjbGFyZWQiO3NpZ21hLnV0aWxzLnBrZygic2lnbWEubWlzYyIpLHNpZ21hLm1pc2MuZHJhd0hvdmVycz1mdW5jdGlvbihhKXtmdW5jdGlvbiBiKCl7dmFyIGIsZixnLGgsaSxqPWMuY29udGV4dHMuaG92ZXIuY2FudmFzLGs9Yy5zZXR0aW5ncygiZGVmYXVsdE5vZGVUeXBlIiksbD1jLnNldHRpbmdzKCJkZWZhdWx0RWRnZVR5cGUiKSxtPXNpZ21hLmNhbnZhcy5ob3ZlcnMsbj1zaWdtYS5jYW52YXMuZWRnZWhvdmVycyxvPXNpZ21hLmNhbnZhcy5leHRyZW1pdGllcyxwPWMuc2V0dGluZ3MuZW1iZWRPYmplY3RzKHtwcmVmaXg6YX0pO2lmKGMuY29udGV4dHMuaG92ZXIuY2xlYXJSZWN0KDAsMCxqLndpZHRoLGouaGVpZ2h0KSxwKCJlbmFibGVIb3ZlcmluZyIpJiZwKCJzaW5nbGVIb3ZlciIpJiZPYmplY3Qua2V5cyhkKS5sZW5ndGgmJihoPWRbT2JqZWN0LmtleXMoZClbMF1dLChtW2gudHlwZV18fG1ba118fG0uZGVmKShoLGMuY29udGV4dHMuaG92ZXIscCkpLHAoImVuYWJsZUhvdmVyaW5nIikmJiFwKCJzaW5nbGVIb3ZlciIpKWZvcihiIGluIGQpKG1bZFtiXS50eXBlXXx8bVtrXXx8bS5kZWYpKGRbYl0sYy5jb250ZXh0cy5ob3ZlcixwKTtpZihwKCJlbmFibGVFZGdlSG92ZXJpbmciKSYmcCgic2luZ2xlSG92ZXIiKSYmT2JqZWN0LmtleXMoZSkubGVuZ3RoJiYoaT1lW09iamVjdC5rZXlzKGUpWzBdXSxmPWMuZ3JhcGgubm9kZXMoaS5zb3VyY2UpLGc9Yy5ncmFwaC5ub2RlcyhpLnRhcmdldCksaS5oaWRkZW58fCgobltpLnR5cGVdfHxuW2xdfHxuLmRlZikoaSxmLGcsYy5jb250ZXh0cy5ob3ZlcixwKSxwKCJlZGdlSG92ZXJFeHRyZW1pdGllcyIpPyhvW2kudHlwZV18fG8uZGVmKShpLGYsZyxjLmNvbnRleHRzLmhvdmVyLHApOigoc2lnbWEuY2FudmFzLm5vZGVzW2YudHlwZV18fHNpZ21hLmNhbnZhcy5ub2Rlcy5kZWYpKGYsYy5jb250ZXh0cy5ob3ZlcixwKSwoc2lnbWEuY2FudmFzLm5vZGVzW2cudHlwZV18fHNpZ21hLmNhbnZhcy5ub2Rlcy5kZWYpKGcsYy5jb250ZXh0cy5ob3ZlcixwKSkpKSxwKCJlbmFibGVFZGdlSG92ZXJpbmciKSYmIXAoInNpbmdsZUhvdmVyIikpZm9yKGIgaW4gZSlpPWVbYl0sZj1jLmdyYXBoLm5vZGVzKGkuc291cmNlKSxnPWMuZ3JhcGgubm9kZXMoaS50YXJnZXQpLGkuaGlkZGVufHwoKG5baS50eXBlXXx8bltsXXx8bi5kZWYpKGksZixnLGMuY29udGV4dHMuaG92ZXIscCkscCgiZWRnZUhvdmVyRXh0cmVtaXRpZXMiKT8ob1tpLnR5cGVdfHxvLmRlZikoaSxmLGcsYy5jb250ZXh0cy5ob3ZlcixwKTooKHNpZ21hLmNhbnZhcy5ub2Rlc1tmLnR5cGVdfHxzaWdtYS5jYW52YXMubm9kZXMuZGVmKShmLGMuY29udGV4dHMuaG92ZXIscCksKHNpZ21hLmNhbnZhcy5ub2Rlc1tnLnR5cGVdfHxzaWdtYS5jYW52YXMubm9kZXMuZGVmKShnLGMuY29udGV4dHMuaG92ZXIscCkpKX12YXIgYz10aGlzLGQ9e30sZT17fTt0aGlzLmJpbmQoIm92ZXJOb2RlIixmdW5jdGlvbihhKXt2YXIgYz1hLmRhdGEubm9kZTtjLmhpZGRlbnx8KGRbYy5pZF09YyxiKCkpfSksdGhpcy5iaW5kKCJvdXROb2RlIixmdW5jdGlvbihhKXtkZWxldGUgZFthLmRhdGEubm9kZS5pZF0sYigpfSksdGhpcy5iaW5kKCJvdmVyRWRnZSIsZnVuY3Rpb24oYSl7dmFyIGM9YS5kYXRhLmVkZ2U7Yy5oaWRkZW58fChlW2MuaWRdPWMsYigpKX0pLHRoaXMuYmluZCgib3V0RWRnZSIsZnVuY3Rpb24oYSl7ZGVsZXRlIGVbYS5kYXRhLmVkZ2UuaWRdLGIoKX0pLHRoaXMuYmluZCgicmVuZGVyIixmdW5jdGlvbihhKXtiKCl9KX19LmNhbGwodGhpcyk7"></script>
<script src="data:application/x-javascript;base64,KGZ1bmN0aW9uKHVuZGVmaW5lZCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIFN1cGVydmlzb3Ioc2lnSW5zdCxvcHRpb25zKXt2YXIgX3RoaXM9dGhpcyx3b3JrZXJGbj1zaWdJbnN0LmdldEZvcmNlQXRsYXMyV29ya2VyJiZzaWdJbnN0LmdldEZvcmNlQXRsYXMyV29ya2VyKCk7aWYob3B0aW9ucz1vcHRpb25zfHx7fSxfcm9vdC5VUkw9X3Jvb3QuVVJMfHxfcm9vdC53ZWJraXRVUkwsdGhpcy5zaWdJbnN0PXNpZ0luc3QsdGhpcy5ncmFwaD10aGlzLnNpZ0luc3QuZ3JhcGgsdGhpcy5wcG49MTAsdGhpcy5wcGU9Myx0aGlzLmNvbmZpZz17fSx0aGlzLnNob3VsZFVzZVdvcmtlcj0hMSE9PW9wdGlvbnMud29ya2VyJiZ3ZWJXb3JrZXJzLHRoaXMud29ya2VyVXJsPW9wdGlvbnMud29ya2VyVXJsLHRoaXMuc3RhcnRlZD0hMSx0aGlzLnJ1bm5pbmc9ITEsdGhpcy5zaG91bGRVc2VXb3JrZXIpe2lmKHRoaXMud29ya2VyVXJsKXRoaXMud29ya2VyPW5ldyBXb3JrZXIodGhpcy53b3JrZXJVcmwpO2Vsc2V7dmFyIGJsb2I9dGhpcy5tYWtlQmxvYih3b3JrZXJGbik7dGhpcy53b3JrZXI9bmV3IFdvcmtlcihVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpKX10aGlzLndvcmtlci5wb3N0TWVzc2FnZT10aGlzLndvcmtlci53ZWJraXRQb3N0TWVzc2FnZXx8dGhpcy53b3JrZXIucG9zdE1lc3NhZ2V9ZWxzZSBldmFsKHdvcmtlckZuKTt0aGlzLm1zZ05hbWU9dGhpcy53b3JrZXI/Im1lc3NhZ2UiOiJuZXdDb29yZHMiLHRoaXMubGlzdGVuZXI9ZnVuY3Rpb24odCl7X3RoaXMubm9kZXNCeXRlQXJyYXk9bmV3IEZsb2F0MzJBcnJheSh0LmRhdGEubm9kZXMpLF90aGlzLnJ1bm5pbmcmJihfdGhpcy5hcHBseUxheW91dENoYW5nZXMoKSxfdGhpcy5zZW5kQnl0ZUFycmF5VG9Xb3JrZXIoKSxfdGhpcy5zaWdJbnN0LnJlZnJlc2goKSl9LCh0aGlzLndvcmtlcnx8ZG9jdW1lbnQpLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5tc2dOYW1lLHRoaXMubGlzdGVuZXIpLHRoaXMuZ3JhcGhUb0J5dGVBcnJheXMoKSxzaWdJbnN0LmJpbmQoImtpbGwiLGZ1bmN0aW9uKCl7c2lnSW5zdC5raWxsRm9yY2VBdGxhczIoKX0pfWlmKCJ1bmRlZmluZWQiPT10eXBlb2Ygc2lnbWEpdGhyb3cic2lnbWEgaXMgbm90IGRlY2xhcmVkIjt2YXIgX3Jvb3Q9dGhpcyx3ZWJXb3JrZXJzPSJXb3JrZXIiaW4gX3Jvb3Q7U3VwZXJ2aXNvci5wcm90b3R5cGUubWFrZUJsb2I9ZnVuY3Rpb24odCl7dmFyIGU7dHJ5e2U9bmV3IEJsb2IoW3RdLHt0eXBlOiJhcHBsaWNhdGlvbi9qYXZhc2NyaXB0In0pfWNhdGNoKHMpe19yb290LkJsb2JCdWlsZGVyPV9yb290LkJsb2JCdWlsZGVyfHxfcm9vdC5XZWJLaXRCbG9iQnVpbGRlcnx8X3Jvb3QuTW96QmxvYkJ1aWxkZXIsZT1uZXcgQmxvYkJ1aWxkZXIsZS5hcHBlbmQodCksZT1lLmdldEJsb2IoKX1yZXR1cm4gZX0sU3VwZXJ2aXNvci5wcm90b3R5cGUuZ3JhcGhUb0J5dGVBcnJheXM9ZnVuY3Rpb24oKXt2YXIgdCxlLHMscj10aGlzLmdyYXBoLm5vZGVzKCksaT10aGlzLmdyYXBoLmVkZ2VzKCksbz1yLmxlbmd0aCp0aGlzLnBwbixuPWkubGVuZ3RoKnRoaXMucHBlLGE9e307Zm9yKHRoaXMubm9kZXNCeXRlQXJyYXk9bmV3IEZsb2F0MzJBcnJheShvKSx0aGlzLmVkZ2VzQnl0ZUFycmF5PW5ldyBGbG9hdDMyQXJyYXkobiksdD1lPTAscz1yLmxlbmd0aDt0PHM7dCsrKWFbclt0XS5pZF09ZSx0aGlzLm5vZGVzQnl0ZUFycmF5W2VdPXJbdF0ueCx0aGlzLm5vZGVzQnl0ZUFycmF5W2UrMV09clt0XS55LHRoaXMubm9kZXNCeXRlQXJyYXlbZSsyXT0wLHRoaXMubm9kZXNCeXRlQXJyYXlbZSszXT0wLHRoaXMubm9kZXNCeXRlQXJyYXlbZSs0XT0wLHRoaXMubm9kZXNCeXRlQXJyYXlbZSs1XT0wLHRoaXMubm9kZXNCeXRlQXJyYXlbZSs2XT0xK3RoaXMuZ3JhcGguZGVncmVlKHJbdF0uaWQpLHRoaXMubm9kZXNCeXRlQXJyYXlbZSs3XT0xLHRoaXMubm9kZXNCeXRlQXJyYXlbZSs4XT1yW3RdLnNpemUsdGhpcy5ub2Rlc0J5dGVBcnJheVtlKzldPTAsZSs9dGhpcy5wcG47Zm9yKHQ9ZT0wLHM9aS5sZW5ndGg7dDxzO3QrKyl0aGlzLmVkZ2VzQnl0ZUFycmF5W2VdPWFbaVt0XS5zb3VyY2VdLHRoaXMuZWRnZXNCeXRlQXJyYXlbZSsxXT1hW2lbdF0udGFyZ2V0XSx0aGlzLmVkZ2VzQnl0ZUFycmF5W2UrMl09aVt0XS53ZWlnaHR8fDAsZSs9dGhpcy5wcGV9LFN1cGVydmlzb3IucHJvdG90eXBlLmFwcGx5TGF5b3V0Q2hhbmdlcz1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLmdyYXBoLm5vZGVzKCksZT0wLHM9MCxyPXRoaXMubm9kZXNCeXRlQXJyYXkubGVuZ3RoO3M8cjtzKz10aGlzLnBwbil0W2VdLng9dGhpcy5ub2Rlc0J5dGVBcnJheVtzXSx0W2VdLnk9dGhpcy5ub2Rlc0J5dGVBcnJheVtzKzFdLGUrK30sU3VwZXJ2aXNvci5wcm90b3R5cGUuc2VuZEJ5dGVBcnJheVRvV29ya2VyPWZ1bmN0aW9uKHQpe3ZhciBlPXthY3Rpb246dHx8Imxvb3AiLG5vZGVzOnRoaXMubm9kZXNCeXRlQXJyYXkuYnVmZmVyfSxzPVt0aGlzLm5vZGVzQnl0ZUFycmF5LmJ1ZmZlcl07InN0YXJ0Ij09PXQmJihlLmNvbmZpZz10aGlzLmNvbmZpZ3x8e30sZS5lZGdlcz10aGlzLmVkZ2VzQnl0ZUFycmF5LmJ1ZmZlcixzLnB1c2godGhpcy5lZGdlc0J5dGVBcnJheS5idWZmZXIpKSx0aGlzLnNob3VsZFVzZVdvcmtlcj90aGlzLndvcmtlci5wb3N0TWVzc2FnZShlLHMpOl9yb290LnBvc3RNZXNzYWdlKGUsIioiKX0sU3VwZXJ2aXNvci5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24oKXtpZighdGhpcy5ydW5uaW5nKXt0aGlzLnJ1bm5pbmc9ITA7dmFyIHQsZTtmb3IodCBpbiB0aGlzLnNpZ0luc3QuY2FtZXJhcyllPXRoaXMuc2lnSW5zdC5jYW1lcmFzW3RdLGUuZWRnZXF1YWR0cmVlLl9lbmFibGVkPSExO3RoaXMuc3RhcnRlZD90aGlzLnNlbmRCeXRlQXJyYXlUb1dvcmtlcigpOih0aGlzLnNlbmRCeXRlQXJyYXlUb1dvcmtlcigic3RhcnQiKSx0aGlzLnN0YXJ0ZWQ9ITApfX0sU3VwZXJ2aXNvci5wcm90b3R5cGUuc3RvcD1mdW5jdGlvbigpe2lmKHRoaXMucnVubmluZyl7dmFyIHQsZSxzO2Zvcih0IGluIHRoaXMuc2lnSW5zdC5jYW1lcmFzKWU9dGhpcy5zaWdJbnN0LmNhbWVyYXNbdF0sZS5lZGdlcXVhZHRyZWUuX2VuYWJsZWQ9ITAscz1zaWdtYS51dGlscy5nZXRCb3VuZGFyaWVzKHRoaXMuZ3JhcGgsZS5yZWFkUHJlZml4KSxlLnNldHRpbmdzKCJkcmF3RWRnZXMiKSYmZS5zZXR0aW5ncygiZW5hYmxlRWRnZUhvdmVyaW5nIikmJmUuZWRnZXF1YWR0cmVlLmluZGV4KHRoaXMuc2lnSW5zdC5ncmFwaCx7cHJlZml4OmUucmVhZFByZWZpeCxib3VuZHM6e3g6cy5taW5YLHk6cy5taW5ZLHdpZHRoOnMubWF4WC1zLm1pblgsaGVpZ2h0OnMubWF4WS1zLm1pbll9fSk7dGhpcy5ydW5uaW5nPSExfX0sU3VwZXJ2aXNvci5wcm90b3R5cGUua2lsbFdvcmtlcj1mdW5jdGlvbigpe3RoaXMud29ya2VyP3RoaXMud29ya2VyLnRlcm1pbmF0ZSgpOihfcm9vdC5wb3N0TWVzc2FnZSh7YWN0aW9uOiJraWxsIn0sIioiKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMubXNnTmFtZSx0aGlzLmxpc3RlbmVyKSl9LFN1cGVydmlzb3IucHJvdG90eXBlLmNvbmZpZ3VyZT1mdW5jdGlvbih0KXtpZih0aGlzLmNvbmZpZz10LHRoaXMuc3RhcnRlZCl7dmFyIGU9e2FjdGlvbjoiY29uZmlnIixjb25maWc6dGhpcy5jb25maWd9O3RoaXMuc2hvdWxkVXNlV29ya2VyP3RoaXMud29ya2VyLnBvc3RNZXNzYWdlKGUpOl9yb290LnBvc3RNZXNzYWdlKGUsIioiKX19LHNpZ21hLnByb3RvdHlwZS5zdGFydEZvcmNlQXRsYXMyPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnN1cGVydmlzb3J8fCh0aGlzLnN1cGVydmlzb3I9bmV3IFN1cGVydmlzb3IodGhpcyx0KSksdCYmdGhpcy5zdXBlcnZpc29yLmNvbmZpZ3VyZSh0KSx0aGlzLnN1cGVydmlzb3Iuc3RhcnQoKSx0aGlzfSxzaWdtYS5wcm90b3R5cGUuc3RvcEZvcmNlQXRsYXMyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3VwZXJ2aXNvcj8odGhpcy5zdXBlcnZpc29yLnN0b3AoKSx0aGlzKTp0aGlzfSxzaWdtYS5wcm90b3R5cGUua2lsbEZvcmNlQXRsYXMyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3VwZXJ2aXNvcj8odGhpcy5zdXBlcnZpc29yLnN0b3AoKSx0aGlzLnN1cGVydmlzb3Iua2lsbFdvcmtlcigpLHRoaXMuc3VwZXJ2aXNvcj1udWxsLHRoaXMpOnRoaXN9LHNpZ21hLnByb3RvdHlwZS5jb25maWdGb3JjZUF0bGFzMj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zdXBlcnZpc29yfHwodGhpcy5zdXBlcnZpc29yPW5ldyBTdXBlcnZpc29yKHRoaXMsdCkpLHRoaXMuc3VwZXJ2aXNvci5jb25maWd1cmUodCksdGhpc30sc2lnbWEucHJvdG90eXBlLmlzRm9yY2VBdGxhczJSdW5uaW5nPWZ1bmN0aW9uKHQpe3JldHVybiEhdGhpcy5zdXBlcnZpc29yJiZ0aGlzLnN1cGVydmlzb3IucnVubmluZ319KS5jYWxsKHRoaXMpLGZ1bmN0aW9uKHVuZGVmaW5lZCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG5vX2NydXNoKHQpe3ZhciBlLHMscixpPVsieCIsInkiLCJkeCIsImR5Iiwib2xkX2R4Iiwib2xkX2R5IiwibWFzcyIsImNvbnZlcmdlbmNlIiwic2l6ZSIsImZpeGVkIl0sbz1bInNvdXJjZSIsInRhcmdldCIsIndlaWdodCJdLG49WyJub2RlIiwiY2VudGVyWCIsImNlbnRlclkiLCJzaXplIiwibmV4dFNpYmxpbmciLCJmaXJzdENoaWxkIiwibWFzcyIsIm1hc3NDZW50ZXJYIiwibWFzc0NlbnRlclkiXTtmb3Iocz0wLHI9bi5sZW5ndGg7czxyO3MrKyllPW5ldyBSZWdFeHAoInJwXFwoKFteLF0qKSwgJyIrbltzXSsiJ1xcKSIsImciKSx0PXQucmVwbGFjZShlLDA9PT1zPyIkMSI6IiQxICsgIitzKTtmb3Iocz0wLHI9aS5sZW5ndGg7czxyO3MrKyllPW5ldyBSZWdFeHAoIm5wXFwoKFteLF0qKSwgJyIraVtzXSsiJ1xcKSIsImciKSx0PXQucmVwbGFjZShlLDA9PT1zPyIkMSI6IiQxICsgIitzKTtmb3Iocz0wLHI9by5sZW5ndGg7czxyO3MrKyllPW5ldyBSZWdFeHAoImVwXFwoKFteLF0qKSwgJyIrb1tzXSsiJ1xcKSIsImciKSx0PXQucmVwbGFjZShlLDA9PT1zPyIkMSI6IiQxICsgIitzKTtyZXR1cm4gdH1mdW5jdGlvbiBnZXRXb3JrZXJGbigpe3JldHVybiI7KCIrKGNydXNoP2NydXNoKFdvcmtlci50b1N0cmluZygpKTpXb3JrZXIudG9TdHJpbmcoKSkrIikuY2FsbCh0aGlzKTsifXZhciBfcm9vdD10aGlzLGluV2ViV29ya2VyPSEoImRvY3VtZW50ImluIF9yb290KSxXb3JrZXI9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciB0LGUscz17fSxyPWFyZ3VtZW50cy5sZW5ndGg7Zm9yKHQ9ci0xO3Q+PTA7dC0tKWZvcihlIGluIGFyZ3VtZW50c1t0XSlzW2VdPWFyZ3VtZW50c1t0XVtlXTtyZXR1cm4gc31mdW5jdGlvbiBzKHQpe3ZhciBlO2ZvcihlIGluIHQpImhhc093blByb3BlcnR5ImluIHQmJiF0Lmhhc093blByb3BlcnR5KGUpfHxkZWxldGUgdFtlXTtyZXR1cm4gdH1mdW5jdGlvbiByKHQsZSxzKXtzPXN8fHt9O2E9dCxoPWUsdS5ub2Rlc0xlbmd0aD1hLmxlbmd0aCx1LmVkZ2VzTGVuZ3RoPWgubGVuZ3RoLGkocyl9ZnVuY3Rpb24gaSh0KXt1LnNldHRpbmdzPWUodCx1LnNldHRpbmdzKX1mdW5jdGlvbiBvKCl7dmFyIHQsZSxzLHIsaSxvLG4sZyxkLGwsYyxmLHksdyx2O2ZvcihzPTA7czx1Lm5vZGVzTGVuZ3RoO3MrPXUucHBuKWFbcys0XT1hW3MrMl0sYVtzKzVdPWFbcyszXSxhW3MrMl09MCxhW3MrM109MDtpZih1LnNldHRpbmdzLm91dGJvdW5kQXR0cmFjdGlvbkRpc3RyaWJ1dGlvbil7Zm9yKGQ9MCxzPTA7czx1Lm5vZGVzTGVuZ3RoO3MrPXUucHBuKWQrPWFbcys2XTtkLz11Lm5vZGVzTGVuZ3RofWlmKHUuc2V0dGluZ3MuYmFybmVzSHV0T3B0aW1pemUpe3ZhciBrLG0sYj0xLzAsTT0tMS8wLEE9MS8wLEI9LTEvMDtmb3IocD1bXSxzPTA7czx1Lm5vZGVzTGVuZ3RoO3MrPXUucHBuKWI9TWF0aC5taW4oYixhW3NdKSxNPU1hdGgubWF4KE0sYVtzXSksQT1NYXRoLm1pbihBLGFbcysxXSksQj1NYXRoLm1heChCLGFbcysxXSk7Zm9yKHBbMF09LTEscFsxXT0oYitNKS8yLHBbMl09KEErQikvMixwWzNdPU1hdGgubWF4KE0tYixCLUEpLHBbNF09LTEscFs1XT0tMSxwWzZdPTAscFs3XT0wLHBbOF09MCx0PTEscz0wO3M8dS5ub2Rlc0xlbmd0aDtzKz11LnBwbilmb3IoZT0wOzspaWYocFtlKzVdPj0wKWs9YVtzXTxwW2UrMV0/YVtzKzFdPHBbZSsyXT9wW2UrNV06cFtlKzVdK3UucHByOmFbcysxXTxwW2UrMl0/cFtlKzVdKzIqdS5wcHI6cFtlKzVdKzMqdS5wcHIscFtlKzddPShwW2UrN10qcFtlKzZdK2Fbc10qYVtzKzZdKS8ocFtlKzZdK2Fbcys2XSkscFtlKzhdPShwW2UrOF0qcFtlKzZdK2FbcysxXSphW3MrNl0pLyhwW2UrNl0rYVtzKzZdKSxwW2UrNl0rPWFbcys2XSxlPWs7ZWxzZXtpZihwW2VdPDApe3BbZV09czticmVha31pZihwW2UrNV09dCp1LnBwcixuPXBbZSszXS8yLGc9cFtlKzVdLHBbZ109LTEscFtnKzFdPXBbZSsxXS1uLHBbZysyXT1wW2UrMl0tbixwW2crM109bixwW2crNF09Zyt1LnBwcixwW2crNV09LTEscFtnKzZdPTAscFtnKzddPTAscFtnKzhdPTAsZys9dS5wcHIscFtnXT0tMSxwW2crMV09cFtlKzFdLW4scFtnKzJdPXBbZSsyXStuLHBbZyszXT1uLHBbZys0XT1nK3UucHByLHBbZys1XT0tMSxwW2crNl09MCxwW2crN109MCxwW2crOF09MCxnKz11LnBwcixwW2ddPS0xLHBbZysxXT1wW2UrMV0rbixwW2crMl09cFtlKzJdLW4scFtnKzNdPW4scFtnKzRdPWcrdS5wcHIscFtnKzVdPS0xLHBbZys2XT0wLHBbZys3XT0wLHBbZys4XT0wLGcrPXUucHByLHBbZ109LTEscFtnKzFdPXBbZSsxXStuLHBbZysyXT1wW2UrMl0rbixwW2crM109bixwW2crNF09cFtlKzRdLHBbZys1XT0tMSxwW2crNl09MCxwW2crN109MCxwW2crOF09MCx0Kz00LGs9YVtwW2VdXTxwW2UrMV0/YVtwW2VdKzFdPHBbZSsyXT9wW2UrNV06cFtlKzVdK3UucHByOmFbcFtlXSsxXTxwW2UrMl0/cFtlKzVdKzIqdS5wcHI6cFtlKzVdKzMqdS5wcHIscFtlKzZdPWFbcFtlXSs2XSxwW2UrN109YVtwW2VdXSxwW2UrOF09YVtwW2VdKzFdLHBba109cFtlXSxwW2VdPS0xLG09YVtzXTxwW2UrMV0/YVtzKzFdPHBbZSsyXT9wW2UrNV06cFtlKzVdK3UucHByOmFbcysxXTxwW2UrMl0/cFtlKzVdKzIqdS5wcHI6cFtlKzVdKzMqdS5wcHIsayE9PW0pe3BbbV09czticmVha31lPWt9fWlmKHUuc2V0dGluZ3MuYmFybmVzSHV0T3B0aW1pemUpZm9yKGw9dS5zZXR0aW5ncy5zY2FsaW5nUmF0aW8scz0wO3M8dS5ub2Rlc0xlbmd0aDtzKz11LnBwbilmb3IoZT0wOzspaWYocFtlKzVdPj0wKXtpZih3PU1hdGguc3FydChNYXRoLnBvdyhhW3NdLXBbZSs3XSwyKStNYXRoLnBvdyhhW3MrMV0tcFtlKzhdLDIpKSwyKnBbZSszXS93PHUuc2V0dGluZ3MuYmFybmVzSHV0VGhldGEpe2lmKGM9YVtzXS1wW2UrN10sZj1hW3MrMV0tcFtlKzhdLHUuc2V0dGluZ3MuYWRqdXN0U2l6ZXM/dz4wPyh2PWwqYVtzKzZdKnBbZSs2XS93L3csYVtzKzJdKz1jKnYsYVtzKzNdKz1mKnYpOnc8MCYmKHY9LWwqYVtzKzZdKnBbZSs2XS93LGFbcysyXSs9Yyp2LGFbcyszXSs9Zip2KTp3PjAmJih2PWwqYVtzKzZdKnBbZSs2XS93L3csYVtzKzJdKz1jKnYsYVtzKzNdKz1mKnYpLHBbZSs0XTwwKWJyZWFrO2U9cFtlKzRdO2NvbnRpbnVlfWU9cFtlKzVdfWVsc2V7aWYocFtlXT49MCYmcFtlXSE9PXMmJihjPWFbc10tYVtwW2VdXSxmPWFbcysxXS1hW3BbZV0rMV0sdz1NYXRoLnNxcnQoYypjK2YqZiksdS5zZXR0aW5ncy5hZGp1c3RTaXplcz93PjA/KHY9bCphW3MrNl0qYVtwW2VdKzZdL3cvdyxhW3MrMl0rPWMqdixhW3MrM10rPWYqdik6dzwwJiYodj0tbCphW3MrNl0qYVtwW2VdKzZdL3csYVtzKzJdKz1jKnYsYVtzKzNdKz1mKnYpOnc+MCYmKHY9bCphW3MrNl0qYVtwW2VdKzZdL3cvdyxhW3MrMl0rPWMqdixhW3MrM10rPWYqdikpLHBbZSs0XTwwKWJyZWFrO2U9cFtlKzRdfWVsc2UgZm9yKGw9dS5zZXR0aW5ncy5zY2FsaW5nUmF0aW8scj0wO3I8dS5ub2Rlc0xlbmd0aDtyKz11LnBwbilmb3IoaT0wO2k8cjtpKz11LnBwbiljPWFbcl0tYVtpXSxmPWFbcisxXS1hW2krMV0sdS5zZXR0aW5ncy5hZGp1c3RTaXplcz8odz1NYXRoLnNxcnQoYypjK2YqZiktYVtyKzhdLWFbaSs4XSx3PjA/KHY9bCphW3IrNl0qYVtpKzZdL3cvdyxhW3IrMl0rPWMqdixhW3IrM10rPWYqdixhW2krMl0rPWMqdixhW2krM10rPWYqdik6dzwwJiYodj0xMDAqbCphW3IrNl0qYVtpKzZdLGFbcisyXSs9Yyp2LGFbciszXSs9Zip2LGFbaSsyXS09Yyp2LGFbaSszXS09Zip2KSk6KHc9TWF0aC5zcXJ0KGMqYytmKmYpKT4wJiYodj1sKmFbcis2XSphW2krNl0vdy93LGFbcisyXSs9Yyp2LGFbciszXSs9Zip2LGFbaSsyXS09Yyp2LGFbaSszXS09Zip2KTtmb3IoZz11LnNldHRpbmdzLmdyYXZpdHkvdS5zZXR0aW5ncy5zY2FsaW5nUmF0aW8sbD11LnNldHRpbmdzLnNjYWxpbmdSYXRpbyxzPTA7czx1Lm5vZGVzTGVuZ3RoO3MrPXUucHBuKXY9MCxjPWFbc10sZj1hW3MrMV0sdz1NYXRoLnNxcnQoTWF0aC5wb3coYywyKStNYXRoLnBvdyhmLDIpKSx1LnNldHRpbmdzLnN0cm9uZ0dyYXZpdHlNb2RlP3c+MCYmKHY9bCphW3MrNl0qZyk6dz4wJiYodj1sKmFbcys2XSpnL3cpLGFbcysyXS09Yyp2LGFbcyszXS09Zip2O2ZvcihsPTEqKHUuc2V0dGluZ3Mub3V0Ym91bmRBdHRyYWN0aW9uRGlzdHJpYnV0aW9uP2Q6MSksbz0wO288dS5lZGdlc0xlbmd0aDtvKz11LnBwZSlyPWhbb10saT1oW28rMV0sbj1oW28rMl0seT1NYXRoLnBvdyhuLHUuc2V0dGluZ3MuZWRnZVdlaWdodEluZmx1ZW5jZSksYz1hW3JdLWFbaV0sZj1hW3IrMV0tYVtpKzFdLHUuc2V0dGluZ3MuYWRqdXN0U2l6ZXM/KHc9TWF0aC5zcXJ0KE1hdGgucG93KGMsMikrTWF0aC5wb3coZiwyKS1hW3IrOF0tYVtpKzhdKSx1LnNldHRpbmdzLmxpbkxvZ01vZGU/dS5zZXR0aW5ncy5vdXRib3VuZEF0dHJhY3Rpb25EaXN0cmlidXRpb24/dz4wJiYodj0tbCp5Kk1hdGgubG9nKDErdykvdy9hW3IrNl0pOnc+MCYmKHY9LWwqeSpNYXRoLmxvZygxK3cpL3cpOnUuc2V0dGluZ3Mub3V0Ym91bmRBdHRyYWN0aW9uRGlzdHJpYnV0aW9uP3c+MCYmKHY9LWwqeS9hW3IrNl0pOnc+MCYmKHY9LWwqeSkpOih3PU1hdGguc3FydChNYXRoLnBvdyhjLDIpK01hdGgucG93KGYsMikpLHUuc2V0dGluZ3MubGluTG9nTW9kZT91LnNldHRpbmdzLm91dGJvdW5kQXR0cmFjdGlvbkRpc3RyaWJ1dGlvbj93PjAmJih2PS1sKnkqTWF0aC5sb2coMSt3KS93L2Fbcis2XSk6dz4wJiYodj0tbCp5Kk1hdGgubG9nKDErdykvdyk6dS5zZXR0aW5ncy5vdXRib3VuZEF0dHJhY3Rpb25EaXN0cmlidXRpb24/KHc9MSx2PS1sKnkvYVtyKzZdKToodz0xLHY9LWwqeSkpLHc+MCYmKGFbcisyXSs9Yyp2LGFbciszXSs9Zip2LGFbaSsyXS09Yyp2LGFbaSszXS09Zip2KTt2YXIgVyxMLEYsXztpZih1LnNldHRpbmdzLmFkanVzdFNpemVzKWZvcihzPTA7czx1Lm5vZGVzTGVuZ3RoO3MrPXUucHBuKWFbcys5XXx8KFc9TWF0aC5zcXJ0KE1hdGgucG93KGFbcysyXSwyKStNYXRoLnBvdyhhW3MrM10sMikpLFc+dS5tYXhGb3JjZSYmKGFbcysyXT1hW3MrMl0qdS5tYXhGb3JjZS9XLGFbcyszXT1hW3MrM10qdS5tYXhGb3JjZS9XKSxMPWFbcys2XSpNYXRoLnNxcnQoKGFbcys0XS1hW3MrMl0pKihhW3MrNF0tYVtzKzJdKSsoYVtzKzVdLWFbcyszXSkqKGFbcys1XS1hW3MrM10pKSxGPU1hdGguc3FydCgoYVtzKzRdK2FbcysyXSkqKGFbcys0XSthW3MrMl0pKyhhW3MrNV0rYVtzKzNdKSooYVtzKzVdK2FbcyszXSkpLzIsXz0uMSpNYXRoLmxvZygxK0YpLygxK01hdGguc3FydChMKSksYVtzXT1hW3NdK2FbcysyXSooXy91LnNldHRpbmdzLnNsb3dEb3duKSxhW3MrMV09YVtzKzFdK2FbcyszXSooXy91LnNldHRpbmdzLnNsb3dEb3duKSk7ZWxzZSBmb3Iocz0wO3M8dS5ub2Rlc0xlbmd0aDtzKz11LnBwbilhW3MrOV18fChMPWFbcys2XSpNYXRoLnNxcnQoKGFbcys0XS1hW3MrMl0pKihhW3MrNF0tYVtzKzJdKSsoYVtzKzVdLWFbcyszXSkqKGFbcys1XS1hW3MrM10pKSxGPU1hdGguc3FydCgoYVtzKzRdK2FbcysyXSkqKGFbcys0XSthW3MrMl0pKyhhW3MrNV0rYVtzKzNdKSooYVtzKzVdK2FbcyszXSkpLzIsXz1hW3MrN10qTWF0aC5sb2coMStGKS8oMStNYXRoLnNxcnQoTCkpLGFbcys3XT1NYXRoLm1pbigxLE1hdGguc3FydChfKihNYXRoLnBvdyhhW3MrMl0sMikrTWF0aC5wb3coYVtzKzNdLDIpKS8oMStNYXRoLnNxcnQoTCkpKSksYVtzXT1hW3NdK2FbcysyXSooXy91LnNldHRpbmdzLnNsb3dEb3duKSxhW3MrMV09YVtzKzFdK2FbcyszXSooXy91LnNldHRpbmdzLnNsb3dEb3duKSk7dS5pdGVyYXRpb25zKyt9ZnVuY3Rpb24gbih0KXtmb3IodmFyIGU9MDtlPHQ7ZSsrKW8oKTtnKCl9dmFyIGEsaCxwLGcsdT17cHBuOjEwLHBwZTozLHBwcjo5LG1heEZvcmNlOjEwLGl0ZXJhdGlvbnM6MCxjb252ZXJnZWQ6ITEsc2V0dGluZ3M6e2xpbkxvZ01vZGU6ITEsb3V0Ym91bmRBdHRyYWN0aW9uRGlzdHJpYnV0aW9uOiExLGFkanVzdFNpemVzOiExLGVkZ2VXZWlnaHRJbmZsdWVuY2U6MCxzY2FsaW5nUmF0aW86MSxzdHJvbmdHcmF2aXR5TW9kZTohMSxncmF2aXR5OjEsc2xvd0Rvd246MSxiYXJuZXNIdXRPcHRpbWl6ZTohMSxiYXJuZXNIdXRUaGV0YTouNSxzdGFydGluZ0l0ZXJhdGlvbnM6MSxpdGVyYXRpb25zUGVyUmVuZGVyOjF9fTtnPSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cuZG9jdW1lbnQ/ZnVuY3Rpb24oKXt2YXIgdDtkb2N1bWVudC5jcmVhdGVFdmVudD8odD1kb2N1bWVudC5jcmVhdGVFdmVudCgiRXZlbnQiKSx0LmluaXRFdmVudCgibmV3Q29vcmRzIiwhMCwhMSkpOih0PWRvY3VtZW50LmNyZWF0ZUV2ZW50T2JqZWN0KCksdC5ldmVudFR5cGU9Im5ld0Nvb3JkcyIpLHQuZXZlbnROYW1lPSJuZXdDb29yZHMiLHQuZGF0YT17bm9kZXM6YS5idWZmZXJ9LHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbigpe2RvY3VtZW50LmRpc3BhdGNoRXZlbnQodCl9KX06ZnVuY3Rpb24oKXtzZWxmLnBvc3RNZXNzYWdlKHtub2RlczphLmJ1ZmZlcn0sW2EuYnVmZmVyXSl9O3ZhciBkPWZ1bmN0aW9uKHQpe3N3aXRjaCh0LmRhdGEuYWN0aW9uKXtjYXNlInN0YXJ0IjpyKG5ldyBGbG9hdDMyQXJyYXkodC5kYXRhLm5vZGVzKSxuZXcgRmxvYXQzMkFycmF5KHQuZGF0YS5lZGdlcyksdC5kYXRhLmNvbmZpZyksbih1LnNldHRpbmdzLnN0YXJ0aW5nSXRlcmF0aW9ucyk7YnJlYWs7Y2FzZSJsb29wIjphPW5ldyBGbG9hdDMyQXJyYXkodC5kYXRhLm5vZGVzKSxuKHUuc2V0dGluZ3MuaXRlcmF0aW9uc1BlclJlbmRlcik7YnJlYWs7Y2FzZSJjb25maWciOmkodC5kYXRhLmNvbmZpZyk7YnJlYWs7Y2FzZSJraWxsIjpzKHUpLGE9bnVsbCxoPW51bGwscD1udWxsLHNlbGYucmVtb3ZlRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsZCl9fTtzZWxmLmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLGQpfSxjcnVzaD1udWxsO2lmKGluV2ViV29ya2VyKWV2YWwoZ2V0V29ya2VyRm4oKSk7ZWxzZXtpZigidW5kZWZpbmVkIj09dHlwZW9mIHNpZ21hKXRocm93InNpZ21hIGlzIG5vdCBkZWNsYXJlZCI7c2lnbWEucHJvdG90eXBlLmdldEZvcmNlQXRsYXMyV29ya2VyPWdldFdvcmtlckZufX0uY2FsbCh0aGlzKTs="></script>
<script src="data:application/x-javascript;base64,KGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKCl7dmFyIGE9dGhpczt0aGlzLmluaXQ9ZnVuY3Rpb24oYSxiKXtpZihiPWJ8fHt9LHRoaXMuc2lnSW5zdD1hLHRoaXMuY29uZmlnPXNpZ21hLnV0aWxzLmV4dGVuZChiLGMpLHRoaXMuZWFzaW5nPWIuZWFzaW5nLHRoaXMuZHVyYXRpb249Yi5kdXJhdGlvbixiLm5vZGVzJiYodGhpcy5ub2Rlcz1iLm5vZGVzLGRlbGV0ZSBiLm5vZGVzKSwhc2lnbWEucGx1Z2luc3x8dm9pZCAwPT09c2lnbWEucGx1Z2lucy5hbmltYXRlKXRocm93IG5ldyBFcnJvcigic2lnbWEucGx1Z2lucy5hbmltYXRlIGlzIG5vdCBkZWNsYXJlZCIpO3RoaXMucnVubmluZz0hMX0sdGhpcy5hdG9taWNHbz1mdW5jdGlvbigpe2lmKCF0aGlzLnJ1bm5pbmd8fHRoaXMuaXRlckNvdW50PDEpcmV0dXJuITE7dmFyIGIsYyxkLGUsZixnLGgsaSxqLGssbCxtLG4sbyxwLHEscixzLHQsdSx2LHc9dGhpcy5ub2Rlc3x8dGhpcy5zaWdJbnN0LmdyYXBoLm5vZGVzKCkseD13Lmxlbmd0aCx5PTEvMCx6PS0xLzAsQT0xLzAsQj0tMS8wO2Zvcih0aGlzLml0ZXJDb3VudC0tLHRoaXMucnVubmluZz0hMSxiPTA7Yjx4O2IrKyljPXdbYl0sYy5kbi5keD0wLGMuZG4uZHk9MCx5PU1hdGgubWluKHksYy5kbl94LShjLmRuX3NpemUqYS5jb25maWcuc2NhbGVOb2RlcythLmNvbmZpZy5ub2RlTWFyZ2luKSksej1NYXRoLm1heCh6LGMuZG5feCsoYy5kbl9zaXplKmEuY29uZmlnLnNjYWxlTm9kZXMrYS5jb25maWcubm9kZU1hcmdpbikpLEE9TWF0aC5taW4oQSxjLmRuX3ktKGMuZG5fc2l6ZSphLmNvbmZpZy5zY2FsZU5vZGVzK2EuY29uZmlnLm5vZGVNYXJnaW4pKSxCPU1hdGgubWF4KEIsYy5kbl95KyhjLmRuX3NpemUqYS5jb25maWcuc2NhbGVOb2RlcythLmNvbmZpZy5ub2RlTWFyZ2luKSk7Zm9yKGU9ei15LGY9Qi1BLGc9KHkreikvMixoPShBK0IpLzIseT1nLWEuY29uZmlnLnBlcm1pdHRlZEV4cGFuc2lvbiplLzIsej1nK2EuY29uZmlnLnBlcm1pdHRlZEV4cGFuc2lvbiplLzIsQT1oLWEuY29uZmlnLnBlcm1pdHRlZEV4cGFuc2lvbipmLzIsQj1oK2EuY29uZmlnLnBlcm1pdHRlZEV4cGFuc2lvbipmLzIsaT17fSxqPTA7ajxhLmNvbmZpZy5ncmlkU2l6ZTtqKyspZm9yKGlbal09e30saz0wO2s8YS5jb25maWcuZ3JpZFNpemU7aysrKWlbal1ba109W107Zm9yKGI9MDtiPHg7YisrKWZvcihjPXdbYl0scz1jLmRuX3gtKGMuZG5fc2l6ZSphLmNvbmZpZy5zY2FsZU5vZGVzK2EuY29uZmlnLm5vZGVNYXJnaW4pLHQ9Yy5kbl94KyhjLmRuX3NpemUqYS5jb25maWcuc2NhbGVOb2RlcythLmNvbmZpZy5ub2RlTWFyZ2luKSx1PWMuZG5feS0oYy5kbl9zaXplKmEuY29uZmlnLnNjYWxlTm9kZXMrYS5jb25maWcubm9kZU1hcmdpbiksdj1jLmRuX3krKGMuZG5fc2l6ZSphLmNvbmZpZy5zY2FsZU5vZGVzK2EuY29uZmlnLm5vZGVNYXJnaW4pLGw9TWF0aC5mbG9vcihhLmNvbmZpZy5ncmlkU2l6ZSoocy15KS8oei15KSksbT1NYXRoLmZsb29yKGEuY29uZmlnLmdyaWRTaXplKih0LXkpLyh6LXkpKSxuPU1hdGguZmxvb3IoYS5jb25maWcuZ3JpZFNpemUqKHUtQSkvKEItQSkpLG89TWF0aC5mbG9vcihhLmNvbmZpZy5ncmlkU2l6ZSoodi1BKS8oQi1BKSksaz1sO2s8PW07aysrKWZvcihqPW47ajw9bztqKyspaVtqXVtrXS5wdXNoKGMuaWQpO2ZvcihwPXt9LGo9MDtqPGEuY29uZmlnLmdyaWRTaXplO2orKylmb3Ioaz0wO2s8YS5jb25maWcuZ3JpZFNpemU7aysrKWlbal1ba10uZm9yRWFjaChmdW5jdGlvbihiKXtmb3IocFtiXXx8KHBbYl09W10pLHE9TWF0aC5tYXgoMCxqLTEpO3E8PU1hdGgubWluKGorMSxhLmNvbmZpZy5ncmlkU2l6ZS0xKTtxKyspZm9yKHI9TWF0aC5tYXgoMCxrLTEpO3I8PU1hdGgubWluKGsrMSxhLmNvbmZpZy5ncmlkU2l6ZS0xKTtyKyspaVtxXVtyXS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2EhPT1iJiYtMT09PXBbYl0uaW5kZXhPZihhKSYmcFtiXS5wdXNoKGEpfSl9KTtmb3IoYj0wO2I8eDtiKyspZD13W2JdLHBbZC5pZF0uZm9yRWFjaChmdW5jdGlvbihiKXt2YXIgYz1hLnNpZ0luc3QuZ3JhcGgubm9kZXMoYiksZz1jLmRuX3gtZC5kbl94LGg9Yy5kbl95LWQuZG5feSxpPU1hdGguc3FydChnKmcraCpoKTtpPGQuZG5fc2l6ZSphLmNvbmZpZy5zY2FsZU5vZGVzK2EuY29uZmlnLm5vZGVNYXJnaW4rKGMuZG5fc2l6ZSphLmNvbmZpZy5zY2FsZU5vZGVzK2EuY29uZmlnLm5vZGVNYXJnaW4pJiYoYS5ydW5uaW5nPSEwLGk+MD8oYy5kbi5keCs9Zy9pKigxK2QuZG5fc2l6ZSksYy5kbi5keSs9aC9pKigxK2QuZG5fc2l6ZSkpOihjLmRuLmR4Kz0uMDEqZSooLjUtTWF0aC5yYW5kb20oKSksYy5kbi5keSs9LjAxKmYqKC41LU1hdGgucmFuZG9tKCkpKSl9KTtmb3IoYj0wO2I8eDtiKyspYz13W2JdLGMuZml4ZWR8fChjLmRuX3g9Yy5kbl94Ky4xKmMuZG4uZHgqYS5jb25maWcuc3BlZWQsYy5kbl95PWMuZG5feSsuMSpjLmRuLmR5KmEuY29uZmlnLnNwZWVkKTtyZXR1cm4gdGhpcy5ydW5uaW5nJiZ0aGlzLml0ZXJDb3VudDwxJiYodGhpcy5ydW5uaW5nPSExKSx0aGlzLnJ1bm5pbmd9LHRoaXMuZ289ZnVuY3Rpb24oKXtmb3IodGhpcy5pdGVyQ291bnQ9dGhpcy5jb25maWcubWF4SXRlcmF0aW9uczt0aGlzLnJ1bm5pbmc7KXRoaXMuYXRvbWljR28oKTt0aGlzLnN0b3AoKX0sdGhpcy5zdGFydD1mdW5jdGlvbigpe2lmKCF0aGlzLnJ1bm5pbmcpe3ZhciBiPXRoaXMuc2lnSW5zdC5ncmFwaC5ub2RlcygpLGM9dGhpcy5zaWdJbnN0LnJlbmRlcmVyc1thLmNvbmZpZy5yZW5kZXJlckluZGV4XS5vcHRpb25zLnByZWZpeDt0aGlzLnJ1bm5pbmc9ITA7Zm9yKHZhciBkPTA7ZDxiLmxlbmd0aDtkKyspYltkXS5kbl94PWJbZF1bYysieCJdLGJbZF0uZG5feT1iW2RdW2MrInkiXSxiW2RdLmRuX3NpemU9YltkXVtjKyJzaXplIl0sYltkXS5kbj17ZHg6MCxkeTowfTtlW2Euc2lnSW5zdC5pZF0uZGlzcGF0Y2hFdmVudCgic3RhcnQiKSx0aGlzLmdvKCl9fSx0aGlzLnN0b3A9ZnVuY3Rpb24oKXt2YXIgYj10aGlzLnNpZ0luc3QuZ3JhcGgubm9kZXMoKTtpZih0aGlzLnJ1bm5pbmc9ITEsdGhpcy5lYXNpbmcpZVthLnNpZ0luc3QuaWRdLmRpc3BhdGNoRXZlbnQoImludGVycG9sYXRlIiksc2lnbWEucGx1Z2lucy5hbmltYXRlKGEuc2lnSW5zdCx7eDoiZG5feCIseToiZG5feSJ9LHtlYXNpbmc6YS5lYXNpbmcsb25Db21wbGV0ZTpmdW5jdGlvbigpe2Euc2lnSW5zdC5yZWZyZXNoKCk7Zm9yKHZhciBjPTA7YzxiLmxlbmd0aDtjKyspYltjXS5kbj1udWxsLGJbY10uZG5feD1udWxsLGJbY10uZG5feT1udWxsO2VbYS5zaWdJbnN0LmlkXS5kaXNwYXRjaEV2ZW50KCJzdG9wIil9LGR1cmF0aW9uOmEuZHVyYXRpb259KTtlbHNle2Zvcih2YXIgYz0wO2M8Yi5sZW5ndGg7YysrKWJbY10ueD1iW2NdLmRuX3gsYltjXS55PWJbY10uZG5feTt0aGlzLnNpZ0luc3QucmVmcmVzaCgpO2Zvcih2YXIgYz0wO2M8Yi5sZW5ndGg7YysrKWJbY10uZG49bnVsbCxiW2NdLmRuX3g9bnVsbCxiW2NdLmRuX3k9bnVsbDtlW2Euc2lnSW5zdC5pZF0uZGlzcGF0Y2hFdmVudCgic3RvcCIpfX0sdGhpcy5raWxsPWZ1bmN0aW9uKCl7dGhpcy5zaWdJbnN0PW51bGwsdGhpcy5jb25maWc9bnVsbCx0aGlzLmVhc2luZz1udWxsfX1pZigidW5kZWZpbmVkIj09dHlwZW9mIHNpZ21hKXRocm93IG5ldyBFcnJvcigic2lnbWEgaXMgbm90IGRlY2xhcmVkIik7c2lnbWEudXRpbHMucGtnKCJzaWdtYS5sYXlvdXQubm92ZXJsYXAiKTt2YXIgYz17c3BlZWQ6MyxzY2FsZU5vZGVzOjEuMixub2RlTWFyZ2luOjUsZ3JpZFNpemU6MjAscGVybWl0dGVkRXhwYW5zaW9uOjEuMSxyZW5kZXJlckluZGV4OjAsbWF4SXRlcmF0aW9uczo1MDB9LGQ9e30sZT17fTtzaWdtYS5wcm90b3R5cGUuY29uZmlnTm92ZXJsYXA9ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcztpZighYSl0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgYXJndW1lbnQ6ICJjb25maWciJyk7cmV0dXJuIGRbYy5pZF18fChkW2MuaWRdPW5ldyBiLGVbYy5pZF09e30sc2lnbWEuY2xhc3Nlcy5kaXNwYXRjaGVyLmV4dGVuZChlW2MuaWRdKSxjLmJpbmQoImtpbGwiLGZ1bmN0aW9uKCl7ZFtjLmlkXS5raWxsKCksZFtjLmlkXT1udWxsLGVbYy5pZF09bnVsbH0pKSxkW2MuaWRdLmluaXQoYyxhKSxlW2MuaWRdfSxzaWdtYS5wcm90b3R5cGUuc3RhcnROb3ZlcmxhcD1mdW5jdGlvbihhKXt2YXIgYj10aGlzO3JldHVybiBhJiZ0aGlzLmNvbmZpZ05vdmVybGFwKGIsYSksZFtiLmlkXS5zdGFydCgpLGVbYi5pZF19LHNpZ21hLnByb3RvdHlwZS5pc05vdmVybGFwUnVubmluZz1mdW5jdGlvbigpe3ZhciBhPXRoaXM7cmV0dXJuISFkW2EuaWRdJiZkW2EuaWRdLnJ1bm5pbmd9fSkuY2FsbCh0aGlzKTs="></script>
<script src="data:application/x-javascript;base64,IWZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3NpZ21hLnV0aWxzLnBrZygic2lnbWEuY2FudmFzLmVkZ2Vob3ZlcnMiKSxzaWdtYS5jYW52YXMuZWRnZWhvdmVycy5jdXJ2ZT1mdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPWEuY29sb3IsZz1lKCJwcmVmaXgiKXx8IiIsaD1lKCJlZGdlSG92ZXJTaXplUmF0aW8iKSooYVtnKyJzaXplIl18fDEpLGk9YS5jb3VudHx8MCxqPWUoImVkZ2VDb2xvciIpLGs9ZSgiZGVmYXVsdE5vZGVDb2xvciIpLGw9ZSgiZGVmYXVsdEVkZ2VDb2xvciIpLG09e30sbj1iW2crInNpemUiXSxvPWJbZysieCJdLHA9YltnKyJ5Il0scT1jW2crIngiXSxyPWNbZysieSJdO2lmKG09Yi5pZD09PWMuaWQ/c2lnbWEudXRpbHMuZ2V0U2VsZkxvb3BDb250cm9sUG9pbnRzKG8scCxuLGkpOnNpZ21hLnV0aWxzLmdldFF1YWRyYXRpY0NvbnRyb2xQb2ludChvLHAscSxyLGkpLCFmKXN3aXRjaChqKXtjYXNlInNvdXJjZSI6Zj1iLmNvbG9yfHxrO2JyZWFrO2Nhc2UidGFyZ2V0IjpmPWMuY29sb3J8fGs7YnJlYWs7ZGVmYXVsdDpmPWx9Zj0iZWRnZSI9PT1lKCJlZGdlSG92ZXJDb2xvciIpP2EuaG92ZXJfY29sb3J8fGY6YS5ob3Zlcl9jb2xvcnx8ZSgiZGVmYXVsdEVkZ2VIb3ZlckNvbG9yIil8fGYsZC5zdHJva2VTdHlsZT1mLGQubGluZVdpZHRoPWgsZC5iZWdpblBhdGgoKSxkLm1vdmVUbyhvLHApLGIuaWQ9PT1jLmlkP2QuYmV6aWVyQ3VydmVUbyhtLngxLG0ueTEsbS54MixtLnkyLHEscik6ZC5xdWFkcmF0aWNDdXJ2ZVRvKG0ueCxtLnkscSxyKSxkLnN0cm9rZSgpfX0oKSxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0IjtzaWdtYS51dGlscy5wa2coInNpZ21hLmNhbnZhcy5lZGdlaG92ZXJzIiksc2lnbWEuY2FudmFzLmVkZ2Vob3ZlcnMuY3VydmVkQXJyb3c9ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZixnLGgsaSxqLGssbD1hLmNvbG9yLG09ZSgicHJlZml4Iil8fCIiLG49ZSgiZWRnZUNvbG9yIiksbz1lKCJkZWZhdWx0Tm9kZUNvbG9yIikscD1lKCJkZWZhdWx0RWRnZUNvbG9yIikscT17fSxyPWUoImVkZ2VIb3ZlclNpemVSYXRpbyIpKihhW20rInNpemUiXXx8MSkscz1hLmNvdW50fHwwLHQ9Y1ttKyJzaXplIl0sdT1iW20rIngiXSx2PWJbbSsieSJdLHc9Y1ttKyJ4Il0seD1jW20rInkiXTtpZihxPWIuaWQ9PT1jLmlkP3NpZ21hLnV0aWxzLmdldFNlbGZMb29wQ29udHJvbFBvaW50cyh1LHYsdCxzKTpzaWdtYS51dGlscy5nZXRRdWFkcmF0aWNDb250cm9sUG9pbnQodSx2LHcseCxzKSxiLmlkPT09Yy5pZD8oZj1NYXRoLnNxcnQoTWF0aC5wb3cody1xLngxLDIpK01hdGgucG93KHgtcS55MSwyKSksZz0yLjUqcixoPXEueDErKHctcS54MSkqKGYtZy10KS9mLGk9cS55MSsoeC1xLnkxKSooZi1nLXQpL2Ysaj0ody1xLngxKSpnL2Ysaz0oeC1xLnkxKSpnL2YpOihmPU1hdGguc3FydChNYXRoLnBvdyh3LXEueCwyKStNYXRoLnBvdyh4LXEueSwyKSksZz0yLjUqcixoPXEueCsody1xLngpKihmLWctdCkvZixpPXEueSsoeC1xLnkpKihmLWctdCkvZixqPSh3LXEueCkqZy9mLGs9KHgtcS55KSpnL2YpLCFsKXN3aXRjaChuKXtjYXNlInNvdXJjZSI6bD1iLmNvbG9yfHxvO2JyZWFrO2Nhc2UidGFyZ2V0IjpsPWMuY29sb3J8fG87YnJlYWs7ZGVmYXVsdDpsPXB9bD0iZWRnZSI9PT1lKCJlZGdlSG92ZXJDb2xvciIpP2EuaG92ZXJfY29sb3J8fGw6YS5ob3Zlcl9jb2xvcnx8ZSgiZGVmYXVsdEVkZ2VIb3ZlckNvbG9yIil8fGwsZC5zdHJva2VTdHlsZT1sLGQubGluZVdpZHRoPXIsZC5iZWdpblBhdGgoKSxkLm1vdmVUbyh1LHYpLGIuaWQ9PT1jLmlkP2QuYmV6aWVyQ3VydmVUbyhxLngyLHEueTIscS54MSxxLnkxLGgsaSk6ZC5xdWFkcmF0aWNDdXJ2ZVRvKHEueCxxLnksaCxpKSxkLnN0cm9rZSgpLGQuZmlsbFN0eWxlPWwsZC5iZWdpblBhdGgoKSxkLm1vdmVUbyhoK2osaStrKSxkLmxpbmVUbyhoKy42KmssaS0uNipqKSxkLmxpbmVUbyhoLS42KmssaSsuNipqKSxkLmxpbmVUbyhoK2osaStrKSxkLmNsb3NlUGF0aCgpLGQuZmlsbCgpfX0oKSxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0IjtzaWdtYS51dGlscy5wa2coInNpZ21hLmNhbnZhcy5lZGdlcyIpLHNpZ21hLmNhbnZhcy5lZGdlcy5jdXJ2ZT1mdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPWEuY29sb3IsZz1lKCJwcmVmaXgiKXx8IiIsaD1hW2crInNpemUiXXx8MSxpPWEuY291bnR8fDAsaj1lKCJlZGdlQ29sb3IiKSxrPWUoImRlZmF1bHROb2RlQ29sb3IiKSxsPWUoImRlZmF1bHRFZGdlQ29sb3IiKSxtPXt9LG49YltnKyJzaXplIl0sbz1iW2crIngiXSxwPWJbZysieSJdLHE9Y1tnKyJ4Il0scj1jW2crInkiXTtpZihtPWIuaWQ9PT1jLmlkP3NpZ21hLnV0aWxzLmdldFNlbGZMb29wQ29udHJvbFBvaW50cyhvLHAsbixpKTpzaWdtYS51dGlscy5nZXRRdWFkcmF0aWNDb250cm9sUG9pbnQobyxwLHEscixpKSwhZilzd2l0Y2goail7Y2FzZSJzb3VyY2UiOmY9Yi5jb2xvcnx8azticmVhaztjYXNlInRhcmdldCI6Zj1jLmNvbG9yfHxrO2JyZWFrO2RlZmF1bHQ6Zj1sfWQuc3Ryb2tlU3R5bGU9ZixkLmxpbmVXaWR0aD1oLGQuYmVnaW5QYXRoKCksZC5tb3ZlVG8obyxwKSxiLmlkPT09Yy5pZD9kLmJlemllckN1cnZlVG8obS54MSxtLnkxLG0ueDIsbS55MixxLHIpOmQucXVhZHJhdGljQ3VydmVUbyhtLngsbS55LHEsciksZC5zdHJva2UoKX19KCksZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7c2lnbWEudXRpbHMucGtnKCJzaWdtYS5jYW52YXMuZWRnZXMiKSxzaWdtYS5jYW52YXMuZWRnZXMuY3VydmVkQXJyb3c9ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZixnLGgsaSxqLGs9YS5jb2xvcixsPWUoInByZWZpeCIpfHwiIixtPWUoImVkZ2VDb2xvciIpLG49ZSgiZGVmYXVsdE5vZGVDb2xvciIpLG89ZSgiZGVmYXVsdEVkZ2VDb2xvciIpLHA9e30scT1hW2wrInNpemUiXXx8MSxyPWEuY291bnR8fDAscz1jW2wrInNpemUiXSx0PWJbbCsieCJdLHU9YltsKyJ5Il0sdj1jW2wrIngiXSx3PWNbbCsieSJdLHg9TWF0aC5tYXgoMi41KnEsZSgibWluQXJyb3dTaXplIikpO2lmKHA9Yi5pZD09PWMuaWQ/c2lnbWEudXRpbHMuZ2V0U2VsZkxvb3BDb250cm9sUG9pbnRzKHQsdSxzLHIpOnNpZ21hLnV0aWxzLmdldFF1YWRyYXRpY0NvbnRyb2xQb2ludCh0LHUsdix3LHIpLGIuaWQ9PT1jLmlkPyhmPU1hdGguc3FydChNYXRoLnBvdyh2LXAueDEsMikrTWF0aC5wb3cody1wLnkxLDIpKSxnPXAueDErKHYtcC54MSkqKGYteC1zKS9mLGg9cC55MSsody1wLnkxKSooZi14LXMpL2YsaT0odi1wLngxKSp4L2Ysaj0ody1wLnkxKSp4L2YpOihmPU1hdGguc3FydChNYXRoLnBvdyh2LXAueCwyKStNYXRoLnBvdyh3LXAueSwyKSksZz1wLngrKHYtcC54KSooZi14LXMpL2YsaD1wLnkrKHctcC55KSooZi14LXMpL2YsaT0odi1wLngpKngvZixqPSh3LXAueSkqeC9mKSwhaylzd2l0Y2gobSl7Y2FzZSJzb3VyY2UiOms9Yi5jb2xvcnx8bjticmVhaztjYXNlInRhcmdldCI6az1jLmNvbG9yfHxuO2JyZWFrO2RlZmF1bHQ6az1vfWQuc3Ryb2tlU3R5bGU9ayxkLmxpbmVXaWR0aD1xLGQuYmVnaW5QYXRoKCksZC5tb3ZlVG8odCx1KSxiLmlkPT09Yy5pZD9kLmJlemllckN1cnZlVG8ocC54MixwLnkyLHAueDEscC55MSxnLGgpOmQucXVhZHJhdGljQ3VydmVUbyhwLngscC55LGcsaCksZC5zdHJva2UoKSxkLmZpbGxTdHlsZT1rLGQuYmVnaW5QYXRoKCksZC5tb3ZlVG8oZytpLGgraiksZC5saW5lVG8oZysuNipqLGgtLjYqaSksZC5saW5lVG8oZy0uNipqLGgrLjYqaSksZC5saW5lVG8oZytpLGgraiksZC5jbG9zZVBhdGgoKSxkLmZpbGwoKX19KCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2lmKCJ1bmRlZmluZWQiPT10eXBlb2Ygc2lnbWEpdGhyb3cic2lnbWEgaXMgbm90IGRlY2xhcmVkIjtzaWdtYS51dGlscy5wa2coInNpZ21hLmNhbnZhcy5lZGdlcy5sYWJlbHMiKSxzaWdtYS5jYW52YXMuZWRnZXMubGFiZWxzLmN1cnZlPWZ1bmN0aW9uKGEsYixjLGQsZSl7aWYoInN0cmluZyI9PXR5cGVvZiBhLmxhYmVsKXt2YXIgZj1lKCJwcmVmaXgiKXx8IiIsZz1hW2YrInNpemUiXXx8MTtpZighKGc8ZSgiZWRnZUxhYmVsVGhyZXNob2xkIikpKXt2YXIgaCxpLGosaz1iW2YrInNpemUiXSxsPWEuY291bnR8fDAsbT1iW2YrIngiXSxuPWJbZisieSJdLG89Y1tmKyJ4Il0scD1jW2YrInkiXSxxPW8tbSxyPXAtbixzPW08bz8xOi0xLHQ9e30sdT0uNTtiLmlkPT09Yy5pZD8odD1zaWdtYS51dGlscy5nZXRTZWxmTG9vcENvbnRyb2xQb2ludHMobSxuLGssbCksaT1zaWdtYS51dGlscy5nZXRQb2ludE9uQmV6aWVyQ3VydmUodSxtLG4sbyxwLHQueDEsdC55MSx0LngyLHQueTIpLGo9TWF0aC5hdGFuMigxLDEpKToodD1zaWdtYS51dGlscy5nZXRRdWFkcmF0aWNDb250cm9sUG9pbnQobSxuLG8scCxsKSxpPXNpZ21hLnV0aWxzLmdldFBvaW50T25RdWFkcmF0aWNDdXJ2ZSh1LG0sbixvLHAsdC54LHQueSksaj1NYXRoLmF0YW4yKHIqcyxxKnMpKSxoPSJmaXhlZCI9PT1lKCJlZGdlTGFiZWxTaXplIik/ZSgiZGVmYXVsdEVkZ2VMYWJlbFNpemUiKTplKCJkZWZhdWx0RWRnZUxhYmVsU2l6ZSIpKmcqTWF0aC5wb3coZywtMS9lKCJlZGdlTGFiZWxTaXplUG93UmF0aW8iKSksZC5zYXZlKCksYS5hY3RpdmU/KGQuZm9udD1bZSgiYWN0aXZlRm9udFN0eWxlIiksaCsicHgiLGUoImFjdGl2ZUZvbnQiKXx8ZSgiZm9udCIpXS5qb2luKCIgIiksZC5maWxsU3R5bGU9ImVkZ2UiPT09ZSgiZWRnZUFjdGl2ZUNvbG9yIik/YS5hY3RpdmVfY29sb3J8fGUoImRlZmF1bHRFZGdlQWN0aXZlQ29sb3IiKTplKCJkZWZhdWx0RWRnZUxhYmVsQWN0aXZlQ29sb3IiKSk6KGQuZm9udD1bZSgiZm9udFN0eWxlIiksaCsicHgiLGUoImZvbnQiKV0uam9pbigiICIpLGQuZmlsbFN0eWxlPSJlZGdlIj09PWUoImVkZ2VMYWJlbENvbG9yIik/YS5jb2xvcnx8ZSgiZGVmYXVsdEVkZ2VDb2xvciIpOmUoImRlZmF1bHRFZGdlTGFiZWxDb2xvciIpKSxkLnRleHRBbGlnbj0iY2VudGVyIixkLnRleHRCYXNlbGluZT0iYWxwaGFiZXRpYyIsZC50cmFuc2xhdGUoaS54LGkueSksZC5yb3RhdGUoaiksZC5maWxsVGV4dChhLmxhYmVsLDAsLWcvMi0zKSxkLnJlc3RvcmUoKX19fX0uY2FsbCh0aGlzKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBzaWdtYSl0aHJvdyJzaWdtYSBpcyBub3QgZGVjbGFyZWQiO3NpZ21hLnV0aWxzPXNpZ21hLnV0aWxzfHx7fSxzaWdtYS51dGlscy5nZXRRdWFkcmF0aWNDb250cm9sUG9pbnQ9ZnVuY3Rpb24oYSxiLGMsZCxlKXtyZXR1cm4gZT1lfHwwLHt4OihhK2MpLzIrKGQtYikvKDYwLygxNStlKSkseTooYitkKS8yKyhhLWMpLyg2MC8oMTUrZSkpfX0sc2lnbWEudXRpbHMuZ2V0U2VsZkxvb3BDb250cm9sUG9pbnRzPWZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiBkPWR8fDAse3gxOmEtNyooYytkKSx5MTpiLHgyOmEseTI6Yis3KihjK2QpfX19LmNhbGwodGhpcyk7"></script>
<script src="data:application/x-javascript;base64,KGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGEoYSl7aWYoZFthXSlyZXR1cm4gZFthXTt2YXIgYj1bMCwwLDBdO3JldHVybiBhLm1hdGNoKC9eIy8pPyhhPShhfHwiIikucmVwbGFjZSgvXiMvLCIiKSxiPTM9PT1hLmxlbmd0aD9bcGFyc2VJbnQoYS5jaGFyQXQoMCkrYS5jaGFyQXQoMCksMTYpLHBhcnNlSW50KGEuY2hhckF0KDEpK2EuY2hhckF0KDEpLDE2KSxwYXJzZUludChhLmNoYXJBdCgyKSthLmNoYXJBdCgyKSwxNildOltwYXJzZUludChhLmNoYXJBdCgwKSthLmNoYXJBdCgxKSwxNikscGFyc2VJbnQoYS5jaGFyQXQoMikrYS5jaGFyQXQoMyksMTYpLHBhcnNlSW50KGEuY2hhckF0KDQpK2EuY2hhckF0KDUpLDE2KV0pOmEubWF0Y2goL14gKnJnYmE/ICpcKC8pJiYoYT1hLm1hdGNoKC9eICpyZ2JhPyAqXCggKihbMC05XSopICosICooWzAtOV0qKSAqLCAqKFswLTldKikgKigsLiopP1wpICokLyksYj1bK2FbMV0sK2FbMl0sK2FbM11dKSxkW2FdPXtyOmJbMF0sZzpiWzFdLGI6YlsyXX0sZFthXX1mdW5jdGlvbiBiKGIsYyxkKXtiPWEoYiksYz1hKGMpO3ZhciBlPXtyOmIuciooMS1kKStjLnIqZCxnOmIuZyooMS1kKStjLmcqZCxiOmIuYiooMS1kKStjLmIqZH07cmV0dXJuInJnYigiK1swfGUuciwwfGUuZywwfGUuYl0uam9pbigiLCIpKyIpIn1pZigidW5kZWZpbmVkIj09dHlwZW9mIHNpZ21hKXRocm93InNpZ21hIGlzIG5vdCBkZWNsYXJlZCI7c2lnbWEudXRpbHMucGtnKCJzaWdtYS5wbHVnaW5zIik7dmFyIGM9MCxkPXt9O3NpZ21hLnBsdWdpbnMuYW5pbWF0ZT1mdW5jdGlvbihhLGQsZSl7ZnVuY3Rpb24gZigpe3ZhciBjPShzaWdtYS51dGlscy5kYXRlTm93KCktbSkvaztpZihjPj0xKXtnLmZvckVhY2goZnVuY3Rpb24oYSl7Zm9yKHZhciBiIGluIGQpYiBpbiBkJiYoYVtiXT1hW2RbYl1dKX0pO3ZhciBlLG47Zm9yKGUgaW4gYS5jYW1lcmFzKW49YS5jYW1lcmFzW2VdLG4uZWRnZXF1YWR0cmVlLl9lbmFibGVkPSEwO2EucmVmcmVzaCgpLCJmdW5jdGlvbiI9PXR5cGVvZiBpLm9uQ29tcGxldGUmJmkub25Db21wbGV0ZSgpfWVsc2UgYz1sKGMpLGcuZm9yRWFjaChmdW5jdGlvbihhKXtmb3IodmFyIGUgaW4gZCllIGluIGQmJihlLm1hdGNoKC9jb2xvciQvKT9hW2VdPWIoaFthLmlkXVtlXSxhW2RbZV1dLGMpOmFbZV09YVtkW2VdXSpjK2hbYS5pZF1bZV0qKDEtYykpfSksYS5yZWZyZXNoKCksYS5hbmltYXRpb25zW2pdPXJlcXVlc3RBbmltYXRpb25GcmFtZShmKX12YXIgZyxoLGk9ZXx8e30saj0rK2Msaz1pLmR1cmF0aW9ufHxhLnNldHRpbmdzKCJhbmltYXRpb25zVGltZSIpLGw9InN0cmluZyI9PXR5cGVvZiBpLmVhc2luZz9zaWdtYS51dGlscy5lYXNpbmdzW2kuZWFzaW5nXToiZnVuY3Rpb24iPT10eXBlb2YgaS5lYXNpbmc/aS5lYXNpbmc6c2lnbWEudXRpbHMuZWFzaW5ncy5xdWFkcmF0aWNJbk91dCxtPXNpZ21hLnV0aWxzLmRhdGVOb3coKTtnPWkubm9kZXMmJmkubm9kZXMubGVuZ3RoPyJvYmplY3QiPT10eXBlb2YgaS5ub2Rlc1swXT9pLm5vZGVzOmEuZ3JhcGgubm9kZXMoaS5ub2Rlcyk6YS5ncmFwaC5ub2RlcygpLGg9Zy5yZWR1Y2UoZnVuY3Rpb24oYSxiKXt2YXIgYzthW2IuaWRdPXt9O2ZvcihjIGluIGQpYyBpbiBiJiYoYVtiLmlkXVtjXT1iW2NdKTtyZXR1cm4gYX0se30pLGEuYW5pbWF0aW9ucz1hLmFuaW1hdGlvbnN8fE9iamVjdC5jcmVhdGUoe30pLHNpZ21hLnBsdWdpbnMua2lsbChhKTt2YXIgbixvO2ZvcihuIGluIGEuY2FtZXJhcylvPWEuY2FtZXJhc1tuXSxvLmVkZ2VxdWFkdHJlZS5fZW5hYmxlZD0hMTtmKCl9LHNpZ21hLnBsdWdpbnMua2lsbD1mdW5jdGlvbihhKXtmb3IodmFyIGIgaW4gYS5hbmltYXRpb25zfHx7fSljYW5jZWxBbmltYXRpb25GcmFtZShhLmFuaW1hdGlvbnNbYl0pO3ZhciBiLGM7Zm9yKGIgaW4gYS5jYW1lcmFzKWM9YS5jYW1lcmFzW2JdLGMuZWRnZXF1YWR0cmVlLl9lbmFibGVkPSEwfX0pLmNhbGwod2luZG93KTs="></script>
<script src="data:application/x-javascript;base64,KGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0Ijt2YXIgYj1bXSxjPWZ1bmN0aW9uKGEsYyxkKXtiLnB1c2goe25hbWU6YSxkcmF3U2hhcGU6YyxkcmF3Qm9yZGVyOmR9KX0sZD1mdW5jdGlvbigpe3JldHVybiBifSxlPWZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiLGMsZCxlLGYsZyl7Zy5maWxsU3R5bGU9ZixnLmJlZ2luUGF0aCgpLGEoYixjLGQsZSxnKSxnLmNsb3NlUGF0aCgpLGcuZmlsbCgpfX0sZj1mdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYixjLGQsZSxmLGcpe2cuc3Ryb2tlU3R5bGU9ZixnLmxpbmVXaWR0aD1lLzUsZy5iZWdpblBhdGgoKSxhKGIsYyxkLGUsZyksZy5jbG9zZVBhdGgoKSxnLnN0cm9rZSgpfX0sZz1mdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPTQ1Kk1hdGguUEkvMTgwO2UubW92ZVRvKGIrZCpNYXRoLnNpbihmKSxjLWQqTWF0aC5jb3MoZikpO2Zvcih2YXIgZz0xO2c8NDtnKyspZS5saW5lVG8oYitNYXRoLnNpbihmKzIqTWF0aC5QSSpnLzQpKmQsYy1NYXRoLmNvcyhmKzIqTWF0aC5QSSpnLzQpKmQpfTtjKCJzcXVhcmUiLGUoZyksZihnKSk7dmFyIGg9ZnVuY3Rpb24oYSxiLGMsZCxlKXtlLmFyYyhiLGMsZCwwLDIqTWF0aC5QSSwhMCl9O2MoImNpcmNsZSIsZShoKSxmKGgpKTt2YXIgaT1mdW5jdGlvbihhLGIsYyxkLGUpe2UubW92ZVRvKGItZCxjKSxlLmxpbmVUbyhiLGMtZCksZS5saW5lVG8oYitkLGMpLGUubGluZVRvKGIsYytkKX07YygiZGlhbW9uZCIsZShpKSxmKGkpKTt2YXIgaj1mdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPWEuY3Jvc3MmJmEuY3Jvc3MubGluZVdlaWdodHx8NTtlLm1vdmVUbyhiLWQsYy1mKSxlLmxpbmVUbyhiLWQsYytmKSxlLmxpbmVUbyhiLWYsYytmKSxlLmxpbmVUbyhiLWYsYytkKSxlLmxpbmVUbyhiK2YsYytkKSxlLmxpbmVUbyhiK2YsYytmKSxlLmxpbmVUbyhiK2QsYytmKSxlLmxpbmVUbyhiK2QsYy1mKSxlLmxpbmVUbyhiK2YsYy1mKSxlLmxpbmVUbyhiK2YsYy1kKSxlLmxpbmVUbyhiLWYsYy1kKSxlLmxpbmVUbyhiLWYsYy1mKX07YygiY3Jvc3MiLGUoaiksZihqKSk7dmFyIGs9ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj1hLmVxdWlsYXRlcmFsJiZhLmVxdWlsYXRlcmFsLm51bVBvaW50c3x8NSxnPShhLmVxdWlsYXRlcmFsJiZhLmVxdWlsYXRlcmFsLnJvdGF0ZXx8MCkqTWF0aC5QSS8xODAsaD1kO2UubW92ZVRvKGIraCpNYXRoLnNpbihnKSxjLWgqTWF0aC5jb3MoZykpO2Zvcih2YXIgaT0xO2k8ZjtpKyspZS5saW5lVG8oYitNYXRoLnNpbihnKzIqTWF0aC5QSSppL2YpKmgsYy1NYXRoLmNvcyhnKzIqTWF0aC5QSSppL2YpKmgpfTtjKCJlcXVpbGF0ZXJhbCIsZShrKSxmKGspKTt2YXIgbD1mdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPWEuc3RhciYmYS5zdGFyLm51bVBvaW50c3x8NSxnPWEuc3RhciYmYS5zdGFyLmlubmVyUmF0aW98fC41LGg9ZCxpPWQqZyxqPU1hdGguUEkvZjtlLm1vdmVUbyhiLGMtZCk7Zm9yKHZhciBrPTA7azxmO2srKyllLmxpbmVUbyhiK01hdGguc2luKGorMipNYXRoLlBJKmsvZikqaSxjLU1hdGguY29zKGorMipNYXRoLlBJKmsvZikqaSksZS5saW5lVG8oYitNYXRoLnNpbigyKk1hdGguUEkqKGsrMSkvZikqaCxjLU1hdGguY29zKDIqTWF0aC5QSSooaysxKS9mKSpoKX07Yygic3RhciIsZShsKSxmKGwpKSxjKCJwYWNtYW4iLGZ1bmN0aW9uKGEsYixjLGQsZSxmKXtmLmZpbGxTdHlsZT0ieWVsbG93IixmLmJlZ2luUGF0aCgpLGYuYXJjKGIsYyxkLDEuMjUqTWF0aC5QSSwwLCExKSxmLmFyYyhiLGMsZCwwLC43NSpNYXRoLlBJLCExKSxmLmxpbmVUbyhiLGMpLGYuY2xvc2VQYXRoKCksZi5maWxsKCksZi5maWxsU3R5bGU9IndoaXRlIixmLnN0cm9rZVN0eWxlPSJibGFjayIsZi5iZWdpblBhdGgoKSxmLmFyYyhiK2QvMyxjLWQvMyxkLzQsMCwyKk1hdGguUEksITEpLGYuY2xvc2VQYXRoKCksZi5maWxsKCksZi5zdHJva2UoKSxmLmZpbGxTdHlsZT0iYmxhY2siLGYuYmVnaW5QYXRoKCksZi5hcmMoYis0KmQvOSxjLWQvMyxkLzgsMCwyKk1hdGguUEksITEpLGYuY2xvc2VQYXRoKCksZi5maWxsKCl9LG51bGwpLHRoaXMuU2hhcGVMaWJyYXJ5PXtlbnVtZXJhdGU6ZCx2ZXJzaW9uOiIwLjEifX0pLmNhbGwodGhpcyksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2lmKCJ1bmRlZmluZWQiPT10eXBlb2Ygc2lnbWEpdGhyb3cic2lnbWEgaXMgbm90IGRlY2xhcmVkIjtpZigidW5kZWZpbmVkIj09dHlwZW9mIFNoYXBlTGlicmFyeSl0aHJvdyJTaGFwZUxpYnJhcnkgaXMgbm90IGRlY2xhcmVkIjtzaWdtYS51dGlscy5wa2coInNpZ21hLmNhbnZhcy5ub2RlcyIpLHNpZ21hLnV0aWxzLnBrZygic2lnbWEuc3ZnLm5vZGVzIik7dmFyIGI9YSxjPXt9LGQ9ZnVuY3Rpb24oYSl7Yj1hfSxlPWZ1bmN0aW9uKGEsZCxlLGYsZyl7aWYoYiYmYS5pbWFnZSYmYS5pbWFnZS51cmwpe3ZhciBoPWEuaW1hZ2UudXJsLGk9YS5pbWFnZS5ofHwxLGo9YS5pbWFnZS53fHwxLGs9YS5pbWFnZS5zY2FsZXx8MSxsPWEuaW1hZ2UuY2xpcHx8MSxtPWNbaF07bXx8KG09ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiSU1HIiksbS5zcmM9aCxtLnN0YXR1cz0ibG9hZGluZyIsbS5vbmVycm9yPWZ1bmN0aW9uKCl7Y29uc29sZS5sb2coImVycm9yIGxvYWRpbmciLGgpLG0uc3RhdHVzPSJlcnJvciJ9LG0ub25sb2FkPWZ1bmN0aW9uKCl7Y29uc29sZS5sb2coInJlZHJhdyBvbiBpbWFnZSBsb2FkIixoKSxtLnN0YXR1cz0ib2siLGIucmVmcmVzaCgpfSxjW2hdPW0pO3ZhciBuPWo8aT9qL2k6MSxvPWk8aj9pL2o6MSxwPWYqaztnLnNhdmUoKSxnLmJlZ2luUGF0aCgpLGcuYXJjKGQsZSxmKmwsMCwyKk1hdGguUEksITApLGcuY2xvc2VQYXRoKCksZy5jbGlwKCksIm9rIj09PW0uc3RhdHVzJiZnLmRyYXdJbWFnZShtLGQrTWF0aC5zaW4oLS43ODU1KSpwKm4sZS1NYXRoLmNvcygtLjc4NTUpKnAqbyxwKm4qMipNYXRoLnNpbigtLjc4NTUpKi0xLHAqbyoyKk1hdGguY29zKC0uNzg1NSkpLGcucmVzdG9yZSgpfX0sZj1mdW5jdGlvbihhLGMsZCl7aWYoYiYmYS5pbWFnZSYmYS5pbWFnZS51cmwpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhkKCJ4bWxucyIpLCJjaXJjbGUiKSxmPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhkKCJ4bWxucyIpLCJjbGlwUGF0aCIpLGc9ZCgiY2xhc3NQcmVmaXgiKSsiLWNsaXAtcGF0aC0iK2EuaWQsaD1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoZCgieG1sbnMiKSwiZGVmcyIpLGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKGQoInhtbG5zIiksImltYWdlIik7YS5pbWFnZS51cmw7Zi5zZXRBdHRyaWJ1dGVOUyhudWxsLCJpZCIsZyksZi5hcHBlbmRDaGlsZChlKSxoLmFwcGVuZENoaWxkKGYpO3ZhciBqPS9NU0lFIFs1LTldLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpPyIiOmRvY3VtZW50LmxvY2F0aW9uLmhyZWY7aj1qLnNwbGl0KCIjIilbMF0saS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJjbGFzcyIsZCgiY2xhc3NQcmVmaXgiKSsiLW5vZGUtaW1hZ2UiKSxpLnNldEF0dHJpYnV0ZU5TKG51bGwsImNsaXAtcGF0aCIsInVybCgiK2orIiMiK2crIikiKSxpLnNldEF0dHJpYnV0ZU5TKG51bGwsInBvaW50ZXItZXZlbnRzIiwibm9uZSIpLGkuc2V0QXR0cmlidXRlTlMoImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiLCJocmVmIixhLmltYWdlLnVybCksYy5hcHBlbmRDaGlsZChoKSxjLmFwcGVuZENoaWxkKGkpfX0sZz1mdW5jdGlvbihhLGIsYyl7c2lnbWEuY2FudmFzLm5vZGVzW2FdPWZ1bmN0aW9uKGEsZCxmKXt2YXIgZz1mKCJwcmVmaXgiKXx8IiIsaD1hW2crInNpemUiXSxpPWEuY29sb3J8fGYoImRlZmF1bHROb2RlQ29sb3IiKSxqPWEuYm9yZGVyQ29sb3J8fGksaz1hW2crIngiXSxsPWFbZysieSJdO2Quc2F2ZSgpLGImJmIoYSxrLGwsaCxpLGQpLGMmJmMoYSxrLGwsaCxqLGQpLGUoYSxrLGwsaCxkKSxkLnJlc3RvcmUoKX0sc2lnbWEuc3ZnLm5vZGVzW2FdPXtjcmVhdGU6ZnVuY3Rpb24oYSxiKXt2YXIgYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoYigieG1sbnMiKSwiZyIpLGQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKGIoInhtbG5zIiksImNpcmNsZSIpO3JldHVybiBjLnNldEF0dHJpYnV0ZU5TKG51bGwsImNsYXNzIixiKCJjbGFzc1ByZWZpeCIpKyItbm9kZS1ncm91cCIpLGMuc2V0QXR0cmlidXRlTlMobnVsbCwiZGF0YS1ub2RlLWlkIixhLmlkKSxkLnNldEF0dHJpYnV0ZU5TKG51bGwsImRhdGEtbm9kZS1pZCIsYS5pZCksZC5zZXRBdHRyaWJ1dGVOUyhudWxsLCJjbGFzcyIsYigiY2xhc3NQcmVmaXgiKSsiLW5vZGUiKSxkLnNldEF0dHJpYnV0ZU5TKG51bGwsImZpbGwiLGEuY29sb3J8fGIoImRlZmF1bHROb2RlQ29sb3IiKSksYy5hcHBlbmRDaGlsZChkKSxmKGEsYyxiKSxjfSx1cGRhdGU6ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD1jKCJjbGFzc1ByZWZpeCIpLGU9YS5pbWFnZS5jbGlwfHwxLGY9YS5pbWFnZS5ofHwxLGc9YS5pbWFnZS53fHwxLGg9YygicHJlZml4Iil8fCIiLGk9YS5pbWFnZS5zY2FsZXx8MSxqPWFbaCsic2l6ZSJdLGs9YVtoKyJ4Il0sbD1hW2grInkiXSxtPWkqaixuPWc8Zj9nL2Y6MSxvPWY8Zz9mL2c6MSxwPTAscT1iLmNoaWxkTm9kZXM7cDxxLmxlbmd0aDtwKyspe3N3aXRjaChxW3BdLmdldEF0dHJpYnV0ZSgiY2xhc3MiKSl7Y2FzZSBkKyItbm9kZSI6cVtwXS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJjeCIsaykscVtwXS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJjeSIsbCkscVtwXS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJyIixqKSxjKCJmcmVlU3R5bGUiKXx8cVtwXS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJmaWxsIixhLmNvbG9yfHxjKCJkZWZhdWx0Tm9kZUNvbG9yIikpO2JyZWFrO2Nhc2UgZCsiLW5vZGUtaW1hZ2UiOnFbcF0uc2V0QXR0cmlidXRlTlMobnVsbCwieCIsaytNYXRoLnNpbigtLjc4NTUpKm0qbikscVtwXS5zZXRBdHRyaWJ1dGVOUyhudWxsLCJ5IixsLU1hdGguY29zKC0uNzg1NSkqbSpvKSxxW3BdLnNldEF0dHJpYnV0ZU5TKG51bGwsIndpZHRoIixtKm4qMipNYXRoLnNpbigtLjc4NTUpKi0xKSxxW3BdLnNldEF0dHJpYnV0ZU5TKG51bGwsImhlaWdodCIsbSpvKjIqTWF0aC5jb3MoLS43ODU1KSk7YnJlYWs7ZGVmYXVsdDp2YXIgcj1xW3BdLmZpcnN0Q2hpbGQ7aWYobnVsbCE9cil7dmFyIHM9ZCsiLWNsaXAtcGF0aC0iK2EuaWQ7ci5nZXRBdHRyaWJ1dGUoImlkIik9PT1zJiYoci5maXJzdENoaWxkLnNldEF0dHJpYnV0ZU5TKG51bGwsImN4IixrKSxyLmZpcnN0Q2hpbGQuc2V0QXR0cmlidXRlTlMobnVsbCwiY3kiLGwpLHIuZmlyc3RDaGlsZC5zZXRBdHRyaWJ1dGVOUyhudWxsLCJyIixlKmopKX19fWIuc3R5bGUuZGlzcGxheT0iIn19fTtTaGFwZUxpYnJhcnkuZW51bWVyYXRlKCkuZm9yRWFjaChmdW5jdGlvbihhKXtnKGEubmFtZSxhLmRyYXdTaGFwZSxhLmRyYXdCb3JkZXIpfSksdGhpcy5DdXN0b21TaGFwZXM9e2luaXQ6ZCx2ZXJzaW9uOiIwLjEifX0uY2FsbCh0aGlzKTs="></script>
<script src="data:application/x-javascript;base64,KGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGEoYSxiKXtmdW5jdGlvbiBjKGEpe3ZhciBiPXdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGEpLGM9ZnVuY3Rpb24oYSl7cmV0dXJuIHBhcnNlSW50KGIuZ2V0UHJvcGVydHlWYWx1ZShhKS5yZXBsYWNlKCJweCIsIiIpKXx8MH07cmV0dXJue2xlZnQ6YS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0K2MoInBhZGRpbmctbGVmdCIpLHRvcDphLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCtjKCJwYWRkaW5nLXRvcCIpfX1mdW5jdGlvbiBkKGEpe3Q9ITEsbC5yZW1vdmVFdmVudExpc3RlbmVyKCJtb3VzZW1vdmUiLGkpLGwucmVtb3ZlRXZlbnRMaXN0ZW5lcigibW91c2V1cCIsaCksci5sZW5ndGh8fChwPW51bGwpfWZ1bmN0aW9uIGUoYSl7c1thLmRhdGEubm9kZS5pZF18fChyLnB1c2goYS5kYXRhLm5vZGUpLHNbYS5kYXRhLm5vZGUuaWRdPSEwLHIubGVuZ3RoJiYhdCYmKHA9cltyLmxlbmd0aC0xXSxuLmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlZG93biIsZykpKX1mdW5jdGlvbiBmKGEpe3ZhciBiPXIubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhfSkuaW5kZXhPZihhLmRhdGEubm9kZSk7ci5zcGxpY2UoYiwxKSxkZWxldGUgc1thLmRhdGEubm9kZS5pZF0sci5sZW5ndGgmJiF0P3A9cltyLmxlbmd0aC0xXTpuLnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1vdXNlZG93biIsZyl9ZnVuY3Rpb24gZyhhKXt0PSEwO3ZhciBiPWsuZ3JhcGgubm9kZXMoKS5sZW5ndGg7aWYocCYmYj4xKXtuLnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1vdXNlZG93biIsZyksbC5hZGRFdmVudExpc3RlbmVyKCJtb3VzZW1vdmUiLGkpLGwuYWRkRXZlbnRMaXN0ZW5lcigibW91c2V1cCIsaCk7dmFyIGMsZDtmb3IoYyBpbiBrLmNhbWVyYXMpZD1rLmNhbWVyYXNbY10sdm9pZCAwIT09ZC5lZGdlcXVhZHRyZWUmJihkLmVkZ2VxdWFkdHJlZS5fZW5hYmxlZD0hMSk7bS5zZXR0aW5ncyh7bW91c2VFbmFibGVkOiExLGVuYWJsZUhvdmVyaW5nOiExfSksay5yZWZyZXNoKCksai5kaXNwYXRjaEV2ZW50KCJzdGFydGRyYWciLHtub2RlOnAsY2FwdG9yOmEscmVuZGVyZXI6bX0pfX1mdW5jdGlvbiBoKGEpe3Q9ITEsbi5hZGRFdmVudExpc3RlbmVyKCJtb3VzZWRvd24iLGcpLGwucmVtb3ZlRXZlbnRMaXN0ZW5lcigibW91c2Vtb3ZlIixpKSxsLnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1vdXNldXAiLGgpO3ZhciBiLGM7Zm9yKGIgaW4gay5jYW1lcmFzKWM9ay5jYW1lcmFzW2JdLHZvaWQgMCE9PWMuZWRnZXF1YWR0cmVlJiYoYy5lZGdlcXVhZHRyZWUuX2VuYWJsZWQ9ITApO20uc2V0dGluZ3Moe21vdXNlRW5hYmxlZDohMCxlbmFibGVIb3ZlcmluZzohMH0pLGsucmVmcmVzaCgpLHUmJmouZGlzcGF0Y2hFdmVudCgiZHJvcCIse25vZGU6cCxjYXB0b3I6YSxyZW5kZXJlcjptfSksai5kaXNwYXRjaEV2ZW50KCJkcmFnZW5kIix7bm9kZTpwLGNhcHRvcjphLHJlbmRlcmVyOm19KSx1PSExLHA9bnVsbH1mdW5jdGlvbiBpKGEpe2Z1bmN0aW9uIGIoKXtmb3IodmFyIGI9YyhtLmNvbnRhaW5lciksZD1hLmNsaWVudFgtYi5sZWZ0LGU9YS5jbGllbnRZLWIudG9wLGY9TWF0aC5jb3Moby5hbmdsZSksZz1NYXRoLnNpbihvLmFuZ2xlKSxoPWsuZ3JhcGgubm9kZXMoKSxpPVtdLGw9MDtsPDI7bCsrKXt2YXIgbj1oW2xdLHI9e3g6bi54KmYrbi55KmcseTpuLnkqZi1uLngqZyxyZW5YOm5bcSsieCJdLHJlblk6bltxKyJ5Il19O2kucHVzaChyKX1pZihpWzBdLng9PT1pWzFdLngmJmlbMF0ueT09PWlbMV0ueSl7dmFyIHM9MD09PWlbMF0ucmVuWD8xOmlbMF0ucmVuWCx0PTA9PT1pWzBdLnJlblk/MTppWzBdLnJlblk7ZD1pWzBdLngvcyooZC1pWzBdLnJlblgpK2lbMF0ueCxlPWlbMF0ueS90KihlLWlbMF0ucmVuWSkraVswXS55fWVsc2V7dmFyIHM9KGlbMV0ucmVuWC1pWzBdLnJlblgpLyhpWzFdLngtaVswXS54KSx0PShpWzFdLnJlblktaVswXS5yZW5ZKS8oaVsxXS55LWlbMF0ueSk7aVsxXS54PT09aVswXS54JiYocz10KSxpWzFdLnk9PT1pWzBdLnkmJih0PXMpLGQ9KGQtaVswXS5yZW5YKS9zK2lbMF0ueCxlPShlLWlbMF0ucmVuWSkvdCtpWzBdLnl9cC54PWQqZi1lKmcscC55PWUqZitkKmcsay5yZWZyZXNoKCksdT0hMCxqLmRpc3BhdGNoRXZlbnQoImRyYWciLHtub2RlOnAsY2FwdG9yOmEscmVuZGVyZXI6bX0pfWlmKG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5pbmRleE9mKCJmaXJlZm94Iik+LTEpe2NsZWFyVGltZW91dChkKTt2YXIgZD1zZXRUaW1lb3V0KGIsMCl9ZWxzZSBiKCl9c2lnbWEuY2xhc3Nlcy5kaXNwYXRjaGVyLmV4dGVuZCh0aGlzKTt2YXIgaj10aGlzLGs9YSxsPWRvY3VtZW50LmJvZHksbT1iLG49Yi5jb250YWluZXIubGFzdENoaWxkLG89Yi5jYW1lcmEscD1udWxsLHE9IiIscj1bXSxzPXt9LHQ9ITEsdT0hMTtiIGluc3RhbmNlb2Ygc2lnbWEucmVuZGVyZXJzLnN2ZyYmKG49Yi5jb250YWluZXIuZmlyc3RDaGlsZCkscT1iIGluc3RhbmNlb2Ygc2lnbWEucmVuZGVyZXJzLndlYmdsP2Iub3B0aW9ucy5wcmVmaXguc3Vic3RyKDUpOmIub3B0aW9ucy5wcmVmaXgsYi5iaW5kKCJvdmVyTm9kZSIsZSksYi5iaW5kKCJvdXROb2RlIixmKSxiLmJpbmQoImNsaWNrIixkKSxrLmJpbmQoImtpbGwiLGZ1bmN0aW9uKCl7ai51bmJpbmRBbGwoKX0pLHRoaXMudW5iaW5kQWxsPWZ1bmN0aW9uKCl7bi5yZW1vdmVFdmVudExpc3RlbmVyKCJtb3VzZWRvd24iLGcpLGwucmVtb3ZlRXZlbnRMaXN0ZW5lcigibW91c2Vtb3ZlIixpKSxsLnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1vdXNldXAiLGgpLG0udW5iaW5kKCJvdmVyTm9kZSIsZSksbS51bmJpbmQoIm91dE5vZGUiLGYpfX1pZigidW5kZWZpbmVkIj09dHlwZW9mIHNpZ21hKXRocm93InNpZ21hIGlzIG5vdCBkZWNsYXJlZCI7c2lnbWEudXRpbHMucGtnKCJzaWdtYS5wbHVnaW5zIik7dmFyIGI9e307c2lnbWEucGx1Z2lucy5kcmFnTm9kZXM9ZnVuY3Rpb24oYyxkKXtyZXR1cm4gYltjLmlkXXx8KGJbYy5pZF09bmV3IGEoYyxkKSksYy5iaW5kKCJraWxsIixmdW5jdGlvbigpe3NpZ21hLnBsdWdpbnMua2lsbERyYWdOb2RlcyhjKX0pLGJbYy5pZF19LHNpZ21hLnBsdWdpbnMua2lsbERyYWdOb2Rlcz1mdW5jdGlvbihjKXtiW2MuaWRdaW5zdGFuY2VvZiBhJiYoYltjLmlkXS51bmJpbmRBbGwoKSxkZWxldGUgYltjLmlkXSl9fSkuY2FsbCh3aW5kb3cpOw=="></script>
<script src="data:application/x-javascript;base64,IWZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3NpZ21hLnV0aWxzLnBrZygic2lnbWEuY2FudmFzLmVkZ2Vob3ZlcnMiKSxzaWdtYS5jYW52YXMuZWRnZWhvdmVycy5kYXNoZWQ9ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj1hLmFjdGl2ZT9hLmFjdGl2ZV9jb2xvcnx8ZSgiZGVmYXVsdEVkZ2VBY3RpdmVDb2xvciIpOmEuY29sb3IsZz1lKCJwcmVmaXgiKXx8IiIsaD1hW2crInNpemUiXXx8MSxpPWUoImVkZ2VDb2xvciIpLGo9ZSgiZGVmYXVsdE5vZGVDb2xvciIpLGs9ZSgiZGVmYXVsdEVkZ2VDb2xvciIpO2lmKCFmKXN3aXRjaChpKXtjYXNlInNvdXJjZSI6Zj1iLmNvbG9yfHxqO2JyZWFrO2Nhc2UidGFyZ2V0IjpmPWMuY29sb3J8fGo7YnJlYWs7ZGVmYXVsdDpmPWt9Zj0iZWRnZSI9PT1lKCJlZGdlSG92ZXJDb2xvciIpP2EuaG92ZXJfY29sb3J8fGY6YS5ob3Zlcl9jb2xvcnx8ZSgiZGVmYXVsdEVkZ2VIb3ZlckNvbG9yIil8fGYsaCo9ZSgiZWRnZUhvdmVyU2l6ZVJhdGlvIiksZC5zYXZlKCksZC5zZXRMaW5lRGFzaChbOCwzXSksZC5zdHJva2VTdHlsZT1mLGQubGluZVdpZHRoPWgsZC5iZWdpblBhdGgoKSxkLm1vdmVUbyhiW2crIngiXSxiW2crInkiXSksZC5saW5lVG8oY1tnKyJ4Il0sY1tnKyJ5Il0pLGQuc3Ryb2tlKCksZC5yZXN0b3JlKCl9fSgpLGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3NpZ21hLnV0aWxzLnBrZygic2lnbWEuY2FudmFzLmVkZ2Vob3ZlcnMiKSxzaWdtYS5jYW52YXMuZWRnZWhvdmVycy5kb3R0ZWQ9ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj1hLmFjdGl2ZT9hLmFjdGl2ZV9jb2xvcnx8ZSgiZGVmYXVsdEVkZ2VBY3RpdmVDb2xvciIpOmEuY29sb3IsZz1lKCJwcmVmaXgiKXx8IiIsaD1hW2crInNpemUiXXx8MSxpPWUoImVkZ2VDb2xvciIpLGo9ZSgiZGVmYXVsdE5vZGVDb2xvciIpLGs9ZSgiZGVmYXVsdEVkZ2VDb2xvciIpO2lmKCFmKXN3aXRjaChpKXtjYXNlInNvdXJjZSI6Zj1iLmNvbG9yfHxqO2JyZWFrO2Nhc2UidGFyZ2V0IjpmPWMuY29sb3J8fGo7YnJlYWs7ZGVmYXVsdDpmPWt9Zj0iZWRnZSI9PT1lKCJlZGdlSG92ZXJDb2xvciIpP2EuaG92ZXJfY29sb3J8fGY6YS5ob3Zlcl9jb2xvcnx8ZSgiZGVmYXVsdEVkZ2VIb3ZlckNvbG9yIil8fGYsaCo9ZSgiZWRnZUhvdmVyU2l6ZVJhdGlvIiksZC5zYXZlKCksZC5zZXRMaW5lRGFzaChbMl0pLGQuc3Ryb2tlU3R5bGU9ZixkLmxpbmVXaWR0aD1oLGQuYmVnaW5QYXRoKCksZC5tb3ZlVG8oYltnKyJ4Il0sYltnKyJ5Il0pLGQubGluZVRvKGNbZysieCJdLGNbZysieSJdKSxkLnN0cm9rZSgpLGQucmVzdG9yZSgpfX0oKSxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0IjtzaWdtYS51dGlscy5wa2coInNpZ21hLmNhbnZhcy5lZGdlaG92ZXJzIiksc2lnbWEuY2FudmFzLmVkZ2Vob3ZlcnMucGFyYWxsZWw9ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZixnLGg9YS5hY3RpdmU/YS5hY3RpdmVfY29sb3J8fGUoImRlZmF1bHRFZGdlQWN0aXZlQ29sb3IiKTphLmNvbG9yLGk9ZSgicHJlZml4Iil8fCIiLGo9YVtpKyJzaXplIl18fDEsaz1lKCJlZGdlQ29sb3IiKSxsPWUoImRlZmF1bHROb2RlQ29sb3IiKSxtPWUoImRlZmF1bHRFZGdlQ29sb3IiKSxuPWJbaSsieCJdLG89YltpKyJ5Il0scD1jW2krIngiXSxxPWNbaSsieSJdLHI9c2lnbWEudXRpbHMuZ2V0RGlzdGFuY2UobixvLHAscSk7aWYoIWgpc3dpdGNoKGspe2Nhc2Uic291cmNlIjpoPWIuY29sb3J8fGw7YnJlYWs7Y2FzZSJ0YXJnZXQiOmg9Yy5jb2xvcnx8bDticmVhaztkZWZhdWx0Omg9bX1oPSJlZGdlIj09PWUoImVkZ2VIb3ZlckNvbG9yIik/YS5ob3Zlcl9jb2xvcnx8aDphLmhvdmVyX2NvbG9yfHxlKCJkZWZhdWx0RWRnZUhvdmVyQ29sb3IiKXx8aCxqKj1lKCJlZGdlSG92ZXJTaXplUmF0aW8iKSxmPXNpZ21hLnV0aWxzLmdldENpcmNsZUludGVyc2VjdGlvbihuLG8saixwLHEsciksZz1zaWdtYS51dGlscy5nZXRDaXJjbGVJbnRlcnNlY3Rpb24ocCxxLGosbixvLHIpLGQuc2F2ZSgpLGQuc3Ryb2tlU3R5bGU9aCxkLmxpbmVXaWR0aD1qLGQuYmVnaW5QYXRoKCksZC5tb3ZlVG8oZi54aSxmLnlpKSxkLmxpbmVUbyhnLnhpX3ByaW1lLGcueWlfcHJpbWUpLGQuY2xvc2VQYXRoKCksZC5zdHJva2UoKSxkLmJlZ2luUGF0aCgpLGQubW92ZVRvKGYueGlfcHJpbWUsZi55aV9wcmltZSksZC5saW5lVG8oZy54aSxnLnlpKSxkLmNsb3NlUGF0aCgpLGQuc3Ryb2tlKCksZC5yZXN0b3JlKCl9fSgpLGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3NpZ21hLnV0aWxzLnBrZygic2lnbWEuY2FudmFzLmVkZ2Vob3ZlcnMiKSxzaWdtYS5jYW52YXMuZWRnZWhvdmVycy50YXBlcmVkPWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9YS5hY3RpdmU/YS5hY3RpdmVfY29sb3J8fGUoImRlZmF1bHRFZGdlQWN0aXZlQ29sb3IiKTphLmNvbG9yLGc9ZSgicHJlZml4Iil8fCIiLGg9YVtnKyJzaXplIl18fDEsaT1lKCJlZGdlQ29sb3IiKSxnPWUoInByZWZpeCIpfHwiIixqPWUoImRlZmF1bHROb2RlQ29sb3IiKSxrPWUoImRlZmF1bHRFZGdlQ29sb3IiKSxsPWJbZysieCJdLG09YltnKyJ5Il0sbj1jW2crIngiXSxvPWNbZysieSJdLHA9c2lnbWEudXRpbHMuZ2V0RGlzdGFuY2UobCxtLG4sbyk7aWYoIWYpc3dpdGNoKGkpe2Nhc2Uic291cmNlIjpmPWIuY29sb3J8fGo7YnJlYWs7Y2FzZSJ0YXJnZXQiOmY9Yy5jb2xvcnx8ajticmVhaztkZWZhdWx0OmY9a31mPSJlZGdlIj09PWUoImVkZ2VIb3ZlckNvbG9yIik/YS5ob3Zlcl9jb2xvcnx8ZjphLmhvdmVyX2NvbG9yfHxlKCJkZWZhdWx0RWRnZUhvdmVyQ29sb3IiKXx8ZixoKj1lKCJlZGdlSG92ZXJTaXplUmF0aW8iKTt2YXIgcT1zaWdtYS51dGlscy5nZXRDaXJjbGVJbnRlcnNlY3Rpb24obCxtLGgsbixvLHApO2Quc2F2ZSgpLGQuZ2xvYmFsQWxwaGE9LjY1LGQuZmlsbFN0eWxlPWYsZC5iZWdpblBhdGgoKSxkLm1vdmVUbyhuLG8pLGQubGluZVRvKHEueGkscS55aSksZC5saW5lVG8ocS54aV9wcmltZSxxLnlpX3ByaW1lKSxkLmNsb3NlUGF0aCgpLGQuZmlsbCgpLGQucmVzdG9yZSgpfX0oKSxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0IjtzaWdtYS51dGlscy5wa2coInNpZ21hLmNhbnZhcy5lZGdlcyIpLHNpZ21hLmNhbnZhcy5lZGdlcy5kYXNoZWQ9ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj1hLmFjdGl2ZT9hLmFjdGl2ZV9jb2xvcnx8ZSgiZGVmYXVsdEVkZ2VBY3RpdmVDb2xvciIpOmEuY29sb3IsZz1lKCJwcmVmaXgiKXx8IiIsaD1hW2crInNpemUiXXx8MSxpPWUoImVkZ2VDb2xvciIpLGo9ZSgiZGVmYXVsdE5vZGVDb2xvciIpLGs9ZSgiZGVmYXVsdEVkZ2VDb2xvciIpO2lmKCFmKXN3aXRjaChpKXtjYXNlInNvdXJjZSI6Zj1iLmNvbG9yfHxqO2JyZWFrO2Nhc2UidGFyZ2V0IjpmPWMuY29sb3J8fGo7YnJlYWs7ZGVmYXVsdDpmPWt9ZC5zYXZlKCksYS5hY3RpdmU/ZC5zdHJva2VTdHlsZT0iZWRnZSI9PT1lKCJlZGdlQWN0aXZlQ29sb3IiKT9mfHxrOmUoImRlZmF1bHRFZGdlQWN0aXZlQ29sb3IiKTpkLnN0cm9rZVN0eWxlPWYsZC5zZXRMaW5lRGFzaChbOCwzXSksZC5saW5lV2lkdGg9aCxkLmJlZ2luUGF0aCgpLGQubW92ZVRvKGJbZysieCJdLGJbZysieSJdKSxkLmxpbmVUbyhjW2crIngiXSxjW2crInkiXSksZC5zdHJva2UoKSxkLnJlc3RvcmUoKX19KCksZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7c2lnbWEudXRpbHMucGtnKCJzaWdtYS5jYW52YXMuZWRnZXMiKSxzaWdtYS5jYW52YXMuZWRnZXMuZG90dGVkPWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9YS5hY3RpdmU/YS5hY3RpdmVfY29sb3J8fGUoImRlZmF1bHRFZGdlQWN0aXZlQ29sb3IiKTphLmNvbG9yLGc9ZSgicHJlZml4Iil8fCIiLGg9YVtnKyJzaXplIl18fDEsaT1lKCJlZGdlQ29sb3IiKSxqPWUoImRlZmF1bHROb2RlQ29sb3IiKSxrPWUoImRlZmF1bHRFZGdlQ29sb3IiKTtpZighZilzd2l0Y2goaSl7Y2FzZSJzb3VyY2UiOmY9Yi5jb2xvcnx8ajticmVhaztjYXNlInRhcmdldCI6Zj1jLmNvbG9yfHxqO2JyZWFrO2RlZmF1bHQ6Zj1rfWQuc2F2ZSgpLGEuYWN0aXZlP2Quc3Ryb2tlU3R5bGU9ImVkZ2UiPT09ZSgiZWRnZUFjdGl2ZUNvbG9yIik/Znx8azplKCJkZWZhdWx0RWRnZUFjdGl2ZUNvbG9yIik6ZC5zdHJva2VTdHlsZT1mLGQuc2V0TGluZURhc2goWzJdKSxkLmxpbmVXaWR0aD1oLGQuYmVnaW5QYXRoKCksZC5tb3ZlVG8oYltnKyJ4Il0sYltnKyJ5Il0pLGQubGluZVRvKGNbZysieCJdLGNbZysieSJdKSxkLnN0cm9rZSgpLGQucmVzdG9yZSgpfX0oKSxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0IjtzaWdtYS51dGlscy5wa2coInNpZ21hLmNhbnZhcy5lZGdlcyIpLHNpZ21hLmNhbnZhcy5lZGdlcy5wYXJhbGxlbD1mdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmLGcsaD1hLmFjdGl2ZT9hLmFjdGl2ZV9jb2xvcnx8ZSgiZGVmYXVsdEVkZ2VBY3RpdmVDb2xvciIpOmEuY29sb3IsaT1lKCJwcmVmaXgiKXx8IiIsaj1hW2krInNpemUiXXx8MSxrPWUoImVkZ2VDb2xvciIpLGw9ZSgiZGVmYXVsdE5vZGVDb2xvciIpLG09ZSgiZGVmYXVsdEVkZ2VDb2xvciIpLG49YltpKyJ4Il0sbz1iW2krInkiXSxwPWNbaSsieCJdLHE9Y1tpKyJ5Il0scj1zaWdtYS51dGlscy5nZXREaXN0YW5jZShuLG8scCxxKTtpZighaClzd2l0Y2goayl7Y2FzZSJzb3VyY2UiOmg9Yi5jb2xvcnx8bDticmVhaztjYXNlInRhcmdldCI6aD1jLmNvbG9yfHxsO2JyZWFrO2RlZmF1bHQ6aD1tfWY9c2lnbWEudXRpbHMuZ2V0Q2lyY2xlSW50ZXJzZWN0aW9uKG4sbyxqLHAscSxyKSxnPXNpZ21hLnV0aWxzLmdldENpcmNsZUludGVyc2VjdGlvbihwLHEsaixuLG8sciksZC5zYXZlKCksYS5hY3RpdmU/ZC5zdHJva2VTdHlsZT0iZWRnZSI9PT1lKCJlZGdlQWN0aXZlQ29sb3IiKT9ofHxtOmUoImRlZmF1bHRFZGdlQWN0aXZlQ29sb3IiKTpkLnN0cm9rZVN0eWxlPWgsZC5saW5lV2lkdGg9aixkLmJlZ2luUGF0aCgpLGQubW92ZVRvKGYueGksZi55aSksZC5saW5lVG8oZy54aV9wcmltZSxnLnlpX3ByaW1lKSxkLmNsb3NlUGF0aCgpLGQuc3Ryb2tlKCksZC5iZWdpblBhdGgoKSxkLm1vdmVUbyhmLnhpX3ByaW1lLGYueWlfcHJpbWUpLGQubGluZVRvKGcueGksZy55aSksZC5jbG9zZVBhdGgoKSxkLnN0cm9rZSgpLGQucmVzdG9yZSgpfX0oKSxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0IjtzaWdtYS51dGlscy5wa2coInNpZ21hLmNhbnZhcy5lZGdlcyIpLHNpZ21hLmNhbnZhcy5lZGdlcy50YXBlcmVkPWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9YS5hY3RpdmU/YS5hY3RpdmVfY29sb3J8fGUoImRlZmF1bHRFZGdlQWN0aXZlQ29sb3IiKTphLmNvbG9yLGc9ZSgicHJlZml4Iil8fCIiLGg9YVtnKyJzaXplIl18fDEsaT1lKCJlZGdlQ29sb3IiKSxnPWUoInByZWZpeCIpfHwiIixqPWUoImRlZmF1bHROb2RlQ29sb3IiKSxrPWUoImRlZmF1bHRFZGdlQ29sb3IiKSxsPWJbZysieCJdLG09YltnKyJ5Il0sbj1jW2crIngiXSxvPWNbZysieSJdLHA9c2lnbWEudXRpbHMuZ2V0RGlzdGFuY2UobCxtLG4sbyk7aWYoIWYpc3dpdGNoKGkpe2Nhc2Uic291cmNlIjpmPWIuY29sb3J8fGo7YnJlYWs7Y2FzZSJ0YXJnZXQiOmY9Yy5jb2xvcnx8ajticmVhaztkZWZhdWx0OmY9a312YXIgcT1zaWdtYS51dGlscy5nZXRDaXJjbGVJbnRlcnNlY3Rpb24obCxtLGgsbixvLHApO2Quc2F2ZSgpLGEuYWN0aXZlP2QuZmlsbFN0eWxlPSJlZGdlIj09PWUoImVkZ2VBY3RpdmVDb2xvciIpP2Z8fGs6ZSgiZGVmYXVsdEVkZ2VBY3RpdmVDb2xvciIpOmQuZmlsbFN0eWxlPWYsZC5nbG9iYWxBbHBoYT0uNjUsZC5iZWdpblBhdGgoKSxkLm1vdmVUbyhuLG8pLGQubGluZVRvKHEueGkscS55aSksZC5saW5lVG8ocS54aV9wcmltZSxxLnlpX3ByaW1lKSxkLmNsb3NlUGF0aCgpLGQuZmlsbCgpLGQucmVzdG9yZSgpfX0oKTs="></script>
<script src="data:application/x-javascript;base64,KGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2lmKCJ1bmRlZmluZWQiPT10eXBlb2Ygc2lnbWEpdGhyb3cic2lnbWEgaXMgbm90IGRlY2xhcmVkIjtzaWdtYS51dGlscy5wa2coInNpZ21hLnBsdWdpbnMiKTtzaWdtYS5wbHVnaW5zLnJlbGF0aXZlU2l6ZT1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1hLmdyYXBoLm5vZGVzKCksZD0wO2Q8Yy5sZW5ndGg7ZCsrKXt2YXIgZT1hLmdyYXBoLmRlZ3JlZShjW2RdLmlkKTtjW2RdLnNpemU9YipNYXRoLnNxcnQoZSl9YS5yZWZyZXNoKCl9fSkuY2FsbCh3aW5kb3cpOw=="></script>
<script src="data:application/x-javascript;base64,IWZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGEoYSxiLGMsZCxmLGcsaCxpLGope2EuYmVnaW5QYXRoKCksYS5maWxsU3R5bGU9ajt2YXIgaz1lKGIsYyxkLngsZC55LGYsZyxoKTthLmFyYyhrLngsay55LDMqaSwwLDIqTWF0aC5QSSwhMSksYS5maWxsKCl9ZnVuY3Rpb24gYihhLGIsYyxkKXt2YXIgZT0xLWE7cmV0dXJuIGUqZSpiKzIqZSphKmMrYSphKmR9ZnVuY3Rpb24gYyhhLGMsZCxlLGYsZyxoKXtyZXR1cm57eDpiKGgsYSxkLGYpLHk6YihoLGMsZSxnKX19ZnVuY3Rpb24gZChhLGIsYyxkKXtyZXR1cm4gTWF0aC5zcXJ0KChjLWEpKihjLWEpKyhkLWIpKihkLWIpKX1mdW5jdGlvbiBlKGEsYixlLGYsZyxoLGkpe2Zvcih2YXIgaj0wLGs9MWUzLGw9LjAwMSxtPTA7bTwxO20rPWwpe3ZhciBuPWMoYSxiLGUsZixnLGgsbSksbz1kKGEsYixuLngsbi55KTtNYXRoLmFicyhvLWkpPGsmJihrPU1hdGguYWJzKG8taSksaj1tKX1yZXR1cm4gYyhhLGIsZSxmLGcsaCxqKX1zaWdtYS51dGlscy5wa2coInNpZ21hLmNhbnZhcy5lZGdlcyIpLHNpZ21hLmNhbnZhcy5lZGdlcy5kb3RDdXJ2ZT1mdW5jdGlvbihiLGMsZCxlLGYpe3ZhciBnPWIuY29sb3IsaD1mKCJwcmVmaXgiKXx8IiIsaT1iW2grInNpemUiXXx8MSxqPWYoImVkZ2VDb2xvciIpLGs9ZigiZGVmYXVsdE5vZGVDb2xvciIpLGw9ZigiZGVmYXVsdEVkZ2VDb2xvciIpLG09e30sbj1jW2grInNpemUiXSxvPWNbaCsieCJdLHA9Y1toKyJ5Il0scT1kW2grIngiXSxyPWRbaCsieSJdO2lmKG09Yy5pZD09PWQuaWQ/c2lnbWEudXRpbHMuZ2V0U2VsZkxvb3BDb250cm9sUG9pbnRzKG8scCxuKTpzaWdtYS51dGlscy5nZXRRdWFkcmF0aWNDb250cm9sUG9pbnQobyxwLHEsciksIWcpc3dpdGNoKGope2Nhc2Uic291cmNlIjpnPWMuY29sb3J8fGs7YnJlYWs7Y2FzZSJ0YXJnZXQiOmc9ZC5jb2xvcnx8azticmVhaztkZWZhdWx0Omc9bH1pZihlLnN0cm9rZVN0eWxlPWcsZS5saW5lV2lkdGg9aSxlLmJlZ2luUGF0aCgpLGUubW92ZVRvKG8scCksYy5pZD09PWQuaWQ/ZS5iZXppZXJDdXJ2ZVRvKG0ueDEsbS55MSxtLngyLG0ueTIscSxyKTplLnF1YWRyYXRpY0N1cnZlVG8obS54LG0ueSxxLHIpLGUuc3Ryb2tlKCksdm9pZCAwIT1iLnNvdXJjZURvdENvbG9yfHx2b2lkIDAhPWIudGFyZ2V0RG90Q29sb3Ipe3ZhciBzPWIuZG90T2Zmc2V0fHwzLHQ9Yi5kb3RTaXplfHwxO3QqPWkscyo9bix2b2lkIDAhPWIuc291cmNlRG90Q29sb3ImJmEoZSxvLHAsbSxxLHIscyx0LGIuc291cmNlRG90Q29sb3IpLHZvaWQgMCE9Yi50YXJnZXREb3RDb2xvciYmYShlLHEscixtLG8scCxzLHQsYi50YXJnZXREb3RDb2xvcil9fX0oKSxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBhKGEsYixjLGQsZixnLGgsaSxqKXthLmJlZ2luUGF0aCgpLGEuZmlsbFN0eWxlPWo7dmFyIGs9ZShiLGMsZC54LGQueSxmLGcsaCk7YS5hcmMoay54LGsueSwzKmksMCwyKk1hdGguUEksITEpLGEuZmlsbCgpfWZ1bmN0aW9uIGIoYSxiLGMsZCl7dmFyIGU9MS1hO3JldHVybiBlKmUqYisyKmUqYSpjK2EqYSpkfWZ1bmN0aW9uIGMoYSxjLGQsZSxmLGcsaCl7cmV0dXJue3g6YihoLGEsZCxmKSx5OmIoaCxjLGUsZyl9fWZ1bmN0aW9uIGQoYSxiLGMsZCl7cmV0dXJuIE1hdGguc3FydCgoYy1hKSooYy1hKSsoZC1iKSooZC1iKSl9ZnVuY3Rpb24gZShhLGIsZSxmLGcsaCxpKXtmb3IodmFyIGo9MCxrPTFlMyxsPS4wMDEsbT0wO208MTttKz1sKXt2YXIgbj1jKGEsYixlLGYsZyxoLG0pLG89ZChhLGIsbi54LG4ueSk7TWF0aC5hYnMoby1pKTxrJiYoaz1NYXRoLmFicyhvLWkpLGo9bSl9cmV0dXJuIGMoYSxiLGUsZixnLGgsail9c2lnbWEudXRpbHMucGtnKCJzaWdtYS5jYW52YXMuZWRnZXMiKSxzaWdtYS5jYW52YXMuZWRnZXMuZG90Q3VydmVkQXJyb3c9ZnVuY3Rpb24oYixjLGQsZSxmKXt2YXIgZyxoLGksaixrLGw9Yi5jb2xvcixtPWYoInByZWZpeCIpfHwiIixuPWYoImVkZ2VDb2xvciIpLG89ZigiZGVmYXVsdE5vZGVDb2xvciIpLHA9ZigiZGVmYXVsdEVkZ2VDb2xvciIpLHE9e30scj1iW20rInNpemUiXXx8MSxzPWIuY291bnR8fDAsdD1kW20rInNpemUiXSx1PWNbbSsieCJdLHY9Y1ttKyJ5Il0sdz1kW20rIngiXSx4PWRbbSsieSJdLHk9TWF0aC5tYXgoMi41KnIsZigibWluQXJyb3dTaXplIikpO2lmKHE9Yy5pZD09PWQuaWQ/c2lnbWEudXRpbHMuZ2V0U2VsZkxvb3BDb250cm9sUG9pbnRzKHUsdix0LHMpOnNpZ21hLnV0aWxzLmdldFF1YWRyYXRpY0NvbnRyb2xQb2ludCh1LHYsdyx4LHMpLGMuaWQ9PT1kLmlkPyhnPU1hdGguc3FydChNYXRoLnBvdyh3LXEueDEsMikrTWF0aC5wb3coeC1xLnkxLDIpKSxoPXEueDErKHctcS54MSkqKGcteS10KS9nLGk9cS55MSsoeC1xLnkxKSooZy15LXQpL2csaj0ody1xLngxKSp5L2csaz0oeC1xLnkxKSp5L2cpOihnPU1hdGguc3FydChNYXRoLnBvdyh3LXEueCwyKStNYXRoLnBvdyh4LXEueSwyKSksaD1xLngrKHctcS54KSooZy15LXQpL2csaT1xLnkrKHgtcS55KSooZy15LXQpL2csaj0ody1xLngpKnkvZyxrPSh4LXEueSkqeS9nKSwhbClzd2l0Y2gobil7Y2FzZSJzb3VyY2UiOmw9Yy5jb2xvcnx8bzticmVhaztjYXNlInRhcmdldCI6bD1kLmNvbG9yfHxvO2JyZWFrO2RlZmF1bHQ6bD1wfWlmKGUuc3Ryb2tlU3R5bGU9bCxlLmxpbmVXaWR0aD1yLGUuYmVnaW5QYXRoKCksZS5tb3ZlVG8odSx2KSxjLmlkPT09ZC5pZD9lLmJlemllckN1cnZlVG8ocS54MixxLnkyLHEueDEscS55MSxoLGkpOmUucXVhZHJhdGljQ3VydmVUbyhxLngscS55LGgsaSksZS5zdHJva2UoKSxlLmZpbGxTdHlsZT1sLGUuYmVnaW5QYXRoKCksZS5tb3ZlVG8oaCtqLGkrayksZS5saW5lVG8oaCsuNiprLGktLjYqaiksZS5saW5lVG8oaC0uNiprLGkrLjYqaiksZS5saW5lVG8oaCtqLGkrayksZS5jbG9zZVBhdGgoKSxlLmZpbGwoKSx2b2lkIDAhPWIuc291cmNlRG90Q29sb3J8fHZvaWQgMCE9Yi50YXJnZXREb3RDb2xvcil7dmFyIHo9Yi5kb3RPZmZzZXR8fDMsQT1iLmRvdFNpemV8fDE7QSo9cix6Kj10LHZvaWQgMCE9Yi5zb3VyY2VEb3RDb2xvciYmYShlLHUsdixxLHcseCx6LEEsYi5zb3VyY2VEb3RDb2xvciksdm9pZCAwIT1iLnRhcmdldERvdENvbG9yJiZhKGUsdyx4LHEsdSx2LHosQSxiLnRhcmdldERvdENvbG9yKX19fSgpOw=="></script>
<script src="data:application/x-javascript;base64,KGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtpZigidW5kZWZpbmVkIj09dHlwZW9mIHNpZ21hKXRocm93InNpZ21hIGlzIG5vdCBkZWNsYXJlZCI7c2lnbWEudXRpbHMucGtnKCJzaWdtYS5zZXR0aW5ncyIpO3ZhciBiPXtkZWZhdWx0RWRnZUxhYmVsQ29sb3I6IiMwMDAiLGRlZmF1bHRFZGdlTGFiZWxBY3RpdmVDb2xvcjoiIzAwMCIsZGVmYXVsdEVkZ2VMYWJlbFNpemU6MTAsZWRnZUxhYmVsU2l6ZToiZml4ZWQiLGVkZ2VMYWJlbFNpemVQb3dSYXRpbzoxLGVkZ2VMYWJlbFRocmVzaG9sZDoxfTtzaWdtYS5zZXR0aW5ncz1zaWdtYS51dGlscy5leHRlbmQoc2lnbWEuc2V0dGluZ3N8fHt9LGIpLHNpZ21hLnNldHRpbmdzLmRyYXdFZGdlTGFiZWxzPSEwfSkuY2FsbCh0aGlzKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBzaWdtYSl0aHJvdyJzaWdtYSBpcyBub3QgZGVjbGFyZWQiO3NpZ21hLnV0aWxzLnBrZygic2lnbWEuY2FudmFzLmVkZ2VzLmxhYmVscyIpLHNpZ21hLmNhbnZhcy5lZGdlcy5sYWJlbHMuY3VydmU9ZnVuY3Rpb24oYSxiLGMsZCxlKXtpZigic3RyaW5nIj09dHlwZW9mIGEubGFiZWwpe3ZhciBmPWUoInByZWZpeCIpfHwiIixnPWFbZisic2l6ZSJdfHwxO2lmKCEoZzxlKCJlZGdlTGFiZWxUaHJlc2hvbGQiKSkpe3ZhciBoLGksaixrPWJbZisic2l6ZSJdLGw9YltmKyJ4Il0sbT1iW2YrInkiXSxuPWNbZisieCJdLG89Y1tmKyJ5Il0scD1uLWwscT1vLW0scj1sPG4/MTotMSxzPXt9LHQ9LjU7Yi5pZD09PWMuaWQ/KHM9c2lnbWEudXRpbHMuZ2V0U2VsZkxvb3BDb250cm9sUG9pbnRzKGwsbSxrKSxpPXNpZ21hLnV0aWxzLmdldFBvaW50T25CZXppZXJDdXJ2ZSh0LGwsbSxuLG8scy54MSxzLnkxLHMueDIscy55Miksaj1NYXRoLmF0YW4yKDEsMSkpOihzPXNpZ21hLnV0aWxzLmdldFF1YWRyYXRpY0NvbnRyb2xQb2ludChsLG0sbixvKSxpPXNpZ21hLnV0aWxzLmdldFBvaW50T25RdWFkcmF0aWNDdXJ2ZSh0LGwsbSxuLG8scy54LHMueSksaj1NYXRoLmF0YW4yKHEqcixwKnIpKSxoPSJmaXhlZCI9PT1lKCJlZGdlTGFiZWxTaXplIik/ZSgiZGVmYXVsdEVkZ2VMYWJlbFNpemUiKTplKCJkZWZhdWx0RWRnZUxhYmVsU2l6ZSIpKmcqTWF0aC5wb3coZywtMS9lKCJlZGdlTGFiZWxTaXplUG93UmF0aW8iKSksZC5zYXZlKCksYS5hY3RpdmU/KGQuZm9udD1bZSgiYWN0aXZlRm9udFN0eWxlIiksaCsicHgiLGUoImFjdGl2ZUZvbnQiKXx8ZSgiZm9udCIpXS5qb2luKCIgIiksZC5maWxsU3R5bGU9ImVkZ2UiPT09ZSgiZWRnZUFjdGl2ZUNvbG9yIik/YS5hY3RpdmVfY29sb3J8fGUoImRlZmF1bHRFZGdlQWN0aXZlQ29sb3IiKTplKCJkZWZhdWx0RWRnZUxhYmVsQWN0aXZlQ29sb3IiKSk6KGQuZm9udD1bZSgiZm9udFN0eWxlIiksaCsicHgiLGUoImZvbnQiKV0uam9pbigiICIpLGQuZmlsbFN0eWxlPSJlZGdlIj09PWUoImVkZ2VMYWJlbENvbG9yIik/YS5jb2xvcnx8ZSgiZGVmYXVsdEVkZ2VDb2xvciIpOmUoImRlZmF1bHRFZGdlTGFiZWxDb2xvciIpKSxkLnRleHRBbGlnbj0iY2VudGVyIixkLnRleHRCYXNlbGluZT0iYWxwaGFiZXRpYyIsZC50cmFuc2xhdGUoaS54LGkueSksZC5yb3RhdGUoaiksZC5maWxsVGV4dChhLmxhYmVsLDAsLWcvMi0zKSxkLnJlc3RvcmUoKX19fX0uY2FsbCh0aGlzKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBzaWdtYSl0aHJvdyJzaWdtYSBpcyBub3QgZGVjbGFyZWQiO3NpZ21hLnV0aWxzLnBrZygic2lnbWEuY2FudmFzLmVkZ2VzLmxhYmVscyIpLHNpZ21hLmNhbnZhcy5lZGdlcy5sYWJlbHMuY3VydmVkQXJyb3c9ZnVuY3Rpb24oYSxiLGMsZCxlKXtzaWdtYS5jYW52YXMuZWRnZXMubGFiZWxzLmN1cnZlKGEsYixjLGQsZSl9fS5jYWxsKHRoaXMpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtpZigidW5kZWZpbmVkIj09dHlwZW9mIHNpZ21hKXRocm93InNpZ21hIGlzIG5vdCBkZWNsYXJlZCI7c2lnbWEudXRpbHMucGtnKCJzaWdtYS5jYW52YXMuZWRnZXMubGFiZWxzIiksc2lnbWEuY2FudmFzLmVkZ2VzLmxhYmVscy5kZWY9ZnVuY3Rpb24oYSxiLGMsZCxlKXtpZigic3RyaW5nIj09dHlwZW9mIGEubGFiZWwmJmIhPWMpe3ZhciBmPWUoInByZWZpeCIpfHwiIixnPWFbZisic2l6ZSJdfHwxO2lmKCEoZzxlKCJlZGdlTGFiZWxUaHJlc2hvbGQiKSkpe2lmKDA9PT1lKCJlZGdlTGFiZWxTaXplUG93UmF0aW8iKSl0aHJvdyciZWRnZUxhYmVsU2l6ZVBvd1JhdGlvIiBtdXN0IG5vdCBiZSAwLic7dmFyIGgsaT0oYltmKyJ4Il0rY1tmKyJ4Il0pLzIsaj0oYltmKyJ5Il0rY1tmKyJ5Il0pLzIsaz1jW2YrIngiXS1iW2YrIngiXSxsPWNbZisieSJdLWJbZisieSJdLG09YltmKyJ4Il08Y1tmKyJ4Il0/MTotMSxuPU1hdGguYXRhbjIobCptLGsqbSk7aD0iZml4ZWQiPT09ZSgiZWRnZUxhYmVsU2l6ZSIpP2UoImRlZmF1bHRFZGdlTGFiZWxTaXplIik6ZSgiZGVmYXVsdEVkZ2VMYWJlbFNpemUiKSpnKk1hdGgucG93KGcsLTEvZSgiZWRnZUxhYmVsU2l6ZVBvd1JhdGlvIikpLGQuc2F2ZSgpLGEuYWN0aXZlPyhkLmZvbnQ9W2UoImFjdGl2ZUZvbnRTdHlsZSIpLGgrInB4IixlKCJhY3RpdmVGb250Iil8fGUoImZvbnQiKV0uam9pbigiICIpLGQuZmlsbFN0eWxlPSJlZGdlIj09PWUoImVkZ2VBY3RpdmVDb2xvciIpP2EuYWN0aXZlX2NvbG9yfHxlKCJkZWZhdWx0RWRnZUFjdGl2ZUNvbG9yIik6ZSgiZGVmYXVsdEVkZ2VMYWJlbEFjdGl2ZUNvbG9yIikpOihkLmZvbnQ9W2UoImZvbnRTdHlsZSIpLGgrInB4IixlKCJmb250IildLmpvaW4oIiAiKSxkLmZpbGxTdHlsZT0iZWRnZSI9PT1lKCJlZGdlTGFiZWxDb2xvciIpP2EuY29sb3J8fGUoImRlZmF1bHRFZGdlQ29sb3IiKTplKCJkZWZhdWx0RWRnZUxhYmVsQ29sb3IiKSksZC50ZXh0QWxpZ249ImNlbnRlciIsZC50ZXh0QmFzZWxpbmU9ImFscGhhYmV0aWMiLGQudHJhbnNsYXRlKGksaiksZC5yb3RhdGUobiksZC5maWxsVGV4dChhLmxhYmVsLDAsLWcvMi0zKSxkLnJlc3RvcmUoKX19fX0uY2FsbCh0aGlzKTs="></script>
<script src="data:application/x-javascript;base64,KGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe3ZhciBiPXtpZDphLmlkLGxhYmVsOmEubGFiZWx9O3JldHVybiBhLnZpeiYmKGIudml6PWEudml6KSxhLmF0dHJpYnV0ZXMmJihiLmF0dHJpYnV0ZXM9YS5hdHRyaWJ1dGVzKSxifWZ1bmN0aW9uIGMoYSl7dmFyIGI9e2lkOmEuaWQsdHlwZTphLnR5cGV8fCJ1bmRpcmVjdGVkIixsYWJlbDphLmxhYmVsfHwiIixzb3VyY2U6YS5zb3VyY2UsdGFyZ2V0OmEudGFyZ2V0LHdlaWdodDorYS53ZWlnaHR8fDF9O3JldHVybiBhLnZpeiYmKGIudml6PWEudml6KSxhLmF0dHJpYnV0ZXMmJihiLmF0dHJpYnV0ZXM9YS5hdHRyaWJ1dGVzKSxifWZ1bmN0aW9uIGQoYSl7ZnVuY3Rpb24gZCgpe3ZhciBhPXt9O3JldHVybiBsLmVscy5tZXRhPyhhLmxhc3Rtb2RpZmllZGRhdGU9bC5lbHMubWV0YS5nZXRBdHRyaWJ1dGUoImxhc3Rtb2RpZmllZGRhdGUiKSxoLm5vZGVMaXN0RWFjaChsLmVscy5tZXRhLmNoaWxkTm9kZXMsZnVuY3Rpb24oYil7YVtiLnRhZ05hbWUudG9Mb3dlckNhc2UoKV09Yi50ZXh0Q29udGVudH0pLGEpOmF9ZnVuY3Rpb24gZShhKXt2YXIgYj1bXTtyZXR1cm4gbC5lbHMubW9kZWxbYV0mJmgubm9kZUxpc3RFYWNoKGwuZWxzLm1vZGVsW2FdLGZ1bmN0aW9uKGEpe3ZhciBjPXtpZDphLmdldEF0dHJpYnV0ZSgiaWQiKXx8YS5nZXRBdHRyaWJ1dGUoImZvciIpLHR5cGU6YS5nZXRBdHRyaWJ1dGUoInR5cGUiKXx8InN0cmluZyIsdGl0bGU6YS5nZXRBdHRyaWJ1dGUoInRpdGxlIil8fCIifSxkPWgubm9kZUxpc3RUb0FycmF5KGEuY2hpbGROb2Rlcyk7ZC5sZW5ndGg+MCYmKGMuZGVmYXVsdFZhbHVlPWRbMF0udGV4dENvbnRlbnQpLGIucHVzaChjKX0pLGIubGVuZ3RoPjAmJmJ9ZnVuY3Rpb24gZihhLGIpe3ZhciBjPXt9LGQ9Yi5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYXR0dmFsdWUiKSxlPWgubm9kZUxpc3RUb0hhc2goZCxmdW5jdGlvbihhKXt2YXIgYj1oLm5hbWVkTm9kZU1hcFRvT2JqZWN0KGEuYXR0cmlidXRlcyk7cmV0dXJue2tleTpiLmlkfHxiLmZvcix2YWx1ZTpiLnZhbHVlfX0pO3JldHVybiBhLm1hcChmdW5jdGlvbihhKXtjW2EuaWRdPSEoYS5pZCBpbiBlKSYmImRlZmF1bHRWYWx1ZSJpbiBhP2guZW5mb3JjZVR5cGUoYS50eXBlLGEuZGVmYXVsdFZhbHVlKTpoLmVuZm9yY2VUeXBlKGEudHlwZSxlW2EuaWRdKX0pLGN9ZnVuY3Rpb24gZyhhKXt2YXIgYz1bXTtyZXR1cm4gaC5ub2RlTGlzdEVhY2gobC5lbHMubm9kZXMsZnVuY3Rpb24oZCl7dmFyIGU9e2lkOmQuZ2V0QXR0cmlidXRlKCJpZCIpLGxhYmVsOmQuZ2V0QXR0cmlidXRlKCJsYWJlbCIpfHwiIn07YSYmKGUuYXR0cmlidXRlcz1mKGEsZCkpLGwuaGFzVml6JiYoZS52aXo9aShkKSksYy5wdXNoKGIoZSkpfSksY31mdW5jdGlvbiBpKGEpe3ZhciBiPXt9LGM9aC5nZXRGaXJzdEVsZW1lbnRCeVRhZ05TKGEsInZpeiIsImNvbG9yIik7aWYoYyl7dmFyIGQ9WyJyIiwiZyIsImIiLCJhIl0ubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBjLmdldEF0dHJpYnV0ZShhKX0pO2IuY29sb3I9aC5nZXRSR0IoZCl9dmFyIGU9aC5nZXRGaXJzdEVsZW1lbnRCeVRhZ05TKGEsInZpeiIsInBvc2l0aW9uIik7ZSYmKGIucG9zaXRpb249e30sWyJ4IiwieSIsInoiXS5tYXAoZnVuY3Rpb24oYSl7Yi5wb3NpdGlvblthXT0rZS5nZXRBdHRyaWJ1dGUoYSl9KSk7dmFyIGY9aC5nZXRGaXJzdEVsZW1lbnRCeVRhZ05TKGEsInZpeiIsInNpemUiKTtmJiYoYi5zaXplPStmLmdldEF0dHJpYnV0ZSgidmFsdWUiKSk7dmFyIGc9aC5nZXRGaXJzdEVsZW1lbnRCeVRhZ05TKGEsInZpeiIsInNoYXBlIik7cmV0dXJuIGcmJihiLnNoYXBlPWcuZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpKSxifWZ1bmN0aW9uIGooYSxiKXt2YXIgZD1bXTtyZXR1cm4gaC5ub2RlTGlzdEVhY2gobC5lbHMuZWRnZXMsZnVuY3Rpb24oZSl7dmFyIGc9aC5uYW1lZE5vZGVNYXBUb09iamVjdChlLmF0dHJpYnV0ZXMpOyJ0eXBlImluIGd8fChnLnR5cGU9YiksYSYmKGcuYXR0cmlidXRlcz1mKGEsZSkpLGwuaGFzVml6JiYoZy52aXo9ayhlKSksZC5wdXNoKGMoZykpfSksZH1mdW5jdGlvbiBrKGEpe3ZhciBiPXt9LGM9aC5nZXRGaXJzdEVsZW1lbnRCeVRhZ05TKGEsInZpeiIsImNvbG9yIik7aWYoYyl7dmFyIGQ9WyJyIiwiZyIsImIiLCJhIl0ubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBjLmdldEF0dHJpYnV0ZShhKX0pO2IuY29sb3I9aC5nZXRSR0IoZCl9dmFyIGU9aC5nZXRGaXJzdEVsZW1lbnRCeVRhZ05TKGEsInZpeiIsInNoYXBlIik7ZSYmKGIuc2hhcGU9ZS5nZXRBdHRyaWJ1dGUoInZhbHVlIikpO3ZhciBmPWguZ2V0Rmlyc3RFbGVtZW50QnlUYWdOUyhhLCJ2aXoiLCJ0aGlja25lc3MiKTtyZXR1cm4gZiYmKGIudGhpY2tuZXNzPStmLmdldEF0dHJpYnV0ZSgidmFsdWUiKSksYn12YXIgbD17fTtsLmVscz17cm9vdDphLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJnZXhmIilbMF0sZ3JhcGg6YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiZ3JhcGgiKVswXSxtZXRhOmEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIm1ldGEiKVswXSxub2RlczphLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJub2RlIiksZWRnZXM6YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiZWRnZSIpLG1vZGVsOmguZ2V0TW9kZWxUYWdzKGEpfSxsLmhhc1Zpej0hIWguZ2V0QXR0cmlidXRlTlMobC5lbHMucm9vdCwieG1sbnMiLCJ2aXoiKSxsLnZlcnNpb249bC5lbHMucm9vdC5nZXRBdHRyaWJ1dGUoInZlcnNpb24iKXx8IjEuMCIsbC5tb2RlPWwuZWxzLmdyYXBoLmdldEF0dHJpYnV0ZSgibW9kZSIpfHwic3RhdGljIjt2YXIgbT1sLmVscy5ncmFwaC5nZXRBdHRyaWJ1dGUoImRlZmF1bHRlZGdldHlwZSIpO2wuZGVmYXVsdEVkZ2V0eXBlPW18fCJ1bmRpcmVjdGVkIjt2YXIgbj1lKCJub2RlIiksbz1lKCJlZGdlIikscD17dmVyc2lvbjpsLnZlcnNpb24sbW9kZTpsLm1vZGUsZGVmYXVsdEVkZ2VUeXBlOmwuZGVmYXVsdEVkZ2V0eXBlLG1ldGE6ZCgpLG1vZGVsOnt9LG5vZGVzOmcobiksZWRnZXM6aihvLGwuZGVmYXVsdEVkZ2V0eXBlKX07cmV0dXJuIG4mJihwLm1vZGVsLm5vZGU9biksbyYmKHAubW9kZWwuZWRnZT1vKSxwfWZ1bmN0aW9uIGUoYSxiKXt2YXIgYz1mdW5jdGlvbigpe2lmKHdpbmRvdy5YTUxIdHRwUmVxdWVzdClyZXR1cm4gbmV3IFhNTEh0dHBSZXF1ZXN0O3ZhciBhLGI7aWYod2luZG93LkFjdGl2ZVhPYmplY3Qpe2E9WyJNc3htbDIuWE1MSFRUUC42LjAiLCJNc3htbDIuWE1MSFRUUC4zLjAiLCJNc3htbDIuWE1MSFRUUCIsIk1pY3Jvc29mdC5YTUxIVFRQIl07Zm9yKGIgaW4gYSl0cnl7cmV0dXJuIG5ldyBBY3RpdmVYT2JqZWN0KGFbYl0pfWNhdGNoKGEpe319cmV0dXJuIG51bGx9KCk7aWYoIWMpdGhyb3ciWE1MSHR0cFJlcXVlc3Qgbm90IHN1cHBvcnRlZCwgY2Fubm90IGxvYWQgdGhlIGZpbGUuIjt2YXIgZCxlPSJmdW5jdGlvbiI9PXR5cGVvZiBiO3JldHVybiBjLm92ZXJyaWRlTWltZVR5cGU/KGMub3ZlcnJpZGVNaW1lVHlwZSgidGV4dC94bWwiKSxkPWZ1bmN0aW9uKGEpe3JldHVybiBhLnJlc3BvbnNlWE1MfSk6ZD1mdW5jdGlvbihhKXtyZXR1cm4obmV3IERPTVBhcnNlcikucGFyc2VGcm9tU3RyaW5nKGEucmVzcG9uc2VUZXh0LCJhcHBsaWNhdGlvbi94bWwiKX0sYy5vcGVuKCJHRVQiLGEsZSksZSYmKGMub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7ND09PWMucmVhZHlTdGF0ZSYmYihkKGMpKX0pLGMuc2VuZCgpLGU/YzpkKGMpfWZ1bmN0aW9uIGYoYSl7cmV0dXJuIGQoYSl9ZnVuY3Rpb24gZyhhLGIpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBiP2UoYSxmdW5jdGlvbihhKXtiKGQoYSkpfSk6ZChlKGEpKX12YXIgaD17Z2V0TW9kZWxUYWdzOmZ1bmN0aW9uKGEpe3ZhciBiLGM9YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYXR0cmlidXRlcyIpLGQ9e30sZT1jLmxlbmd0aDtmb3IoYj0wO2I8ZTtiKyspZFtjW2JdLmdldEF0dHJpYnV0ZSgiY2xhc3MiKV09Y1tiXS5jaGlsZE5vZGVzO3JldHVybiBkfSxub2RlTGlzdFRvQXJyYXk6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPVtdLGM9MCxkPWEubGVuZ3RoO2M8ZDsrK2MpIiN0ZXh0IiE9PWFbY10ubm9kZU5hbWUmJmIucHVzaChhW2NdKTtyZXR1cm4gYn0sbm9kZUxpc3RFYWNoOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTAsZD1hLmxlbmd0aDtjPGQ7KytjKSIjdGV4dCIhPT1hW2NdLm5vZGVOYW1lJiZiKGFbY10pfSxub2RlTGlzdFRvSGFzaDpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz17fSxkPTA7ZDxhLmxlbmd0aDtkKyspaWYoIiN0ZXh0IiE9PWFbZF0ubm9kZU5hbWUpe3ZhciBlPWIoYVtkXSk7Y1tlLmtleV09ZS52YWx1ZX1yZXR1cm4gY30sbmFtZWROb2RlTWFwVG9PYmplY3Q6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXt9LGM9MDtjPGEubGVuZ3RoO2MrKyliW2FbY10ubmFtZV09YVtjXS52YWx1ZTtyZXR1cm4gYn0sZ2V0Rmlyc3RFbGVtZW50QnlUYWdOUzpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9YS5nZXRFbGVtZW50c0J5VGFnTmFtZShiKyI6IitjKVswXTtyZXR1cm4gZHx8KGQ9YS5nZXRFbGVtZW50c0J5VGFnTmFtZU5TKGIsYylbMF0pLGR8fChkPWEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYylbMF0pLGR9LGdldEF0dHJpYnV0ZU5TOmZ1bmN0aW9uKGIsYyxkKXt2YXIgZT1iLmdldEF0dHJpYnV0ZShjKyI6IitkKTtyZXR1cm4gZT09PWEmJihlPWIuZ2V0QXR0cmlidXRlTlMoYyxkKSksZT09PWEmJihlPWIuZ2V0QXR0cmlidXRlKGQpKSxlfSxlbmZvcmNlVHlwZTpmdW5jdGlvbihhLGIpe3N3aXRjaChhKXtjYXNlImJvb2xlYW4iOmI9InRydWUiPT09YjticmVhaztjYXNlImludGVnZXIiOmNhc2UibG9uZyI6Y2FzZSJmbG9hdCI6Y2FzZSJkb3VibGUiOmI9K2I7YnJlYWs7Y2FzZSJsaXN0c3RyaW5nIjpiPWI/Yi5zcGxpdCgifCIpOltdfXJldHVybiBifSxnZXRSR0I6ZnVuY3Rpb24oYSl7cmV0dXJuIGFbM10/InJnYmEoIithLmpvaW4oIiwiKSsiKSI6InJnYigiK2Euc2xpY2UoMCwtMSkuam9pbigiLCIpKyIpIn19O2lmKHZvaWQgMCE9PXRoaXMuZ2V4Zil0aHJvdydnZXhmOiBlcnJvciAtIGEgdmFyaWFibGUgY2FsbGVkICJnZXhmIiBhbHJlYWR5IGV4aXN0cyBpbiB0aGUgZ2xvYmFsIHNjb3BlJzt0aGlzLmdleGY9e3BhcnNlOmYsZmV0Y2g6Zyx2ZXJzaW9uOiIwLjEuMSJ9LCJ1bmRlZmluZWQiIT10eXBlb2YgZXhwb3J0cyYmdGhpcy5leHBvcnRzIT09ZXhwb3J0cyYmKG1vZHVsZS5leHBvcnRzPXRoaXMuZ2V4Zil9KS5jYWxsKHRoaXMpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKCl7cmV0dXJuImUiK2MrK31pZigidW5kZWZpbmVkIj09dHlwZW9mIHNpZ21hKXRocm93InNpZ21hIGlzIG5vdCBkZWNsYXJlZCI7c2lnbWEudXRpbHMucGtnKCJzaWdtYS5wYXJzZXJzIik7dmFyIGM9MDtzaWdtYS5wYXJzZXJzLmdleGY9ZnVuY3Rpb24oYSxjLGQpe2Z1bmN0aW9uIGUoYSl7Zm9yKGg9YS5ub2RlcyxmPTAsZz1oLmxlbmd0aDtmPGc7ZisrKWk9aFtmXSxpLmlkPWkuaWQsaS52aXomJiJvYmplY3QiPT10eXBlb2YgaS52aXomJihpLnZpei5wb3NpdGlvbiYmIm9iamVjdCI9PXR5cGVvZiBpLnZpei5wb3NpdGlvbiYmKGkueD1pLnZpei5wb3NpdGlvbi54LGkueT0taS52aXoucG9zaXRpb24ueSksaS5zaXplPWkudml6LnNpemUsaS5jb2xvcj1pLnZpei5jb2xvcik7Zm9yKGg9YS5lZGdlcyxmPTAsZz1oLmxlbmd0aDtmPGc7ZisrKWk9aFtmXSxpLmlkPSJzdHJpbmciPT10eXBlb2YgaS5pZD9pLmlkOmIoKSxpLnNvdXJjZT0iIitpLnNvdXJjZSxpLnRhcmdldD0iIitpLnRhcmdldCxpLnZpeiYmIm9iamVjdCI9PXR5cGVvZiBpLnZpeiYmKGkuY29sb3I9aS52aXouY29sb3IsaS5zaXplPWkudml6LnRoaWNrbmVzcyksaS5zaXplPWkud2VpZ2h0LGkuZGlyZWN0aW9uPWkudHlwZSxkZWxldGUgaS50eXBlO2lmKGMgaW5zdGFuY2VvZiBzaWdtYSl7Zm9yKGMuZ3JhcGguY2xlYXIoKSxoPWEubm9kZXMsZj0wLGc9aC5sZW5ndGg7ZjxnO2YrKyljLmdyYXBoLmFkZE5vZGUoaFtmXSk7Zm9yKGg9YS5lZGdlcyxmPTAsZz1oLmxlbmd0aDtmPGc7ZisrKWMuZ3JhcGguYWRkRWRnZShoW2ZdKX1lbHNlIm9iamVjdCI9PXR5cGVvZiBjPyhjLmdyYXBoPWEsYz1uZXcgc2lnbWEoYykpOiJmdW5jdGlvbiI9PXR5cGVvZiBjJiYoZD1jLGM9bnVsbCk7cmV0dXJuIGQ/dm9pZCBkKGN8fGEpOmF9dmFyIGYsZyxoLGk7aWYoInN0cmluZyI9PXR5cGVvZiBhKWdleGYuZmV0Y2goYSxlKTtlbHNlIGlmKCJvYmplY3QiPT10eXBlb2YgYSlyZXR1cm4gZShnZXhmLnBhcnNlKGEpKX19LmNhbGwodGhpcyk7"></script>
<script src="data:application/x-javascript;base64,OyhmdW5jdGlvbih1bmRlZmluZWQpIHsKICAndXNlIHN0cmljdCc7CgogIC8qKgogICAqIFNpZ21hIFNWRyBFeHBvcnRlcgogICAqID09PT09PT09PT09PT09PT09PT0KICAgKgogICAqIFRoaXMgcGx1Z2luIGlzIGRlc2lnbmVkIHRvIGV4cG9ydCBhIGdyYXBoIHRvIGEgc3ZnIGZpbGUgdGhhdCBjYW4gYmUKICAgKiBkb3dubG9hZGVkIG9yIGp1c3QgdXNlZCBlbHNld2hlcmUuCiAgICoKICAgKiBBdXRob3I6IEd1aWxsYXVtZSBQbGlxdWUgKFlvbWd1aXRoZXJlYWwpCiAgICogVmVyc2lvbjogMC4wLjEKICAgKi8KCiAgLy8gVGVybWluYXRpbmcgaWYgc2lnbWEgd2VyZSBub3QgdG8gYmUgZm91bmQKICBpZiAodHlwZW9mIHNpZ21hID09PSAndW5kZWZpbmVkJykKICAgIHRocm93ICdzaWdtYS5yZW5kZXJlcnMuc25hcHNob3Q6IHNpZ21hIG5vdCBpbiBzY29wZS4nOwoKCiAgLyoqCiAgICogUG9seWZpbGxzCiAgICovCiAgdmFyIFVSTCA9IHRoaXMuVVJMIHx8IHRoaXMud2Via2l0VVJMIHx8IHRoaXM7CgoKICAvKioKICAgKiBVdGlsaXRpZXMKICAgKi8KICBmdW5jdGlvbiBjcmVhdGVCbG9iKGRhdGEpIHsKICAgIHJldHVybiBuZXcgQmxvYigKICAgICAgW2RhdGFdLAogICAgICB7dHlwZTogJ2ltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCd9CiAgICApOwogIH0KCiAgZnVuY3Rpb24gZG93bmxvYWQoc3RyaW5nLCBmaWxlbmFtZSkgewoKICAgIC8vIENyZWF0aW5nIGJsb2IgaHJlZgogICAgdmFyIGJsb2IgPSBjcmVhdGVCbG9iKHN0cmluZyk7CgogICAgLy8gQW5jaG9yCiAgICB2YXIgbyA9IHt9OwogICAgby5hbmNob3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7CiAgICBvLmFuY2hvci5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpKTsKICAgIG8uYW5jaG9yLnNldEF0dHJpYnV0ZSgnZG93bmxvYWQnLCBmaWxlbmFtZSk7CgogICAgLy8gQ2xpY2sgZXZlbnQKICAgIHZhciBldmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdNb3VzZUV2ZW50Jyk7CiAgICBldmVudC5pbml0TW91c2VFdmVudCgnY2xpY2snLCB0cnVlLCBmYWxzZSwgd2luZG93LCAwLCAwLCAwICwwLCAwLAogICAgICBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgMCwgbnVsbCk7CgogICAgVVJMLnJldm9rZU9iamVjdFVSTChibG9iKTsKCiAgICBvLmFuY2hvci5kaXNwYXRjaEV2ZW50KGV2ZW50KTsKICAgIGRlbGV0ZSBvLmFuY2hvcjsKICB9CgoKICAvKioKICAgKiBEZWZhdWx0cwogICAqLwogIHZhciBERUZBVUxUUyA9IHsKICAgIHNpemU6ICcxMDAwJywKICAgIHdpZHRoOiAnMTAwMCcsCiAgICBoZWlnaHQ6ICcxMDAwJywKICAgIGNsYXNzZXM6IHRydWUsCiAgICBsYWJlbHM6IHRydWUsCiAgICBkYXRhOiBmYWxzZSwKICAgIGRvd25sb2FkOiBmYWxzZSwKICAgIGZpbGVuYW1lOiAnZ3JhcGguc3ZnJwogIH07CgogIHZhciBYTUxOUyA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc7CgoKICAvKioKICAgKiBTdWJwcm9jZXNzZXMKICAgKi8KICBmdW5jdGlvbiBvcHRpbWl6ZShzdmcsIHByZWZpeCwgcGFyYW1zKSB7CiAgICB2YXIgbm9kZUNvbG9ySW5kZXggPSB7fSwKICAgICAgICBlZGdlQ29sb3JJbmRleCA9IHt9LAogICAgICAgIGNvdW50ID0gMCwKICAgICAgICBjb2xvciwKICAgICAgICBzdHlsZSwKICAgICAgICBzdHlsZVRleHQgPSAnJywKICAgICAgICBmLAogICAgICAgIGksCiAgICAgICAgbDsKCiAgICAvLyBDcmVhdGluZyBzdHlsZSB0YWcgaWYgbmVlZGVkCiAgICBpZiAocGFyYW1zLmNsYXNzZXMpIHsKICAgICAgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoWE1MTlMsICdzdHlsZScpOwogICAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAndGV4dC9jc3MnKQogICAgICBzdmcuaW5zZXJ0QmVmb3JlKHN0eWxlLCBzdmcuZmlyc3RDaGlsZCk7CiAgICB9CgogICAgLy8gSXRlcmF0aW5nIG92ZXIgbm9kZXMKICAgIHZhciBub2RlcyA9IHN2Zy5xdWVyeVNlbGVjdG9yQWxsKCdbaWQ9IicgKyBwcmVmaXggKyAnLWdyb3VwLW5vZGVzIl0gPiBbY2xhc3M9IicgKyBwcmVmaXggKyAnLW5vZGUiXScpOwoKICAgIGZvciAoaSA9IDAsIGwgPSBub2Rlcy5sZW5ndGgsIGYgPSB0cnVlOyBpIDwgbDsgaSsrKSB7CiAgICAgIGNvbG9yID0gbm9kZXNbaV0uZ2V0QXR0cmlidXRlKCdmaWxsJyk7CgogICAgICBpZiAoIXBhcmFtcy5kYXRhKQogICAgICAgIG5vZGVzW2ldLnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS1ub2RlLWlkJyk7CgogICAgICBpZiAocGFyYW1zLmNsYXNzZXMpIHsKCiAgICAgICAgaWYgKCEoY29sb3IgaW4gbm9kZUNvbG9ySW5kZXgpKSB7CiAgICAgICAgICBub2RlQ29sb3JJbmRleFtjb2xvcl0gPSAoZiA/IHByZWZpeCArICctbm9kZScgOiAnYy0nICsgKGNvdW50KyspKTsKICAgICAgICAgIHN0eWxlVGV4dCArPSAnLicgKyBub2RlQ29sb3JJbmRleFtjb2xvcl0gKyAne2ZpbGw6ICcgKyBjb2xvciArICd9JzsKICAgICAgICB9CgogICAgICAgIGlmIChub2RlQ29sb3JJbmRleFtjb2xvcl0gIT09IHByZWZpeCArICctbm9kZScpCiAgICAgICAgICBub2Rlc1tpXS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgbm9kZXNbaV0uZ2V0QXR0cmlidXRlKCdjbGFzcycpICsgJyAnICsgbm9kZUNvbG9ySW5kZXhbY29sb3JdKTsKICAgICAgICBub2Rlc1tpXS5yZW1vdmVBdHRyaWJ1dGUoJ2ZpbGwnKTsKICAgICAgfQoKICAgICAgZiA9IGZhbHNlOwogICAgfQoKICAgIC8vIEl0ZXJhdGluZyBvdmVyIGVkZ2VzCiAgICB2YXIgZWRnZXMgPSBzdmcucXVlcnlTZWxlY3RvckFsbCgnW2lkPSInICsgcHJlZml4ICsgJy1ncm91cC1lZGdlcyJdID4gW2NsYXNzPSInICsgcHJlZml4ICsgJy1lZGdlIl0nKTsKCiAgICBmb3IgKGkgPSAwLCBsID0gZWRnZXMubGVuZ3RoLCBmID0gdHJ1ZTsgaSA8IGw7IGkrKykgewogICAgICBjb2xvciA9IGVkZ2VzW2ldLmdldEF0dHJpYnV0ZSgnc3Ryb2tlJyk7CgogICAgICBpZiAoIXBhcmFtcy5kYXRhKQogICAgICAgIGVkZ2VzW2ldLnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS1lZGdlLWlkJyk7CgogICAgICBpZiAocGFyYW1zLmNsYXNzZXMpIHsKCiAgICAgICAgaWYgKCEoY29sb3IgaW4gZWRnZUNvbG9ySW5kZXgpKSB7CiAgICAgICAgICBlZGdlQ29sb3JJbmRleFtjb2xvcl0gPSAoZiA/IHByZWZpeCArICctZWRnZScgOiAnYy0nICsgKGNvdW50KyspKTsKICAgICAgICAgIHN0eWxlVGV4dCArPSAnLicgKyBlZGdlQ29sb3JJbmRleFtjb2xvcl0gKyAne3N0cm9rZTogJyArIGNvbG9yICsgJ30nOwogICAgICAgIH0KCiAgICAgICAgaWYgKGVkZ2VDb2xvckluZGV4W2NvbG9yXSAhPT0gcHJlZml4ICsgJy1lZGdlJykKICAgICAgICAgIGVkZ2VzW2ldLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCBlZGdlc1tpXS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykgKyAnICcgKyBlZGdlQ29sb3JJbmRleFtjb2xvcl0pOwogICAgICAgIGVkZ2VzW2ldLnJlbW92ZUF0dHJpYnV0ZSgnc3Ryb2tlJyk7CiAgICAgIH0KCiAgICAgIGYgPSBmYWxzZTsKICAgIH0KCiAgICBpZiAocGFyYW1zLmNsYXNzZXMpCiAgICAgIHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHN0eWxlVGV4dCkpOwogIH0KCgogIC8qKgogICAqIEV4dGVuZGluZyBwcm90b3R5cGUKICAgKi8KICBzaWdtYS5wcm90b3R5cGUudG9TVkcgPSBmdW5jdGlvbihwYXJhbXMpIHsKICAgIHBhcmFtcyA9IHBhcmFtcyB8fCB7fTsKCiAgICB2YXIgcHJlZml4ID0gdGhpcy5zZXR0aW5ncygnY2xhc3NQcmVmaXgnKSwKICAgICAgICB3ID0gcGFyYW1zLnNpemUgfHwgcGFyYW1zLndpZHRoIHx8IERFRkFVTFRTLnNpemUsCiAgICAgICAgaCA9IHBhcmFtcy5zaXplIHx8IHBhcmFtcy5oZWlnaHQgfHwgREVGQVVMVFMuc2l6ZTsKCiAgICAvLyBDcmVhdGluZyBhIGR1bW15IGNvbnRhaW5lcgogICAgdmFyIGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgY29udGFpbmVyLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCB3KTsKICAgIGNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsIGgpOwogICAgY29udGFpbmVyLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAncG9zaXRpb246YWJzb2x1dGU7IHRvcDogMHB4OyBsZWZ0OjBweDsgd2lkdGg6ICcgKyB3ICsgJ3B4OyBoZWlnaHQ6ICcgKyBoICsgJ3B4OycpOwoKICAgIC8vIENyZWF0aW5nIGEgY2FtZXJhCiAgICB2YXIgY2FtZXJhID0gdGhpcy5hZGRDYW1lcmEoKTsKCiAgICAvLyBDcmVhdGluZyBhIHN2ZyByZW5kZXJlcgogICAgdmFyIHJlbmRlcmVyID0gdGhpcy5hZGRSZW5kZXJlcih7CiAgICAgIGNhbWVyYTogY2FtZXJhLAogICAgICBjb250YWluZXI6IGNvbnRhaW5lciwKICAgICAgdHlwZTogJ3N2ZycsCiAgICAgIGZvcmNlTGFiZWxzOiAhIXBhcmFtcy5sYWJlbHMKICAgIH0pOwoKICAgIC8vIFJlZnJlc2hpbmcKICAgIHJlbmRlcmVyLnJlc2l6ZSh3LCBoKTsKICAgIHRoaXMucmVmcmVzaCgpOwoKICAgIC8vIERyb3BwaW5nIGNhbWVyYSBhbmQgcmVuZGVyZXJzIGJlZm9yZSBzb21ldGhpbmcgbmFzdHkgaGFwcGVucwogICAgdGhpcy5raWxsUmVuZGVyZXIocmVuZGVyZXIpOwogICAgdGhpcy5raWxsQ2FtZXJhKGNhbWVyYSk7CgogICAgLy8gUmV0cmlldmluZyBzdmcKICAgIHZhciBzdmcgPSBjb250YWluZXIucXVlcnlTZWxlY3Rvcignc3ZnJyk7CiAgICBzdmcucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpOwogICAgc3ZnLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCB3ICsgJ3B4Jyk7CiAgICBzdmcuc2V0QXR0cmlidXRlKCdoZWlnaHQnLCBoICsgJ3B4Jyk7CiAgICBzdmcuc2V0QXR0cmlidXRlKCd4JywgJzBweCcpOwogICAgc3ZnLnNldEF0dHJpYnV0ZSgneScsICcwcHgnKTsKICAgIC8vIHN2Zy5zZXRBdHRyaWJ1dGUoJ3ZpZXdCb3gnLCAnMCAwIDEwMDAgMTAwMCcpOwoKICAgIC8vIERyb3BwaW5nIGxhYmVscwogICAgaWYgKCFwYXJhbXMubGFiZWxzKSB7CiAgICAgIHZhciBsYWJlbEdyb3VwID0gc3ZnLnF1ZXJ5U2VsZWN0b3IoJ1tpZD0iJyArIHByZWZpeCArICctZ3JvdXAtbGFiZWxzIl0nKTsKICAgICAgc3ZnLnJlbW92ZUNoaWxkKGxhYmVsR3JvdXApOwogICAgfQoKICAgIC8vIERyb3BwaW5nIGhvdmVycwogICAgdmFyIGhvdmVyR3JvdXAgPSBzdmcucXVlcnlTZWxlY3RvcignW2lkPSInICsgcHJlZml4ICsgJy1ncm91cC1ob3ZlcnMiXScpOwogICAgc3ZnLnJlbW92ZUNoaWxkKGhvdmVyR3JvdXApOwoKICAgIC8vIE9wdGltcz8KICAgIHBhcmFtcy5jbGFzc2VzID0gKHBhcmFtcy5jbGFzc2VzICE9PSBmYWxzZSk7CiAgICBpZiAoIXBhcmFtcy5kYXRhIHx8IHBhcmFtcy5jbGFzc2VzKQogICAgICBvcHRpbWl6ZShzdmcsIHByZWZpeCwgcGFyYW1zKTsKCiAgICAvLyBSZXRyaWV2aW5nIHN2ZyBzdHJpbmcKICAgIHZhciBzdmdTdHJpbmcgPSBzdmcub3V0ZXJIVE1MOwoKICAgIC8vIFBhcmFub2lkIGNsZWFudXAKICAgIGNvbnRhaW5lciA9IG51bGw7CgogICAgLy8gT3V0cHV0IHN0cmluZwogICAgdmFyIG91dHB1dCA9ICc8P3htbCB2ZXJzaW9uPSIxLjAiIGVuY29kaW5nPSJ1dGYtOCI/PlxuJzsKICAgIG91dHB1dCArPSAnPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj5cbic7CiAgICBvdXRwdXQgKz0gc3ZnU3RyaW5nOwoKICAgIGlmIChwYXJhbXMuZG93bmxvYWQpCiAgICAgIGRvd25sb2FkKG91dHB1dCwgcGFyYW1zLmZpbGVuYW1lIHx8IERFRkFVTFRTLmZpbGVuYW1lKTsKCiAgICByZXR1cm4gb3V0cHV0OwogIH07Cn0pLmNhbGwodGhpcyk7Cg=="></script>
<script src="data:application/x-javascript;base64,LyoqCiAqIFRoaXMgcGx1Z2luIHByb3ZpZGVzIGEgbWV0aG9kIHRvIHJldHJpZXZlIHRoZSBuZWlnaGJvcmhvb2Qgb2YgYSBub2RlLgogKiBCYXNpY2FsbHksIGl0IGxvYWRzIGEgZ3JhcGggYW5kIHN0b3JlcyBpdCBpbiBhIGhlYWRsZXNzIHNpZ21hLmNsYXNzZXMuZ3JhcGgKICogaW5zdGFuY2UsIHRoYXQgeW91IGNhbiBxdWVyeSB0byByZXRyaWV2ZSBuZWlnaGJvcmhvb2RzLgogKgogKiBJdCBpcyB1c2VmdWwgZm9yIHBlb3BsZSB3aG8gd2FudCB0byBwcm92aWRlIGEgbmVpZ2hib3Job29kcyBuYXZpZ2F0aW9uCiAqIGluc2lkZSBhIGJpZyBncmFwaCBpbnN0ZWFkIG9mIGp1c3QgZGlzcGxheWluZyBpdCwgYW5kIHdpdGhvdXQgaGF2aW5nIHRvCiAqIGRlcGxveSBhbiBBUEkgb3IgdGhlIGxpc3Qgb2YgZXZlcnkgbmVpZ2hib3Job29kcy4KICoKICogVGhpcyBwbHVnaW4gYWxzbyBhZGRzIHRvIHRoZSBncmFwaCBtb2RlbCBhIG1ldGhvZCBjYWxsZWQgIm5laWdoYm9yaG9vZCIuCiAqIENoZWNrIHRoZSBjb2RlIGZvciBtb3JlIGluZm9ybWF0aW9uLgogKgogKiBIZXJlIGlzIGhvdyB0byB1c2UgaXQ6CiAqCiAqICA+IHZhciBkYiA9IG5ldyBzaWdtYS5wbHVnaW5zLm5laWdoYm9yaG9vZHMoKTsKICogID4gZGIubG9hZCgncGF0aC90by9teS9ncmFwaC5qc29uJywgZnVuY3Rpb24oKSB7CiAqICA+ICAgdmFyIG5vZGVJZCA9ICdhbnlOb2RlSUQnOwogKiAgPiAgIG15U2lnbWFJbnN0YW5jZQogKiAgPiAgICAgLnJlYWQoZGIubmVpZ2hib3Job29kKG5vZGVJZCkpCiAqICA+ICAgICAucmVmcmVzaCgpOwogKiAgPiB9KTsKICovCihmdW5jdGlvbigpIHsKICAndXNlIHN0cmljdCc7CgogIGlmICh0eXBlb2Ygc2lnbWEgPT09ICd1bmRlZmluZWQnKQogICAgdGhyb3cgJ3NpZ21hIGlzIG5vdCBkZWNsYXJlZCc7CgogIC8qKgogICAqIFRoaXMgbWV0aG9kIHRha2VzIHRoZSBJRCBvZiBub2RlIGFzIGFyZ3VtZW50IGFuZCByZXR1cm5zIHRoZSBncmFwaCBvZiB0aGUKICAgKiBzcGVjaWZpZWQgbm9kZSwgd2l0aCBldmVyeSBvdGhlciBub2RlcyB0aGF0IGFyZSBjb25uZWN0ZWQgdG8gaXQgYW5kIGV2ZXJ5CiAgICogZWRnZXMgdGhhdCBjb25uZWN0IHR3byBvZiB0aGUgcHJldmlvdXNseSBjaXRlZCBub2Rlcy4gSXQgdXNlcyB0aGUgYnVpbHQtaW4KICAgKiBpbmRleGVzIGZyb20gc2lnbWEncyBncmFwaCBtb2RlbCB0byBzZWFyY2ggaW4gdGhlIGdyYXBoLgogICAqCiAgICogQHBhcmFtICB7c3RyaW5nfSBjZW50ZXJJZCBUaGUgSUQgb2YgdGhlIGNlbnRlciBub2RlLgogICAqIEByZXR1cm4ge29iamVjdH0gICAgICAgICAgVGhlIGdyYXBoLCBhcyBhIHNpbXBsZSBkZXNjcmlwdGl2ZSBvYmplY3QsIGluCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICB0aGUgZm9ybWF0IHJlcXVpcmVkIGJ5IHRoZSAicmVhZCIgZ3JhcGggbWV0aG9kLgogICAqLwogIHNpZ21hLmNsYXNzZXMuZ3JhcGguYWRkTWV0aG9kKAogICAgJ25laWdoYm9yaG9vZCcsCiAgICBmdW5jdGlvbihjZW50ZXJJZCkgewogICAgICB2YXIgazEsCiAgICAgICAgICBrMiwKICAgICAgICAgIGszLAogICAgICAgICAgbm9kZSwKICAgICAgICAgIGNlbnRlciwKICAgICAgICAgIC8vIFRob3NlIHR3byBsb2NhbCBpbmRleGVzIGFyZSBoZXJlIGp1c3QgdG8gYXZvaWQgZHVwbGljYXRlczoKICAgICAgICAgIGxvY2FsTm9kZXNJbmRleCA9IHt9LAogICAgICAgICAgbG9jYWxFZGdlc0luZGV4ID0ge30sCiAgICAgICAgICAvLyBBbmQgaGVyZSBpcyB0aGUgcmVzdWx0ZWQgZ3JhcGgsIGVtcHR5IGF0IHRoZSBtb21lbnQ6CiAgICAgICAgICBncmFwaCA9IHsKICAgICAgICAgICAgbm9kZXM6IFtdLAogICAgICAgICAgICBlZGdlczogW10KICAgICAgICAgIH07CgogICAgICAvLyBDaGVjayB0aGF0IHRoZSBleGlzdHM6CiAgICAgIGlmICghdGhpcy5ub2RlcyhjZW50ZXJJZCkpCiAgICAgICAgcmV0dXJuIGdyYXBoOwoKICAgICAgLy8gQWRkIGNlbnRlci4gSXQgaGFzIHRvIGJlIGNsb25lZCB0byBhZGQgaXQgdGhlICJjZW50ZXIiIGF0dHJpYnV0ZQogICAgICAvLyB3aXRob3V0IGFsdGVyaW5nIHRoZSBjdXJyZW50IGdyYXBoOgogICAgICBub2RlID0gdGhpcy5ub2RlcyhjZW50ZXJJZCk7CiAgICAgIGNlbnRlciA9IHt9OwogICAgICBjZW50ZXIuY2VudGVyID0gdHJ1ZTsKICAgICAgZm9yIChrMSBpbiBub2RlKQogICAgICAgIGNlbnRlcltrMV0gPSBub2RlW2sxXTsKCiAgICAgIGxvY2FsTm9kZXNJbmRleFtjZW50ZXJJZF0gPSB0cnVlOwogICAgICBncmFwaC5ub2Rlcy5wdXNoKGNlbnRlcik7CgogICAgICAvLyBBZGQgbmVpZ2hib3JzIGFuZCBlZGdlcyBiZXR3ZWVuIHRoZSBjZW50ZXIgYW5kIHRoZSBuZWlnaGJvcnM6CiAgICAgIGZvciAoazEgaW4gdGhpcy5hbGxOZWlnaGJvcnNJbmRleFtjZW50ZXJJZF0pIHsKICAgICAgICBpZiAoIWxvY2FsTm9kZXNJbmRleFtrMV0pIHsKICAgICAgICAgIGxvY2FsTm9kZXNJbmRleFtrMV0gPSB0cnVlOwogICAgICAgICAgZ3JhcGgubm9kZXMucHVzaCh0aGlzLm5vZGVzSW5kZXhbazFdKTsKICAgICAgICB9CgogICAgICAgIGZvciAoazIgaW4gdGhpcy5hbGxOZWlnaGJvcnNJbmRleFtjZW50ZXJJZF1bazFdKQogICAgICAgICAgaWYgKCFsb2NhbEVkZ2VzSW5kZXhbazJdKSB7CiAgICAgICAgICAgIGxvY2FsRWRnZXNJbmRleFtrMl0gPSB0cnVlOwogICAgICAgICAgICBncmFwaC5lZGdlcy5wdXNoKHRoaXMuZWRnZXNJbmRleFtrMl0pOwogICAgICAgICAgfQogICAgICB9CgogICAgICAvLyBBZGQgZWRnZXMgY29ubmVjdGluZyB0d28gbmVpZ2hib3JzOgogICAgICBmb3IgKGsxIGluIGxvY2FsTm9kZXNJbmRleCkKICAgICAgICBpZiAoazEgIT09IGNlbnRlcklkKQogICAgICAgICAgZm9yIChrMiBpbiBsb2NhbE5vZGVzSW5kZXgpCiAgICAgICAgICAgIGlmICgKICAgICAgICAgICAgICBrMiAhPT0gY2VudGVySWQgJiYKICAgICAgICAgICAgICBrMSAhPT0gazIgJiYKICAgICAgICAgICAgICB0aGlzLmFsbE5laWdoYm9yc0luZGV4W2sxXVtrMl0KICAgICAgICAgICAgKQogICAgICAgICAgICAgIGZvciAoazMgaW4gdGhpcy5hbGxOZWlnaGJvcnNJbmRleFtrMV1bazJdKQogICAgICAgICAgICAgICAgaWYgKCFsb2NhbEVkZ2VzSW5kZXhbazNdKSB7CiAgICAgICAgICAgICAgICAgIGxvY2FsRWRnZXNJbmRleFtrM10gPSB0cnVlOwogICAgICAgICAgICAgICAgICBncmFwaC5lZGdlcy5wdXNoKHRoaXMuZWRnZXNJbmRleFtrM10pOwogICAgICAgICAgICAgICAgfQoKICAgICAgLy8gRmluYWxseSwgbGV0J3MgcmV0dXJuIHRoZSBmaW5hbCBncmFwaDoKICAgICAgcmV0dXJuIGdyYXBoOwogICAgfQogICk7CgogIHNpZ21hLnV0aWxzLnBrZygnc2lnbWEucGx1Z2lucycpOwoKICAvKioKICAgKiBzaWdtYS5wbHVnaW5zLm5laWdoYm9yaG9vZHMgY29uc3RydWN0b3IuCiAgICovCiAgc2lnbWEucGx1Z2lucy5uZWlnaGJvcmhvb2RzID0gZnVuY3Rpb24oKSB7CiAgICB2YXIgcmVhZHkgPSBmYWxzZSwKICAgICAgICByZWFkeUNhbGxiYWNrcyA9IFtdLAogICAgICAgIGdyYXBoID0gbmV3IHNpZ21hLmNsYXNzZXMuZ3JhcGgoKTsKCiAgICAvKioKICAgICAqIFRoaXMgbWV0aG9kIGp1c3QgcmV0dXJucyB0aGUgbmVpZ2hib3Job29kIG9mIGEgbm9kZS4KICAgICAqCiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9IGNlbnRlck5vZGVJRCBUaGUgSUQgb2YgdGhlIGNlbnRlciBub2RlLgogICAgICogQHJldHVybiB7b2JqZWN0fSAgICAgICAgICAgICAgUmV0dXJucyB0aGUgbmVpZ2hib3Job29kLgogICAgICovCiAgICB0aGlzLm5laWdoYm9yaG9vZCA9IGZ1bmN0aW9uKGNlbnRlck5vZGVJRCkgewogICAgICByZXR1cm4gZ3JhcGgubmVpZ2hib3Job29kKGNlbnRlck5vZGVJRCk7CiAgICB9OwoKICAgIC8qKgogICAgICogVGhpcyBtZXRob2QgbG9hZHMgdGhlIEpTT04gZ3JhcGggYXQgInBhdGgiLCBzdG9yZXMgaXQgaW4gdGhlIGxvY2FsIGdyYXBoCiAgICAgKiBpbnN0YW5jZSwgYW5kIGV4ZWN1dGVzIHRoZSBjYWxsYmFjay4KICAgICAqCiAgICAgKiBAcGFyYW0ge3N0cmluZ30gICAgcGF0aCAgICAgVGhlIHBhdGggb2YgdGhlIEpTT04gZ3JhcGggZmlsZS4KICAgICAqIEBwYXJhbSB7P2Z1bmN0aW9ufSBjYWxsYmFjayBFdmVudHVhbGx5IGEgY2FsbGJhY2sgdG8gZXhlY3V0ZS4KICAgICAqLwogICAgdGhpcy5sb2FkID0gZnVuY3Rpb24ocGF0aCwgY2FsbGJhY2spIHsKICAgICAgLy8gUXVpY2sgWEhSIHBvbHlmaWxsOgogICAgICB2YXIgeGhyID0gKGZ1bmN0aW9uKCkgewogICAgICAgIGlmICh3aW5kb3cuWE1MSHR0cFJlcXVlc3QpCiAgICAgICAgICByZXR1cm4gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7CgogICAgICAgIHZhciBuYW1lcywKICAgICAgICAgICAgaTsKCiAgICAgICAgaWYgKHdpbmRvdy5BY3RpdmVYT2JqZWN0KSB7CiAgICAgICAgICBuYW1lcyA9IFsKICAgICAgICAgICAgJ01zeG1sMi5YTUxIVFRQLjYuMCcsCiAgICAgICAgICAgICdNc3htbDIuWE1MSFRUUC4zLjAnLAogICAgICAgICAgICAnTXN4bWwyLlhNTEhUVFAnLAogICAgICAgICAgICAnTWljcm9zb2Z0LlhNTEhUVFAnCiAgICAgICAgICBdOwoKICAgICAgICAgIGZvciAoaSBpbiBuYW1lcykKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICByZXR1cm4gbmV3IEFjdGl2ZVhPYmplY3QobmFtZXNbaV0pOwogICAgICAgICAgICB9IGNhdGNoIChlKSB7fQogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0pKCk7CgogICAgICBpZiAoIXhocikKICAgICAgICB0aHJvdyAnWE1MSHR0cFJlcXVlc3Qgbm90IHN1cHBvcnRlZCwgY2Fubm90IGxvYWQgdGhlIGRhdGEuJzsKCiAgICAgIHhoci5vcGVuKCdHRVQnLCBwYXRoLCB0cnVlKTsKICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkgewogICAgICAgIGlmICh4aHIucmVhZHlTdGF0ZSA9PT0gNCkgewogICAgICAgICAgZ3JhcGguY2xlYXIoKS5yZWFkKEpTT04ucGFyc2UoeGhyLnJlc3BvbnNlVGV4dCkpOwoKICAgICAgICAgIGlmIChjYWxsYmFjaykKICAgICAgICAgICAgY2FsbGJhY2soKTsKICAgICAgICB9CiAgICAgIH07CgogICAgICAvLyBTdGFydCBsb2FkaW5nIHRoZSBmaWxlOgogICAgICB4aHIuc2VuZCgpOwoKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9OwoKICAgIC8qKgogICAgICogVGhpcyBtZXRob2QgY2xlYW5zIHRoZSBncmFwaCBpbnN0YW5jZSAicmVhZHMiIGEgZ3JhcGggaW50byBpdC4KICAgICAqCiAgICAgKiBAcGFyYW0ge29iamVjdH0gZyBUaGUgZ3JhcGggb2JqZWN0IHRvIHJlYWQuCiAgICAgKi8KICAgIHRoaXMucmVhZCA9IGZ1bmN0aW9uKGcpIHsKICAgICAgZ3JhcGguY2xlYXIoKS5yZWFkKGcpOwogICAgfTsKICB9Owp9KS5jYWxsKHdpbmRvdyk7Cg=="></script>
<script src="data:application/x-javascript;base64,OyhmdW5jdGlvbih1bmRlZmluZWQpIHsKICAndXNlIHN0cmljdCc7CgogIGlmICh0eXBlb2Ygc2lnbWEgPT09ICd1bmRlZmluZWQnKQogICAgdGhyb3cgJ3NpZ21hIGlzIG5vdCBkZWNsYXJlZCc7CgogIC8vIEluaXRpYWxpemUgcGFja2FnZToKICBzaWdtYS51dGlscy5wa2coJ3NpZ21hLnBsdWdpbnMnKTsKCiAgLy8gQWRkIGN1c3RvbSBncmFwaCBtZXRob2RzOgogIC8qKgogICAqIFRoaXMgbWV0aG9kcyByZXR1cm5zIGFuIGFycmF5IG9mIG5vZGVzIHRoYXQgYXJlIGFkamFjZW50IHRvIGEgbm9kZS4KICAgKgogICAqIEBwYXJhbSAge3N0cmluZ30gaWQgVGhlIG5vZGUgaWQuCiAgICogQHJldHVybiB7YXJyYXl9ICAgICBUaGUgYXJyYXkgb2YgYWRqYWNlbnQgbm9kZXMuCiAgICovCiAgaWYgKCFzaWdtYS5jbGFzc2VzLmdyYXBoLmhhc01ldGhvZCgnYWRqYWNlbnROb2RlcycpKQogICAgc2lnbWEuY2xhc3Nlcy5ncmFwaC5hZGRNZXRob2QoJ2FkamFjZW50Tm9kZXMnLCBmdW5jdGlvbihpZCkgewogICAgICBpZiAodHlwZW9mIGlkICE9PSAnc3RyaW5nJykKICAgICAgICB0aHJvdyAnYWRqYWNlbnROb2RlczogdGhlIG5vZGUgaWQgbXVzdCBiZSBhIHN0cmluZy4nOwoKICAgICAgdmFyIHRhcmdldCwKICAgICAgICAgIG5vZGVzID0gW107CiAgICAgIGZvcih0YXJnZXQgaW4gdGhpcy5hbGxOZWlnaGJvcnNJbmRleFtpZF0pIHsKICAgICAgICBub2Rlcy5wdXNoKHRoaXMubm9kZXNJbmRleFt0YXJnZXRdKTsKICAgICAgfQogICAgICByZXR1cm4gbm9kZXM7CiAgICB9KTsKCiAgLyoqCiAgICogVGhpcyBtZXRob2RzIHJldHVybnMgYW4gYXJyYXkgb2YgZWRnZXMgdGhhdCBhcmUgYWRqYWNlbnQgdG8gYSBub2RlLgogICAqCiAgICogQHBhcmFtICB7c3RyaW5nfSBpZCBUaGUgbm9kZSBpZC4KICAgKiBAcmV0dXJuIHthcnJheX0gICAgIFRoZSBhcnJheSBvZiBhZGphY2VudCBlZGdlcy4KICAgKi8KICBpZiAoIXNpZ21hLmNsYXNzZXMuZ3JhcGguaGFzTWV0aG9kKCdhZGphY2VudEVkZ2VzJykpCiAgICBzaWdtYS5jbGFzc2VzLmdyYXBoLmFkZE1ldGhvZCgnYWRqYWNlbnRFZGdlcycsIGZ1bmN0aW9uKGlkKSB7CiAgICAgIGlmICh0eXBlb2YgaWQgIT09ICdzdHJpbmcnKQogICAgICAgIHRocm93ICdhZGphY2VudEVkZ2VzOiB0aGUgbm9kZSBpZCBtdXN0IGJlIGEgc3RyaW5nLic7CgogICAgICB2YXIgYSA9IHRoaXMuYWxsTmVpZ2hib3JzSW5kZXhbaWRdLAogICAgICAgICAgZWlkLAogICAgICAgICAgdGFyZ2V0LAogICAgICAgICAgZWRnZXMgPSBbXTsKICAgICAgZm9yKHRhcmdldCBpbiBhKSB7CiAgICAgICAgZm9yKGVpZCBpbiBhW3RhcmdldF0pIHsKICAgICAgICAgIGVkZ2VzLnB1c2goYVt0YXJnZXRdW2VpZF0pOwogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4gZWRnZXM7CiAgICB9KTsKCiAgLyoqCiAgICogU2lnbWEgRmlsdGVyCiAgICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgKgogICAqIEBhdXRob3IgU8OpYmFzdGllbiBIZXltYW5uIDxzZWJAbGlua3VyaW8udXM+IChMaW5rdXJpb3VzKQogICAqIEB2ZXJzaW9uIDAuMQogICAqLwoKICAgdmFyIF9nID0gdW5kZWZpbmVkLAogICAgICAgX3MgPSB1bmRlZmluZWQsCiAgICAgICBfY2hhaW4gPSBbXSwgLy8gY2hhaW4gb2Ygd3JhcHBlZCBmaWx0ZXJzCiAgICAgICBfa2V5c0luZGV4ID0gT2JqZWN0LmNyZWF0ZShudWxsKSwKICAgICAgIFByb2Nlc3NvcnMgPSB7fTsgICAvLyBhdmFpbGFibGUgcHJlZGljYXRlIHByb2Nlc3NvcnMKCgogIC8qKgogICAqIExpYnJhcnkgb2YgcHJvY2Vzc29ycwogICAqIC0tLS0tLS0tLS0tLS0tLS0tLQogICAqLwoKICAgLyoqCiAgICAqCiAgICAqIEBwYXJhbSAge2Z1bmN0aW9ufSBmbiBUaGUgcHJlZGljYXRlLgogICAgKi8KICBQcm9jZXNzb3JzLm5vZGVzID0gZnVuY3Rpb24gbm9kZXMoZm4pIHsKICAgIHZhciBuID0gX2cubm9kZXMoKSwKICAgICAgICBsbiA9IG4ubGVuZ3RoLAogICAgICAgIGUgPSBfZy5lZGdlcygpLAogICAgICAgIGxlID0gZS5sZW5ndGg7CgogICAgLy8gaGlkZSBub2RlLCBvciBrZWVwIGZvcm1lciB2YWx1ZQogICAgd2hpbGUobG4tLSkKICAgICAgbltsbl0uaGlkZGVuID0gIWZuLmNhbGwoX2csIG5bbG5dKSB8fCBuW2xuXS5oaWRkZW47CgogICAgd2hpbGUobGUtLSkKICAgICAgaWYgKF9nLm5vZGVzKGVbbGVdLnNvdXJjZSkuaGlkZGVuIHx8IF9nLm5vZGVzKGVbbGVdLnRhcmdldCkuaGlkZGVuKQogICAgICAgIGVbbGVdLmhpZGRlbiA9IHRydWU7CiAgfTsKCiAgIC8qKgogICAgKgogICAgKiBAcGFyYW0gIHtmdW5jdGlvbn0gZm4gVGhlIHByZWRpY2F0ZS4KICAgICovCiAgUHJvY2Vzc29ycy5lZGdlcyA9IGZ1bmN0aW9uIGVkZ2VzKGZuKSB7CiAgICB2YXIgZSA9IF9nLmVkZ2VzKCksCiAgICAgICAgbGUgPSBlLmxlbmd0aDsKCiAgICAvLyBoaWRlIGVkZ2UsIG9yIGtlZXAgZm9ybWVyIHZhbHVlCiAgICB3aGlsZShsZS0tKQogICAgICBlW2xlXS5oaWRkZW4gPSAhZm4uY2FsbChfZywgZVtsZV0pIHx8IGVbbGVdLmhpZGRlbjsKICB9OwoKICAgLyoqCiAgICAqCiAgICAqIEBwYXJhbSAge3N0cmluZ30gaWQgVGhlIGNlbnRlciBub2RlLgogICAgKi8KICBQcm9jZXNzb3JzLm5laWdoYm9ycyA9IGZ1bmN0aW9uIG5laWdoYm9ycyhpZCkgewogICAgdmFyIG4gPSBfZy5ub2RlcygpLAogICAgICAgIGxuID0gbi5sZW5ndGgsCiAgICAgICAgZSA9IF9nLmVkZ2VzKCksCiAgICAgICAgbGUgPSBlLmxlbmd0aCwKICAgICAgICBuZWlnaGJvcnMgPSBfZy5hZGphY2VudE5vZGVzKGlkKSwKICAgICAgICBubiA9IG5laWdoYm9ycy5sZW5ndGgsCiAgICAgICAgbm8gPSB7fTsKCiAgICB3aGlsZShubi0tKQogICAgICBub1tuZWlnaGJvcnNbbm5dLmlkXSA9IHRydWU7CgogICAgd2hpbGUobG4tLSkKICAgICAgaWYgKG5bbG5dLmlkICE9PSBpZCAmJiAhKG5bbG5dLmlkIGluIG5vKSkKICAgICAgICBuW2xuXS5oaWRkZW4gPSB0cnVlOwoKICAgIHdoaWxlKGxlLS0pCiAgICAgIGlmIChfZy5ub2RlcyhlW2xlXS5zb3VyY2UpLmhpZGRlbiB8fCBfZy5ub2RlcyhlW2xlXS50YXJnZXQpLmhpZGRlbikKICAgICAgICBlW2xlXS5oaWRkZW4gPSB0cnVlOwogIH07CgoKICAvKioKICAgKiBUaGlzIGZ1bmN0aW9uIGFkZHMgYSBmaWx0ZXIgdG8gdGhlIGNoYWluIG9mIGZpbHRlcnMuCiAgICoKICAgKiBAcGFyYW0gIHtmdW5jdGlvbn0gZm4gIFRoZSBmaWx0ZXIgKGkuZS4gcHJlZGljYXRlIHByb2Nlc3NvcikuCiAgICogQHBhcmFtICB7ZnVuY3Rpb259IHAgICBUaGUgcHJlZGljYXRlLgogICAqIEBwYXJhbSAgez9zdHJpbmd9ICBrZXkgVGhlIGtleSB0byBpZGVudGlmeSB0aGUgZmlsdGVyLgogICAqLwogIGZ1bmN0aW9uIHJlZ2lzdGVyKGZuLCBwLCBrZXkpIHsKICAgIGlmIChrZXkgIT0gdW5kZWZpbmVkICYmIHR5cGVvZiBrZXkgIT09ICdzdHJpbmcnKQogICAgICB0aHJvdyAnVGhlIGZpbHRlciBrZXkgIicrIGtleS50b1N0cmluZygpICsnIiBtdXN0IGJlIGEgc3RyaW5nLic7CgogICAgaWYgKGtleSAhPSB1bmRlZmluZWQgJiYgIWtleS5sZW5ndGgpCiAgICAgIHRocm93ICdUaGUgZmlsdGVyIGtleSBtdXN0IGJlIGEgbm9uLWVtcHR5IHN0cmluZy4nOwoKICAgIGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpCiAgICAgIHRocm93ICdUaGUgcHJlZGljYXRlIG9mIGtleSAiJysga2V5ICsnIiBtdXN0IGJlIGEgZnVuY3Rpb24uJzsKCiAgICBpZiAoJ3VuZG8nID09PSBrZXkpCiAgICAgIHRocm93ICcidW5kbyIgaXMgYSByZXNlcnZlZCBrZXkuJzsKCiAgICBpZiAoX2tleXNJbmRleFtrZXldKQogICAgICB0aHJvdyAnVGhlIGZpbHRlciAiJyArIGtleSArICciIGFscmVhZHkgZXhpc3RzLic7CgogICAgaWYgKGtleSkKICAgICAgX2tleXNJbmRleFtrZXldID0gdHJ1ZTsKCiAgICBfY2hhaW4ucHVzaCh7CiAgICAgICdrZXknOiBrZXksCiAgICAgICdwcm9jZXNzb3InOiBmbiwKICAgICAgJ3ByZWRpY2F0ZSc6IHAKICAgIH0pOwogIH07CgogIC8qKgogICAqIFRoaXMgZnVuY3Rpb24gcmVtb3ZlcyBhIHNldCBvZiBmaWx0ZXJzIGZyb20gdGhlIGNoYWluLgogICAqCiAgICogQHBhcmFtIHtvYmplY3R9IG8gVGhlIGZpbHRlciBrZXlzLgogICAqLwogIGZ1bmN0aW9uIHVucmVnaXN0ZXIgKG8pIHsKICAgIF9jaGFpbiA9IF9jaGFpbi5maWx0ZXIoZnVuY3Rpb24oYSkgewogICAgICByZXR1cm4gIShhLmtleSBpbiBvKTsKICAgIH0pOwoKICAgIGZvcih2YXIga2V5IGluIG8pCiAgICAgIGRlbGV0ZSBfa2V5c0luZGV4W2tleV07CiAgfTsKCgoKCiAgLyoqCiAgICogRmlsdGVyIE9iamVjdAogICAqIC0tLS0tLS0tLS0tLS0tLS0tLQogICAqIEBwYXJhbSAge3NpZ21hfSBzIFRoZSByZWxhdGVkIHNpZ21hIGluc3RhbmNlLgogICAqLwogIGZ1bmN0aW9uIEZpbHRlcihzKSB7CiAgICBfcyA9IHM7CiAgICBfZyA9IHMuZ3JhcGg7CiAgfTsKCgogIC8qKgogICAqIFRoaXMgbWV0aG9kIGlzIHVzZWQgdG8gZmlsdGVyIHRoZSBub2Rlcy4gVGhlIG1ldGhvZCBtdXN0IGJlIGNhbGxlZCB3aXRoCiAgICogdGhlIHByZWRpY2F0ZSwgd2hpY2ggaXMgYSBmdW5jdGlvbiB0aGF0IHRha2VzIGEgbm9kZSBhcyBhcmd1bWVudCBhbmQKICAgKiByZXR1cm5zIGEgYm9vbGVhbi4gSXQgbWF5IHRha2UgYW4gaWRlbnRpZmllciBhcyBhcmd1bWVudCB0byB1bmRvIHRoZQogICAqIGZpbHRlciBsYXRlci4gVGhlIG1ldGhvZCB3cmFwcyB0aGUgcHJlZGljYXRlIGludG8gYW4gYW5vbnltb3VzIGZ1bmN0aW9uCiAgICogdGhhdCBsb29rcyB0aHJvdWdoIGVhY2ggbm9kZSBpbiB0aGUgZ3JhcGguIFdoZW4gZXhlY3V0ZWQsIHRoZSBhbm9ueW1vdXMKICAgKiBmdW5jdGlvbiBoaWRlcyB0aGUgbm9kZXMgdGhhdCBmYWlsIGEgdHJ1dGggdGVzdCAocHJlZGljYXRlKS4gVGhlIG1ldGhvZAogICAqIGFkZHMgdGhlIGFub255bW91cyBmdW5jdGlvbiB0byB0aGUgY2hhaW4gb2YgZmlsdGVycy4gVGhlIGZpbHRlciBpcyBub3QKICAgKiBleGVjdXRlZCB1bnRpbCB0aGUgYXBwbHkoKSBtZXRob2QgaXMgY2FsbGVkLgogICAqCiAgICogPiB2YXIgZmlsdGVyID0gbmV3IHNpZ21hLnBsdWdpbnMuZmlsdGVyKHMpOwogICAqID4gZmlsdGVyLm5vZGVzQnkoZnVuY3Rpb24obikgewogICAqID4gICByZXR1cm4gdGhpcy5kZWdyZWUobi5pZCkgPiAwOwogICAqID4gfSwgJ2RlZ3JlZU5vdE51bGwnKTsKICAgKgogICAqIEBwYXJhbSAge2Z1bmN0aW9ufSAgICAgICAgICAgICBmbiAgVGhlIGZpbHRlciBwcmVkaWNhdGUuCiAgICogQHBhcmFtICB7P3N0cmluZ30gICAgICAgICAgICAgIGtleSBUaGUga2V5IHRvIGlkZW50aWZ5IHRoZSBmaWx0ZXIuCiAgICogQHJldHVybiB7c2lnbWEucGx1Z2lucy5maWx0ZXJ9ICAgICBSZXR1cm5zIHRoZSBpbnN0YW5jZS4KICAgKi8KICBGaWx0ZXIucHJvdG90eXBlLm5vZGVzQnkgPSBmdW5jdGlvbihmbiwga2V5KSB7CiAgICAvLyBXcmFwIHRoZSBwcmVkaWNhdGUgdG8gYmUgYXBwbGllZCBvbiB0aGUgZ3JhcGggYW5kIGFkZCBpdCB0byB0aGUgY2hhaW4uCiAgICByZWdpc3RlcihQcm9jZXNzb3JzLm5vZGVzLCBmbiwga2V5KTsKCiAgICByZXR1cm4gdGhpczsKICB9OwoKICAvKioKICAgKiBUaGlzIG1ldGhvZCBpcyB1c2VkIHRvIGZpbHRlciB0aGUgZWRnZXMuIFRoZSBtZXRob2QgbXVzdCBiZSBjYWxsZWQgd2l0aAogICAqIHRoZSBwcmVkaWNhdGUsIHdoaWNoIGlzIGEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhIG5vZGUgYXMgYXJndW1lbnQgYW5kCiAgICogcmV0dXJucyBhIGJvb2xlYW4uIEl0IG1heSB0YWtlIGFuIGlkZW50aWZpZXIgYXMgYXJndW1lbnQgdG8gdW5kbyB0aGUKICAgKiBmaWx0ZXIgbGF0ZXIuIFRoZSBtZXRob2Qgd3JhcHMgdGhlIHByZWRpY2F0ZSBpbnRvIGFuIGFub255bW91cyBmdW5jdGlvbgogICAqIHRoYXQgbG9va3MgdGhyb3VnaCBlYWNoIGVkZ2UgaW4gdGhlIGdyYXBoLiBXaGVuIGV4ZWN1dGVkLCB0aGUgYW5vbnltb3VzCiAgICogZnVuY3Rpb24gaGlkZXMgdGhlIGVkZ2VzIHRoYXQgZmFpbCBhIHRydXRoIHRlc3QgKHByZWRpY2F0ZSkuIFRoZSBtZXRob2QKICAgKiBhZGRzIHRoZSBhbm9ueW1vdXMgZnVuY3Rpb24gdG8gdGhlIGNoYWluIG9mIGZpbHRlcnMuIFRoZSBmaWx0ZXIgaXMgbm90CiAgICogZXhlY3V0ZWQgdW50aWwgdGhlIGFwcGx5KCkgbWV0aG9kIGlzIGNhbGxlZC4KICAgKgogICAqID4gdmFyIGZpbHRlciA9IG5ldyBzaWdtYS5wbHVnaW5zLmZpbHRlcihzKTsKICAgKiA+IGZpbHRlci5lZGdlc0J5KGZ1bmN0aW9uKGUpIHsKICAgKiA+ICAgcmV0dXJuIGUuc2l6ZSA+IDE7CiAgICogPiB9LCAnZWRnZVNpemUnKTsKICAgKgogICAqIEBwYXJhbSAge2Z1bmN0aW9ufSAgICAgICAgICAgICBmbiAgVGhlIGZpbHRlciBwcmVkaWNhdGUuCiAgICogQHBhcmFtICB7P3N0cmluZ30gICAgICAgICAgICAgIGtleSBUaGUga2V5IHRvIGlkZW50aWZ5IHRoZSBmaWx0ZXIuCiAgICogQHJldHVybiB7c2lnbWEucGx1Z2lucy5maWx0ZXJ9ICAgICBSZXR1cm5zIHRoZSBpbnN0YW5jZS4KICAgKi8KICBGaWx0ZXIucHJvdG90eXBlLmVkZ2VzQnkgPSBmdW5jdGlvbihmbiwga2V5KSB7CiAgICAvLyBXcmFwIHRoZSBwcmVkaWNhdGUgdG8gYmUgYXBwbGllZCBvbiB0aGUgZ3JhcGggYW5kIGFkZCBpdCB0byB0aGUgY2hhaW4uCiAgICByZWdpc3RlcihQcm9jZXNzb3JzLmVkZ2VzLCBmbiwga2V5KTsKCiAgICByZXR1cm4gdGhpczsKICB9OwoKICAvKioKICAgKiBUaGlzIG1ldGhvZCBpcyB1c2VkIHRvIGZpbHRlciB0aGUgbm9kZXMgd2hpY2ggYXJlIG5vdCBkaXJlY3QgY29ubmVjdGlvbnMKICAgKiBvZiBhIGdpdmVuIG5vZGUuIFRoZSBtZXRob2QgbXVzdCBiZSBjYWxsZWQgd2l0aCB0aGUgbm9kZSBpZGVudGlmaWVyLiBJdAogICAqIG1heSB0YWtlIGFuIGlkZW50aWZpZXIgYXMgYXJndW1lbnQgdG8gdW5kbyB0aGUgZmlsdGVyIGxhdGVyLiBUaGUgZmlsdGVyCiAgICogaXMgbm90IGV4ZWN1dGVkIHVudGlsIHRoZSBhcHBseSgpIG1ldGhvZCBpcyBjYWxsZWQuCiAgICoKICAgKiA+IHZhciBmaWx0ZXIgPSBuZXcgc2lnbWEucGx1Z2lucy5maWx0ZXIocyk7CiAgICogPiBmaWx0ZXIubmVpZ2hib3JzT2YoJ24wJyk7CiAgICoKICAgKiBAcGFyYW0gIHtzdHJpbmd9ICAgICAgICAgICAgICAgaWQgIFRoZSBub2RlIGlkLgogICAqIEBwYXJhbSAgez9zdHJpbmd9ICAgICAgICAgICAgICBrZXkgVGhlIGtleSB0byBpZGVudGlmeSB0aGUgZmlsdGVyLgogICAqIEByZXR1cm4ge3NpZ21hLnBsdWdpbnMuZmlsdGVyfSAgICAgUmV0dXJucyB0aGUgaW5zdGFuY2UuCiAgICovCiAgRmlsdGVyLnByb3RvdHlwZS5uZWlnaGJvcnNPZiA9IGZ1bmN0aW9uKGlkLCBrZXkpIHsKICAgIGlmICh0eXBlb2YgaWQgIT09ICdzdHJpbmcnKQogICAgICB0aHJvdyAnVGhlIG5vZGUgaWQgIicrIGlkLnRvU3RyaW5nKCkgKyciIG11c3QgYmUgYSBzdHJpbmcuJzsKICAgIGlmICghaWQubGVuZ3RoKQogICAgICB0aHJvdyAnVGhlIG5vZGUgaWQgbXVzdCBiZSBhIG5vbi1lbXB0eSBzdHJpbmcuJzsKCiAgICAvLyBXcmFwIHRoZSBwcmVkaWNhdGUgdG8gYmUgYXBwbGllZCBvbiB0aGUgZ3JhcGggYW5kIGFkZCBpdCB0byB0aGUgY2hhaW4uCiAgICByZWdpc3RlcihQcm9jZXNzb3JzLm5laWdoYm9ycywgaWQsIGtleSk7CgogICAgcmV0dXJuIHRoaXM7CiAgfTsKCiAgLyoqCiAgICogVGhpcyBtZXRob2QgaXMgdXNlZCB0byBleGVjdXRlIHRoZSBjaGFpbiBvZiBmaWx0ZXJzIGFuZCB0byByZWZyZXNoIHRoZQogICAqIGRpc3BsYXkuCiAgICoKICAgKiA+IHZhciBmaWx0ZXIgPSBuZXcgc2lnbWEucGx1Z2lucy5maWx0ZXIocyk7CiAgICogPiBmaWx0ZXIKICAgKiA+ICAgLm5vZGVzQnkoZnVuY3Rpb24obikgewogICAqID4gICAgIHJldHVybiB0aGlzLmRlZ3JlZShuLmlkKSA+IDA7CiAgICogPiAgIH0sICdkZWdyZWVOb3ROdWxsJykKICAgKiA+ICAgLmFwcGx5KCk7CiAgICoKICAgKiBAcmV0dXJuIHtzaWdtYS5wbHVnaW5zLmZpbHRlcn0gICAgICBSZXR1cm5zIHRoZSBpbnN0YW5jZS4KICAgKi8KICBGaWx0ZXIucHJvdG90eXBlLmFwcGx5ID0gZnVuY3Rpb24oKSB7CiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gX2NoYWluLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7CiAgICAgIF9jaGFpbltpXS5wcm9jZXNzb3IoX2NoYWluW2ldLnByZWRpY2F0ZSk7CiAgICB9OwoKICAgIGlmIChfY2hhaW5bMF0gJiYgJ3VuZG8nID09PSBfY2hhaW5bMF0ua2V5KSB7CiAgICAgIF9jaGFpbi5zaGlmdCgpOwogICAgfQoKICAgIF9zLnJlZnJlc2goKTsKCiAgICByZXR1cm4gdGhpczsKICB9OwoKICAvKioKICAgKiBUaGlzIG1ldGhvZCB1bmRvZXMgb25lIG9yIHNldmVyYWwgZmlsdGVycywgZGVwZW5kaW5nIG9uIGhvdyBpdCBpcyBjYWxsZWQuCiAgICoKICAgKiBUbyB1bmRvIGFsbCBmaWx0ZXJzLCBjYWxsICJ1bmRvIiB3aXRob3V0IGFyZ3VtZW50LiBUbyB1bmRvIGEgc3BlY2lmaWMKICAgKiBmaWx0ZXIsIGNhbGwgaXQgd2l0aCB0aGUga2V5IG9mIHRoZSBmaWx0ZXIuIFRvIHVuZG8gbXVsdGlwbGUgZmlsdGVycywgY2FsbAogICAqIGl0IHdpdGggYW4gYXJyYXkgb2Yga2V5cyBvciBtdWx0aXBsZSBhcmd1bWVudHMsIGFuZCBpdCB3aWxsIHVuZG8gZWFjaAogICAqIGZpbHRlciwgaW4gdGhlIHNhbWUgb3JkZXIuIFRoZSB1bmRvIGlzIG5vdCBleGVjdXRlZCB1bnRpbCB0aGUgYXBwbHkoKQogICAqIG1ldGhvZCBpcyBjYWxsZWQuIEZvciBpbnN0YW5jZToKICAgKgogICAqID4gdmFyIGZpbHRlciA9IG5ldyBzaWdtYS5wbHVnaW5zLmZpbHRlcihzKTsKICAgKiA+IGZpbHRlcgogICAqID4gICAubm9kZXNCeShmdW5jdGlvbihuKSB7CiAgICogPiAgICAgcmV0dXJuIHRoaXMuZGVncmVlKG4uaWQpID4gMDsKICAgKiA+ICAgfSwgJ2RlZ3JlZU5vdE51bGwnKTsKICAgKiA+ICAgLmVkZ2VzQnkoZnVuY3Rpb24oZSkgewogICAqID4gICAgIHJldHVybiBlLnNpemUgPiAxOwogICAqID4gICB9LCAnZWRnZVNpemUnKQogICAqID4gICAudW5kbygpOwogICAqCiAgICogT3RoZXIgZXhhbXBsZXM6CiAgICogPiBmaWx0ZXIudW5kbygpOwogICAqID4gZmlsdGVyLnVuZG8oJ215ZmlsdGVyJyk7CiAgICogPiBmaWx0ZXIudW5kbyhbJ215ZmlsdGVyMScsICdteWZpbHRlcjInXSk7CiAgICogPiBmaWx0ZXIudW5kbygnbXlmaWx0ZXIxJywgJ215ZmlsdGVyMicpOwogICAqCiAgICogQHBhcmFtICB7PyhzdHJpbmd8YXJyYXl8KnN0cmluZykpfSB2IEV2ZW50dWFsbHkgb25lIGtleSwgYW4gYXJyYXkgb2Yga2V5cy4KICAgKiBAcmV0dXJuIHtzaWdtYS5wbHVnaW5zLmZpbHRlcn0gICAgICAgUmV0dXJucyB0aGUgaW5zdGFuY2UuCiAgICovCiAgRmlsdGVyLnByb3RvdHlwZS51bmRvID0gZnVuY3Rpb24odikgewogICAgdmFyIHEgPSBPYmplY3QuY3JlYXRlKG51bGwpLAogICAgICAgIGxhID0gYXJndW1lbnRzLmxlbmd0aDsKCiAgICAvLyBmaW5kIHJlbW92YWJsZSBmaWx0ZXJzCiAgICBpZiAobGEgPT09IDEpIHsKICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2KSA9PT0gJ1tvYmplY3QgQXJyYXldJykKICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdi5sZW5ndGg7IGkgPCBsZW47IGkrKykKICAgICAgICAgIHFbdltpXV0gPSB0cnVlOwoKICAgICAgZWxzZSAvLyAxIGZpbHRlciBrZXkKICAgICAgICBxW3ZdID0gdHJ1ZTsKCiAgICB9IGVsc2UgaWYgKGxhID4gMSkgewogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhOyBpKyspCiAgICAgICAgcVthcmd1bWVudHNbaV1dID0gdHJ1ZTsKICAgIH0KICAgIGVsc2UKICAgICAgdGhpcy5jbGVhcigpOwoKICAgIHVucmVnaXN0ZXIocSk7CgogICAgZnVuY3Rpb24gcHJvY2Vzc29yKCkgewogICAgICB2YXIgbiA9IF9nLm5vZGVzKCksCiAgICAgICAgICBsbiA9IG4ubGVuZ3RoLAogICAgICAgICAgZSA9IF9nLmVkZ2VzKCksCiAgICAgICAgICBsZSA9IGUubGVuZ3RoOwoKICAgICAgd2hpbGUobG4tLSkKICAgICAgICBuW2xuXS5oaWRkZW4gPSBmYWxzZTsKCiAgICAgIHdoaWxlKGxlLS0pCiAgICAgICAgZVtsZV0uaGlkZGVuID0gZmFsc2U7CiAgICB9OwoKICAgIF9jaGFpbi51bnNoaWZ0KHsKICAgICAgJ2tleSc6ICd1bmRvJywKICAgICAgJ3Byb2Nlc3Nvcic6IHByb2Nlc3NvcgogICAgfSk7CgogICAgcmV0dXJuIHRoaXM7CiAgfTsKCiAgLy8gZmFzdCBkZWVwIGNvcHkgZnVuY3Rpb24KICBmdW5jdGlvbiBkZWVwQ29weShvKSB7CiAgICB2YXIgY29weSA9IE9iamVjdC5jcmVhdGUobnVsbCk7CiAgICBmb3IgKHZhciBpIGluIG8pIHsKICAgICAgaWYgKHR5cGVvZiBvW2ldID09PSAib2JqZWN0IiAmJiBvW2ldICE9PSBudWxsKSB7CiAgICAgICAgY29weVtpXSA9IGRlZXBDb3B5KG9baV0pOwogICAgICB9CiAgICAgIGVsc2UgaWYgKHR5cGVvZiBvW2ldID09PSAiZnVuY3Rpb24iICYmIG9baV0gIT09IG51bGwpIHsKICAgICAgICAvLyBjbG9uZSBmdW5jdGlvbjoKICAgICAgICBldmFsKCIgY29weVtpXSA9ICIgKyAgb1tpXS50b1N0cmluZygpKTsKICAgICAgICAvL2NvcHlbaV0gPSBvW2ldLmJpbmQoX2cpOwogICAgICB9CgogICAgICBlbHNlCiAgICAgICAgY29weVtpXSA9IG9baV07CiAgICB9CiAgICByZXR1cm4gY29weTsKICB9OwoKICBmdW5jdGlvbiBjbG9uZUNoYWluKGNoYWluKSB7CiAgICAvLyBDbG9uZSB0aGUgYXJyYXkgb2YgZmlsdGVyczoKICAgIHZhciBjb3B5ID0gY2hhaW4uc2xpY2UoMCk7CiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gY29weS5sZW5ndGg7IGkgPCBsZW47IGkrKykgewogICAgICBjb3B5W2ldID0gZGVlcENvcHkoY29weVtpXSk7CiAgICAgIGlmICh0eXBlb2YgY29weVtpXS5wcm9jZXNzb3IgPT09ICJmdW5jdGlvbiIpCiAgICAgICAgY29weVtpXS5wcm9jZXNzb3IgPSAnZmlsdGVyLnByb2Nlc3NvcnMuJyArIGNvcHlbaV0ucHJvY2Vzc29yLm5hbWU7CiAgICB9OwogICAgcmV0dXJuIGNvcHk7CiAgfQoKICAvKioKICAgKiBUaGlzIG1ldGhvZCBpcyB1c2VkIHRvIGVtcHR5IHRoZSBjaGFpbiBvZiBmaWx0ZXJzLgogICAqIFByZWZlciB0aGUgdW5kbygpIG1ldGhvZCB0byByZXNldCBmaWx0ZXJzLgogICAqCiAgICogPiB2YXIgZmlsdGVyID0gbmV3IHNpZ21hLnBsdWdpbnMuZmlsdGVyKHMpOwogICAqID4gZmlsdGVyLmNsZWFyKCk7CiAgICoKICAgKiBAcmV0dXJuIHtzaWdtYS5wbHVnaW5zLmZpbHRlcn0gUmV0dXJucyB0aGUgaW5zdGFuY2UuCiAgICovCiAgRmlsdGVyLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uKCkgewogICAgX2NoYWluLmxlbmd0aCA9IDA7IC8vIGNsZWFyIHRoZSBhcnJheQogICAgX2tleXNJbmRleCA9IE9iamVjdC5jcmVhdGUobnVsbCk7CiAgICByZXR1cm4gdGhpczsKICB9OwoKICAvKioKICAgKiBUaGlzIG1ldGhvZCBjbG9uZXMgdGhlIGZpbHRlciBjaGFpbiBhbmQgcmV0dXJuIHRoZSBjb3B5LgogICAqCiAgICogPiB2YXIgZmlsdGVyID0gbmV3IHNpZ21hLnBsdWdpbnMuZmlsdGVyKHMpOwogICAqID4gdmFyIGNoYWluID0gZmlsdGVyLmV4cG9ydCgpOwogICAqCiAgICogQHJldHVybiB7b2JqZWN0fSAgIFRoZSBjbG9uZWQgY2hhaW4gb2YgZmlsdGVycy4KICAgKi8KICBGaWx0ZXIucHJvdG90eXBlLmV4cG9ydCA9IGZ1bmN0aW9uKCkgewogICAgdmFyIGMgPSBjbG9uZUNoYWluKF9jaGFpbik7CiAgICByZXR1cm4gYzsKICB9OwoKICAvKioKICAgKiBUaGlzIG1ldGhvZCBzZXRzIHRoZSBjaGFpbiBvZiBmaWx0ZXJzIHdpdGggdGhlIHNwZWNpZmllZCBjaGFpbi4KICAgKgogICAqID4gdmFyIGZpbHRlciA9IG5ldyBzaWdtYS5wbHVnaW5zLmZpbHRlcihzKTsKICAgKiA+IHZhciBjaGFpbiA9IFsKICAgKiA+ICAgewogICAqID4gICAgIGtleTogJ215LWZpbHRlcicsCiAgICogPiAgICAgcHJlZGljYXRlOiBmdW5jdGlvbihuKSB7Li4ufSwKICAgKiA+ICAgICBwcm9jZXNzb3I6ICdmaWx0ZXIucHJvY2Vzc29ycy5ub2RlcycKICAgKiA+ICAgfSwgLi4uCiAgICogPiBdOwogICAqID4gZmlsdGVyLmltcG9ydChjaGFpbik7CiAgICoKICAgKiBAcGFyYW0ge2FycmF5fSBjaGFpbiBUaGUgY2hhaW4gb2YgZmlsdGVycy4KICAgKiBAcmV0dXJuIHtzaWdtYS5wbHVnaW5zLmZpbHRlcn0gUmV0dXJucyB0aGUgaW5zdGFuY2UuCiAgICovCiAgRmlsdGVyLnByb3RvdHlwZS5pbXBvcnQgPSBmdW5jdGlvbihjaGFpbikgewogICAgaWYgKGNoYWluID09PSB1bmRlZmluZWQpCiAgICAgIHRocm93ICdXcm9uZyBhcmd1bWVudHMuJzsKCiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGNoYWluKSAhPT0gJ1tvYmplY3QgQXJyYXldJykKICAgICAgdGhyb3cgJ1RoZSBjaGFpbiIgbXVzdCBiZSBhbiBhcnJheS4nOwoKICAgIHZhciBjb3B5ID0gY2xvbmVDaGFpbihjaGFpbik7CgogICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGNvcHkubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHsKICAgICAgaWYgKGNvcHlbaV0ucHJlZGljYXRlID09PSB1bmRlZmluZWQgfHwgY29weVtpXS5wcm9jZXNzb3IgPT09IHVuZGVmaW5lZCkKICAgICAgICB0aHJvdyAnV3JvbmcgYXJndW1lbnRzLic7CgogICAgICBpZiAoY29weVtpXS5rZXkgIT0gdW5kZWZpbmVkICYmIHR5cGVvZiBjb3B5W2ldLmtleSAhPT0gJ3N0cmluZycpCiAgICAgICAgdGhyb3cgJ1RoZSBmaWx0ZXIga2V5ICInKyBjb3B5W2ldLmtleS50b1N0cmluZygpICsnIiBtdXN0IGJlIGEgc3RyaW5nLic7CgogICAgICBpZiAodHlwZW9mIGNvcHlbaV0ucHJlZGljYXRlICE9PSAnZnVuY3Rpb24nKQogICAgICAgIHRocm93ICdUaGUgcHJlZGljYXRlIG9mIGtleSAiJysgY29weVtpXS5rZXkgKyciIG11c3QgYmUgYSBmdW5jdGlvbi4nOwoKICAgICAgaWYgKHR5cGVvZiBjb3B5W2ldLnByb2Nlc3NvciAhPT0gJ3N0cmluZycpCiAgICAgICAgdGhyb3cgJ1RoZSBwcm9jZXNzb3Igb2Yga2V5ICInKyBjb3B5W2ldLmtleSArJyIgbXVzdCBiZSBhIHN0cmluZy4nOwoKICAgICAgLy8gUmVwbGFjZSB0aGUgcHJvY2Vzc29yIG5hbWUgYnkgdGhlIGNvcnJlc3BvbmRpbmcgZnVuY3Rpb246CiAgICAgIHN3aXRjaChjb3B5W2ldLnByb2Nlc3NvcikgewogICAgICAgIGNhc2UgJ2ZpbHRlci5wcm9jZXNzb3JzLm5vZGVzJzoKICAgICAgICAgIGNvcHlbaV0ucHJvY2Vzc29yID0gUHJvY2Vzc29ycy5ub2RlczsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJ2ZpbHRlci5wcm9jZXNzb3JzLmVkZ2VzJzoKICAgICAgICAgIGNvcHlbaV0ucHJvY2Vzc29yID0gUHJvY2Vzc29ycy5lZGdlczsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJ2ZpbHRlci5wcm9jZXNzb3JzLm5laWdoYm9ycyc6CiAgICAgICAgICBjb3B5W2ldLnByb2Nlc3NvciA9IFByb2Nlc3NvcnMubmVpZ2hib3JzOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIHRocm93ICdVbmtub3duIHByb2Nlc3NvciAnICsgY29weVtpXS5wcm9jZXNzb3I7CiAgICAgIH0KICAgIH07CgogICAgX2NoYWluID0gY29weTsKCiAgICByZXR1cm4gdGhpczsKICB9OwoKCiAgLyoqCiAgICogSW50ZXJmYWNlCiAgICogLS0tLS0tLS0tLS0tLS0tLS0tCiAgICoKICAgKiA+IHZhciBmaWx0ZXIgPSBuZXcgc2lnbWEucGx1Z2lucy5maWx0ZXIocyk7CiAgICovCiAgdmFyIGZpbHRlciA9IG51bGw7CgogIC8qKgogICAqIEBwYXJhbSAge3NpZ21hfSBzIFRoZSByZWxhdGVkIHNpZ21hIGluc3RhbmNlLgogICAqLwogIHNpZ21hLnBsdWdpbnMuZmlsdGVyID0gZnVuY3Rpb24ocykgewogICAgLy8gQ3JlYXRlIGZpbHRlciBpZiB1bmRlZmluZWQKICAgIGlmICghZmlsdGVyKSB7CiAgICAgIGZpbHRlciA9IG5ldyBGaWx0ZXIocyk7CiAgICB9CiAgICByZXR1cm4gZmlsdGVyOwogIH07Cgp9KS5jYWxsKHRoaXMpOwo="></script>
<script src="data:application/x-javascript;base64,OyhmdW5jdGlvbih1bmRlZmluZWQpIHsKCiAgLyoqCiAgICogU2lnbWEgUmVuZGVyZXIgU25hcHNob3QgVXRpbGl0eQogICAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICoKICAgKiBUaGUgYWltIG9mIHRoaXMgcGx1Z2luIGlzIHRvIGVuYWJsZSB1c2VycyB0byByZXRyaWV2ZSBhIHN0YXRpYyBpbWFnZQogICAqIG9mIHRoZSBncmFwaCBiZWluZyByZW5kZXJlZC4KICAgKgogICAqIEF1dGhvcjogR3VpbGxhdW1lIFBsaXF1ZSAoWW9tZ3VpdGhlcmVhbCkKICAgKiBWZXJzaW9uOiAwLjAuMQogICAqLwoKICAvLyBUZXJtaW5hdGluZyBpZiBzaWdtYSB3ZXJlIG5vdCB0byBiZSBmb3VuZAogIGlmICh0eXBlb2Ygc2lnbWEgPT09ICd1bmRlZmluZWQnKQogICAgdGhyb3cgJ3NpZ21hLnJlbmRlcmVycy5zbmFwc2hvdDogc2lnbWEgbm90IGluIHNjb3BlLic7CgogIC8vIENvbnN0YW50cwogIHZhciBDT05URVhUUyA9IFsnc2NlbmUnLCAnZWRnZXMnLCAnbm9kZXMnLCAnbGFiZWxzJ10sCiAgICAgIFRZUEVTID0gewogICAgICAgIHBuZzogJ2ltYWdlL3BuZycsCiAgICAgICAganBnOiAnaW1hZ2UvanBlZycsCiAgICAgICAgZ2lmOiAnaW1hZ2UvZ2lmJywKICAgICAgICB0aWZmOiAnaW1hZ2UvdGlmZicKICAgICAgfTsKCiAgLy8gVXRpbGl0aWVzCiAgZnVuY3Rpb24gZG93bmxvYWQoZGF0YVVybCwgZXh0ZW5zaW9uLCBmaWxlbmFtZSkgewoKICAgIC8vIEFuY2hvcgogICAgdmFyIGFuY2hvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTsKICAgIGFuY2hvci5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBkYXRhVXJsKTsKICAgIGFuY2hvci5zZXRBdHRyaWJ1dGUoJ2Rvd25sb2FkJywgZmlsZW5hbWUgfHwgJ2dyYXBoLicgKyBleHRlbnNpb24pOwoKICAgIC8vIENsaWNrIGV2ZW50CiAgICB2YXIgZXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnTW91c2VFdmVudCcpOwogICAgZXZlbnQuaW5pdE1vdXNlRXZlbnQoJ2NsaWNrJywgdHJ1ZSwgZmFsc2UsIHdpbmRvdywgMCwgMCwgMCAsMCwgMCwKICAgICAgZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIDAsIG51bGwpOwoKICAgIGFuY2hvci5kaXNwYXRjaEV2ZW50KGV2ZW50KTsKICAgIGRlbGV0ZSBhbmNob3I7CiAgfQoKICAvLyBNYWluIGZ1bmN0aW9uCiAgZnVuY3Rpb24gc25hcHNob3QocGFyYW1zKSB7CiAgICBwYXJhbXMgPSBwYXJhbXMgfHwge307CgogICAgLy8gRW5mb3JjaW5nCiAgICBpZiAocGFyYW1zLmZvcm1hdCAmJiAhKHBhcmFtcy5mb3JtYXQgaW4gVFlQRVMpKQogICAgICB0aHJvdyBFcnJvcignc2lnbWEucmVuZGVyZXJzLnNuYXBob3Q6IHVuc3VwcG9ydGVkIGZvcm1hdCAiJyArCiAgICAgICAgICAgICAgICAgIHBhcmFtcy5mb3JtYXQgKyAnIi4nKTsKCiAgICB2YXIgc2VsZiA9IHRoaXMsCiAgICAgICAgd2ViZ2wgPSB0aGlzIGluc3RhbmNlb2Ygc2lnbWEucmVuZGVyZXJzLndlYmdsLAogICAgICAgIGRvbmVDb250ZXh0cyA9IFtdOwoKICAgIC8vIENyZWF0aW5nIGEgZmFsc2UgY2FudmFzIHdoZXJlIHdlJ2xsIG1lcmdlIHRoZSBvdGhlcgogICAgdmFyIG1lcmdlZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpLAogICAgICAgIG1lcmdlZENvbnRleHQgPSBtZXJnZWQuZ2V0Q29udGV4dCgnMmQnKSwKICAgICAgICBzaXplZCA9IGZhbHNlOwoKICAgIC8vIEl0ZXJhdGluZyB0aHJvdWdoIGNvbnRleHQKICAgIENPTlRFWFRTLmZvckVhY2goZnVuY3Rpb24obmFtZSkgewogICAgICBpZiAoIXNlbGYuY29udGV4dHNbbmFtZV0pCiAgICAgICAgcmV0dXJuOwoKICAgICAgaWYgKHBhcmFtcy5sYWJlbHMgPT09IGZhbHNlICYmIG5hbWUgPT09ICdsYWJlbHMnKQogICAgICAgIHJldHVybjsKCiAgICAgIHZhciBjYW52YXMgPSBzZWxmLmRvbUVsZW1lbnRzW25hbWVdIHx8IHNlbGYuZG9tRWxlbWVudHNbJ3NjZW5lJ10sCiAgICAgICAgICBjb250ZXh0ID0gc2VsZi5jb250ZXh0c1tuYW1lXTsKCiAgICAgIGlmICh+ZG9uZUNvbnRleHRzLmluZGV4T2YoY29udGV4dCkpCiAgICAgICAgcmV0dXJuOwoKICAgICAgaWYgKCFzaXplZCkgewogICAgICAgIG1lcmdlZC53aWR0aCA9IHdlYmdsICYmIGNvbnRleHQgaW5zdGFuY2VvZiBXZWJHTFJlbmRlcmluZ0NvbnRleHQgPwogICAgICAgICBjYW52YXMud2lkdGggLyAyIDoKICAgICAgICAgY2FudmFzLndpZHRoOwogICAgICAgIG1lcmdlZC5oZWlnaHQgPSB3ZWJnbCAmJiBjb250ZXh0IGluc3RhbmNlb2YgV2ViR0xSZW5kZXJpbmdDb250ZXh0ID8KICAgICAgICAgIGNhbnZhcy5oZWlnaHQgLyAyIDoKICAgICAgICAgIGNhbnZhcy5oZWlnaHQKICAgICAgICBzaXplZCA9IHRydWU7CgogICAgICAgIC8vIERvIHdlIHdhbnQgYSBiYWNrZ3JvdW5kIGNvbG9yPwogICAgICAgIGlmIChwYXJhbXMuYmFja2dyb3VuZCkgewogICAgICAgICAgbWVyZ2VkQ29udGV4dC5yZWN0KDAsIDAsIG1lcmdlZC53aWR0aCwgbWVyZ2VkLmhlaWdodCk7CiAgICAgICAgICBtZXJnZWRDb250ZXh0LmZpbGxTdHlsZSA9IHBhcmFtcy5iYWNrZ3JvdW5kOwogICAgICAgICAgbWVyZ2VkQ29udGV4dC5maWxsKCk7CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAoY29udGV4dCBpbnN0YW5jZW9mIFdlYkdMUmVuZGVyaW5nQ29udGV4dCkKICAgICAgICBtZXJnZWRDb250ZXh0LmRyYXdJbWFnZShjYW52YXMsIDAsIDAsCiAgICAgICAgICBjYW52YXMud2lkdGggLyAyLCBjYW52YXMuaGVpZ2h0IC8gMik7CiAgICAgIGVsc2UKICAgICAgICBtZXJnZWRDb250ZXh0LmRyYXdJbWFnZShjYW52YXMsIDAsIDApOwoKICAgICAgZG9uZUNvbnRleHRzLnB1c2goY29udGV4dCk7CiAgICB9KTsKCiAgICB2YXIgZGF0YVVybCA9IG1lcmdlZC50b0RhdGFVUkwoVFlQRVNbcGFyYW1zLmZvcm1hdCB8fCAncG5nJ10pOwoKICAgIGlmIChwYXJhbXMuZG93bmxvYWQpCiAgICAgIGRvd25sb2FkKAogICAgICAgIGRhdGFVcmwsCiAgICAgICAgcGFyYW1zLmZvcm1hdCB8fCAncG5nJywKICAgICAgICBwYXJhbXMuZmlsZW5hbWUKICAgICAgKTsKCiAgICAvLyBDbGVhbmluZwogICAgZGVsZXRlIG1lcmdlZENvbnRleHQ7CiAgICBkZWxldGUgbWVyZ2VkOwogICAgZGVsZXRlIGRvbmVDb250ZXh0czsKCiAgICByZXR1cm4gZGF0YVVybDsKICB9CgogIC8vIEV4dGVuZGluZyBjYW52YXMgYW5kIHdlYmwgcmVuZGVyZXJzCiAgc2lnbWEucmVuZGVyZXJzLmNhbnZhcy5wcm90b3R5cGUuc25hcHNob3QgPSBzbmFwc2hvdDsKICBzaWdtYS5yZW5kZXJlcnMud2ViZ2wucHJvdG90eXBlLnNuYXBzaG90ID0gc25hcHNob3Q7Cn0pLmNhbGwodGhpcyk7Cg=="></script>
<script src="data:application/x-javascript;base64,c2lnbWEuY2xhc3Nlcy5ncmFwaC5hZGRNZXRob2QoJ25laWdoYm9ycycsIGZ1bmN0aW9uKG5vZGVJZCkgewogICAgdmFyIGssCiAgICAgICAgbmVpZ2hib3JzID0ge30sCiAgICAgICAgaW5kZXggPSB0aGlzLmFsbE5laWdoYm9yc0luZGV4W25vZGVJZF0gfHwge307CgogICAgZm9yIChrIGluIGluZGV4KSB7CiAgICAgICAgbmVpZ2hib3JzW2tdID0gdGhpcy5ub2Rlc0luZGV4W2tdOwogICAgfQogICAgcmV0dXJuIG5laWdoYm9yczsKfSk7CgpIVE1MV2lkZ2V0cy53aWRnZXQoewoKICBuYW1lOiAnc2lnbWFqcycsCgogIHR5cGU6ICdvdXRwdXQnLAoKCWZhY3Rvcnk6IGZ1bmN0aW9uIChlbCwgd2lkdGgsIGhlaWdodCkgewoKICAgIHZhciBpbml0aWFsaXplZCA9IGZhbHNlOwoJCXZhciBzLCBjYW0sIHJlbmRlcmVyOwoJCQogICAgdmFyIHNlbF9oYW5kbGUgPSBuZXcgY3Jvc3N0YWxrLlNlbGVjdGlvbkhhbmRsZSgpOwogICAgCiAgICByZXR1cm4gewoKCQkJcmVuZGVyVmFsdWU6IGZ1bmN0aW9uICh4KSB7CgkJCSAgCgkJCSAgdmFyIHdpZGdldCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsLmlkKTsKCQkJICB2YXIgYnV0dG9uID0gd2lkZ2V0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJidXR0b24iKVswXTsKCQkJICBpZih4LmJ1dHRvbi5ldmVudCA9PT0gJ25vbmUnKXsKCQkJICAgIHguYnV0dG9uLmV2ZW50ID0gIm5vbmUiOwoJCQkgICAgCgkJCSAgICBpZih0eXBlb2YgYnV0dG9uICE9PSAidW5kZWZpbmVkIil7CgkJCSAgICAgIHdpZGdldC5yZW1vdmVDaGlsZChidXR0b24pOwoJCQkgICAgfQoJCQkgICAgCgkJCSAgfSBlbHNlIHsKCQkJICAgIGJ1dHRvbi5jbGFzc05hbWUgPSB4LmJ1dHRvbi5jbGFzc05hbWU7CgkJCSAgICBidXR0b24uaW5uZXJIVE1MID0geC5idXR0b24ubGFiZWw7CgkJCSAgfQoKCQkJCS8vIGlmIGdleGYgZmlsZQoJCQkJaWYgKHguaGFzT3duUHJvcGVydHkoJ2dleGYnKSkgewoKCQkJCQkvLyBjcmVhdGUKCQkJCQlzID0gbmV3IHNpZ21hKGVsLmlkKTsKCgkJCQkJaWYoeC5oYXNPd25Qcm9wZXJ0eSgic2V0dGluZ3MiKSl7CgkJCQkJCWZvciAodmFyIG5hbWUgaW4geC5zZXR0aW5ncykKCQkJCQkJCXMuc2V0dGluZ3MobmFtZSwgeC5zZXR0aW5nc1tuYW1lXSk7CgkJCQkJfQoKCQkJCQkvLyBwYXJzZSBHRVhGCgkJCQkJdmFyIHBhcnNlciA9IG5ldyBET01QYXJzZXIoKTsKCQkJCQl2YXIgZGF0YSA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoeC5kYXRhLCAiYXBwbGljYXRpb24veG1sIik7CgoJCQkJCXNpZ21hLnBhcnNlcnMuZ2V4ZihkYXRhLCBzLAoJCQkJCQlmdW5jdGlvbigpIHsKCQkJCQkJICBzLnJlZnJlc2goKTsKCQkJCQkJfQoJCQkJCSk7CgkJCQl9IGVsc2UgewoJCQkJCS8vIGNyZWF0ZQoJCQkJCWlmKCFpbml0aWFsaXplZCl7CgkJCQkJICBpbml0aWFsaXplZCA9IHRydWU7CiAgICAJCQkJcyA9IG5ldyBzaWdtYSh7CiAgICAJCQkJCWdyYXBoOiB4LmRhdGEsCiAgICAJCQkJCXNldHRpbmdzOiB4LnNldHRpbmdzCiAgICAJCQkJfSk7CgkJCQkJfSAKCQkJCQkKCQkJCQlpZih4LmtpbGwgPT09IHRydWUpewoJCQkJCSAgCgkJCQkJICBzLmtpbGwoKTsKCQkJCQkgIAogICAgCQkJCXMgPSBuZXcgc2lnbWEoewogICAgCQkJCQlncmFwaDogeC5kYXRhLAogICAgCQkJCQlzZXR0aW5nczogeC5zZXR0aW5ncwogICAgCQkJCX0pOwoJCQkJCX0KCQkJCQkKCQkJCSAgcmVuZGVyZXIgPSBzLmFkZFJlbmRlcmVyKHsKCQkJCQkJY29udGFpbmVyOiBlbC5pZCwKCQkJCQkJdHlwZTogeC50eXBlCgkJCQkJCQoJCQkJICB9KTsKCQkJCX0KCQkJCQoJCQkJLy8gZm9yY2UgbmVpZ2hib3VycyB0cnVlIGlmIGNyb3NzdGFsayBlbmFibGVkCgkJCQlpZih4LmNyb3NzdGFsay5jcm9zc3RhbGtfa2V5ICE9PSBudWxsICYmICF4Lmhhc093blByb3BlcnR5KCduZWlnaGJvdXJzJykpewoJCQkJICB4Lm5laWdoYm91cnMgPSBbXTsKCQkJCSAgeC5uZWlnaGJvdXJzLmVkZ2VzID0gIiNlZWUiOwoJCQkJICB4Lm5laWdoYm91cnMubm9kZXMgPSAiI2VlZSI7CgkJCQl9CgkJCQkKCQkJCS8vIGhpZ2hsaWdodCBuZWlnaGJvdXJzCgkJCQlpZih4Lmhhc093blByb3BlcnR5KCduZWlnaGJvdXJzJykpewoJCQkJICBkYiA9IG5ldyBzaWdtYS5wbHVnaW5zLm5laWdoYm9yaG9vZHMoKTsKCiAgICAgICAgICBzLmdyYXBoLm5vZGVzKCkuZm9yRWFjaChmdW5jdGlvbihuKSB7CiAgICAgICAgICAgIG4ub3JpZ2luYWxDb2xvciA9IG4uY29sb3I7CiAgICAgICAgICB9KTsKICAgICAgICAgIHMuZ3JhcGguZWRnZXMoKS5mb3JFYWNoKGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgZS5vcmlnaW5hbENvbG9yID0gZS5jb2xvcjsKICAgICAgICAgIH0pOwogICAgICAgICAgcy5iaW5kKCJjbGlja05vZGUiLCBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgIHZhciBub2RlSWQgPSBlLmRhdGEubm9kZS5pZCwKICAgICAgICAgICAgICAgIHRvS2VlcCA9IHMuZ3JhcGgubmVpZ2hib3JzKG5vZGVJZCk7CiAgICAgICAgICAgIHRvS2VlcFtub2RlSWRdID0gZS5kYXRhLm5vZGU7CiAgICAgICAgICAgIHNlbF9oYW5kbGUuc2V0KG5vZGVJZCk7CiAgICAgICAgICAgIHMuZ3JhcGgubm9kZXMoKS5mb3JFYWNoKGZ1bmN0aW9uKG4pIHsKICAgICAgICAgICAgICBpZiAodG9LZWVwW24uaWRdKQogICAgICAgICAgICAgICAgbi5jb2xvciA9IG4ub3JpZ2luYWxDb2xvcjsKICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICBuLmNvbG9yID0geC5uZWlnaGJvdXJzLm5vZGVzOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcy5ncmFwaC5lZGdlcygpLmZvckVhY2goZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgIGlmICh0b0tlZXBbZS5zb3VyY2VdICYmIHRvS2VlcFtlLnRhcmdldF0pCiAgICAgICAgICAgICAgICBlLmNvbG9yID0gZS5vcmlnaW5hbENvbG9yOwogICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgIGUuY29sb3IgPSB4Lm5laWdoYm91cnMuZWRnZXM7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBzLnJlZnJlc2goKTsKICAgICAgICAgIH0pOwogICAgICAgICAgcy5iaW5kKCJjbGlja1N0YWdlIiwgZnVuY3Rpb24oZSkgewogICAgICAgICAgICBzLmdyYXBoLm5vZGVzKCkuZm9yRWFjaChmdW5jdGlvbihuKSB7CiAgICAgICAgICAgICAgbi5jb2xvciA9IG4ub3JpZ2luYWxDb2xvcjsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHMuZ3JhcGguZWRnZXMoKS5mb3JFYWNoKGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICBlLmNvbG9yID0gZS5vcmlnaW5hbENvbG9yOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcy5yZWZyZXNoKCk7CiAgICAgICAgICAgIHNlbF9oYW5kbGUuY2xlYXIoKTsKICAgICAgICAgIH0pOwoJCQkJfQoJCQkJCgogICAgICBzZWxfaGFuZGxlLm9uKCJjaGFuZ2UiLCBmdW5jdGlvbihldikgewogICAgICAgIAogICAgICAgIGlmIChldi5zZW5kZXIgIT09IHNlbF9oYW5kbGUpIHsKICAgICAgICAgIHMuZ3JhcGgubm9kZXMoKS5mb3JFYWNoKGZ1bmN0aW9uKG4pIHsKICAgICAgICAgICAgbi5jb2xvciA9IG4ub3JpZ2luYWxDb2xvcjsKICAgICAgICAgIH0pOwogICAgICAgICAgcy5ncmFwaC5lZGdlcygpLmZvckVhY2goZnVuY3Rpb24oZSkgewogICAgICAgICAgICBlLmNvbG9yID0gZS5vcmlnaW5hbENvbG9yOwogICAgICAgICAgfSk7CiAgICAgICAgICBzLnJlZnJlc2goKTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgaWYgKHR5cGVvZiBldi52YWx1ZVswXSAhPSAndW5kZWZpbmVkJykgewogIAogICAgICAgICAgdmFyIG5vZGVJZCA9IGV2LnZhbHVlWzBdOwogICAgICAgICAgICAgIHRvS2VlcCA9IHMuZ3JhcGgubmVpZ2hib3JzKG5vZGVJZCk7CiAgICAgICAgICB0b0tlZXBbbm9kZUlkXSA9IHMuZ3JhcGgubm9kZXMoU3RyaW5nKG5vZGVJZCkpOwogICAgICAgICAgc2VsX2hhbmRsZS5zZXQobm9kZUlkKTsKICAgICAgICAgIHMuZ3JhcGgubm9kZXMoKS5mb3JFYWNoKGZ1bmN0aW9uKG4pIHsKICAgICAgICAgICAgaWYgKHRvS2VlcFtuLmlkXSkKICAgICAgICAgICAgICBuLmNvbG9yID0gbi5vcmlnaW5hbENvbG9yOwogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgbi5jb2xvciA9IHgubmVpZ2hib3Vycy5ub2RlczsKICAgICAgICAgIH0pOwogICAgICAgICAgcy5ncmFwaC5lZGdlcygpLmZvckVhY2goZnVuY3Rpb24oZSkgewogICAgICAgICAgICBpZiAodG9LZWVwW2Uuc291cmNlXSAmJiB0b0tlZXBbZS50YXJnZXRdKQogICAgICAgICAgICAgIGUuY29sb3IgPSBlLm9yaWdpbmFsQ29sb3I7CiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICBlLmNvbG9yID0geC5uZWlnaGJvdXJzLmVkZ2VzOwogICAgICAgICAgfSk7CiAgICAgICAgICBzLnJlZnJlc2goKTsKICAKICAgICAgICB9CiAgCiAgICAgIH0pOwoKCQkJCS8vIHN0YXJ0IGZvcmNlQXRsYXMKCQkJCWlmICh4Lmhhc093blByb3BlcnR5KCdmb3JjZScpKSB7CgkJCQkgIGlmKHguYnV0dG9uLmV2ZW50LmluZGV4T2YoJ2ZvcmNlJykgPiAtMSB8fCB4LmJ1dHRvbi5ldmVudC5pbmRleE9mKCdmb3JjZV9zdGFydCcpID4gLTEpewoJCQkJICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGZ1bmN0aW9uKGV2ZW50KSB7CgkJCQkgICAgICBzLnN0YXJ0Rm9yY2VBdGxhczIoeC5mb3JjZSk7CgkJCQkgICAgfSk7CgkJCQkgIH0gZWxzZSB7CgkJCQkgICAgcy5zdGFydEZvcmNlQXRsYXMyKHguZm9yY2UpOwoJCQkJICB9CgkJCQl9CgkJCQkKCQkJCS8vIHByb2dyZXNzCgkJCQlpZih4Lmhhc093blByb3BlcnR5KCdwcm9ncmVzc0JhcicpKXsKCQkJCSAgdmFyIGJhciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoeC5wcm9ncmVzc0Jhci5lbGVtZW50KTsKCQkJCSAgYmFyLnN0eWxlLnRleHRBbGlnbiAgPSB4LnByb2dyZXNzQmFyLnBvc2l0aW9uOwoJCQkJICBiYXIuY2xhc3NOYW1lID0geC5wcm9ncmVzc0Jhci5jbGFzczsKCQkJCSAgCgkJCQkgIC8vIHdpZGdldAoJCQkJICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsLmlkKTsKCQkJCSAgCgkJCQkgIGVsZW1lbnQuYXBwZW5kQ2hpbGQoYmFyKTsKCQkJCSAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZnVuY3Rpb24oZXZlbnQpIHsKICAgIAkJCQl4LnByb2dyZXNzQmFyLmRhdGEuZm9yRWFjaCgoZWxlbWVudCkgPT4gewogICAgCQkJCQlzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgIAkJCQkJCWJhci5pbm5lckhUTUwgPSBlbGVtZW50LnRleHQ7CiAgICAJCQkJCX0sIGVsZW1lbnQuZGVsYXkpOwogICAgCQkJCX0pOwoJCQkJICB9KTsKCQkJCX0KCgkJCQkvLyBzdGFydCBub3ZlcmxhcAoJCQkJaWYgKHguaGFzT3duUHJvcGVydHkoJ25vdmVybGFwJykpIHsKCQkJCQl2YXIgbm92ZXJsYXAgPSBzLmNvbmZpZ05vdmVybGFwKHgubm92ZXJsYXApOwoJCQkJCQoJCQkJICBpZih4LmJ1dHRvbi5ldmVudC5pbmRleE9mKCdub3ZlcmxhcCcpID4gLTEpewoJCQkJICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGZ1bmN0aW9uKGV2ZW50KSB7CgkJCQkgICAgICBzLnN0YXJ0Tm92ZXJsYXAoKTsKCQkJCSAgICB9KTsKCQkJCSAgfSBlbHNlIHsKCQkJCSAgICBzLnN0YXJ0Tm92ZXJsYXAoKTsKCQkJCSAgfQoJCQkJfQoKCQkJCS8vIGN1c3RvbSBzaGFwZXMKCQkJCWlmICh4LmN1c3RvbVNoYXBlcyA9PT0gdHJ1ZSkgewoJCQkJCUN1c3RvbVNoYXBlcy5pbml0KHMpOwoJCQkJfQoKCQkJCWlmICh4LmFuaW1hdGVMb29wID09PSBmYWxzZSkgewoJCQkJCQoJCQkJICBpZih4LmJ1dHRvbi5ldmVudC5pbmRleE9mKCdhbmltYXRlJykgPiAtMSl7CgkJCQkgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZnVuY3Rpb24oZXZlbnQpIHsKICAgIAkJCQkJc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAJCQkJCQlzaWdtYS5wbHVnaW5zLmFuaW1hdGUocywgeC5hbmltYXRlTWFwcGluZywgeC5hbmltYXRlT3B0aW9ucyk7CiAgICAJCQkJCX0sIHguYW5pbWF0ZURlbGF5KTsKCQkJCSAgICB9KTsKCQkJCSAgfSBlbHNlIHsKICAJCQkJCXNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogIAkJCQkJCXNpZ21hLnBsdWdpbnMuYW5pbWF0ZShzLCB4LmFuaW1hdGVNYXBwaW5nLCB4LmFuaW1hdGVPcHRpb25zKTsKICAJCQkJCX0sIHguYW5pbWF0ZURlbGF5KTsKCQkJCSAgfQoJCQkJfQoKCQkJCWlmKHguaGFzT3duUHJvcGVydHkoJ2RyYWdOb2RlcycpKXsKCQkJCSAgaWYoeC5idXR0b24uZXZlbnQuaW5kZXhPZignZHJhZ19ub2RlcycpID4gLTEpewoJCQkJICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGZ1bmN0aW9uKGV2ZW50KSB7CgkJCQkgICAgICB2YXIgZHJhZ0xpc3RlbmVyID0gc2lnbWEucGx1Z2lucy5kcmFnTm9kZXMocywgcy5yZW5kZXJlcnNbMF0pOwoJCQkJICAgIH0pOwoJCQkJICB9IGVsc2UgewoJCQkJICAgIHZhciBkcmFnTGlzdGVuZXIgPSBzaWdtYS5wbHVnaW5zLmRyYWdOb2RlcyhzLCBzLnJlbmRlcmVyc1swXSk7CgkJCQkgIH0KCQkJCX0KCgkJCQlpZiAoeC5oYXNPd25Qcm9wZXJ0eSgncmVsYXRpdmVTaXplJykpIHsKCQkJCSAgaWYoeC5idXR0b24uZXZlbnQuaW5kZXhPZigncmVsYXRpdmVfc2l6ZScpID4gLTEpewoJCQkJICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGZ1bmN0aW9uKGV2ZW50KSB7CgkJCQkgICAgICBzaWdtYS5wbHVnaW5zLnJlbGF0aXZlU2l6ZShzLCB4LnJlbGF0aXZlU2l6ZSk7CgkJCQkgICAgfSk7CgkJCQkgIH0gZWxzZSB7CgkJCQkgICAgc2lnbWEucGx1Z2lucy5yZWxhdGl2ZVNpemUocywgeC5yZWxhdGl2ZVNpemUpOwoJCQkJICB9CgkJCQl9CgkJCQkKCQkJCWlmKHguaGFzT3duUHJvcGVydHkoJ2FkZE5vZGVzRGVsYXknKSl7CiAgCQkJCQoJCQkJICBpZih4LmJ1dHRvbi5ldmVudC5pbmRleE9mKCdhZGRfbm9kZXMnKSA+IC0xIHx8IHguYnV0dG9uLmV2ZW50LmluZGV4T2YoJ2FkZF9ub2Rlc19lZGdlcycpID4gLTEpewoJCQkJICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGZ1bmN0aW9uKGV2ZW50KSB7CiAgICAgIAkJCQl4LmFkZE5vZGVzRGVsYXkuZm9yRWFjaCgoZWxlbWVudCkgPT4gewogICAgICAgIAkJCQkJc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgCQkJCQkJcy5ncmFwaC5hZGROb2RlKGVsZW1lbnQpOwogICAgICAgIAkJCQkJCXMucmVmcmVzaCgpOwogICAgICAgIAkJCQkJfSwgZWxlbWVudC5zaWdtYWpzZGVsYXkpOwogICAgICAgIAkJCX0pOwoJCQkJICAgIH0pOwoJCQkJICB9IGVsc2UgewogICAgCQkJCXguYWRkTm9kZXNEZWxheS5mb3JFYWNoKChlbGVtZW50KSA9PiB7CiAgICAJCQkJCXNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgCQkJCQkJcy5ncmFwaC5hZGROb2RlKGVsZW1lbnQpOwogICAgCQkJCQkJcy5yZWZyZXNoKCk7CiAgICAJCQkJCX0sIGVsZW1lbnQuc2lnbWFqc2RlbGF5KTsKICAgIAkJCQl9KTsKCQkJCSAgfQoJCQkJfQoJCQkJCgkJCQlpZih4Lmhhc093blByb3BlcnR5KCdhZGRFZGdlc0RlbGF5JykpewoJCQkJICB2YXIgcnVubmluZyA9IHMuaXNGb3JjZUF0bGFzMlJ1bm5pbmcoKTsKICAJCQkJCgkJCQkgIGlmKHguYnV0dG9uLmV2ZW50LmluZGV4T2YoJ2FkZF9lZGdlcycpID4gLTEgfHwgeC5idXR0b24uZXZlbnQuaW5kZXhPZignYWRkX25vZGVzX2VkZ2VzJykgPiAtMSl7CgkJCQkgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZnVuY3Rpb24oZXZlbnQpIHsKICAgICAgICAJCQl4LmFkZEVkZ2VzRGVsYXkuZGF0YS5mb3JFYWNoKChlbGVtZW50KSA9PiB7CiAgICAgIAkJCQkJc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAJCQkJCQlpZiAoeC5hZGRFZGdlc0RlbGF5LnJlZnJlc2ggPT09IHRydWUgJiYgcnVubmluZyA9PT0gdHJ1ZSkgewogICAgCQkJCQkJCXMua2lsbEZvcmNlQXRsYXMyKCk7CiAgICAJCQkJCQl9CiAgICAJCQkJCQlzLmdyYXBoLmFkZEVkZ2UoZWxlbWVudCk7CiAgICAJCQkJCQlpZiAoeC5hZGRFZGdlc0RlbGF5LnJlZnJlc2ggPT09IHRydWUgJiYgcnVubmluZyA9PT0gdHJ1ZSkgewogICAgCQkJCQkJCXMuc3RhcnRGb3JjZUF0bGFzMigpOwogICAgCQkJCQkJfQogICAgCQkJCQkJaWYgKHguYWRkRWRnZXNEZWxheS5yZWZyZXNoID09PSB0cnVlKSB7CiAgICAJCQkJCQkJcy5yZWZyZXNoKCk7CiAgICAJCQkJCQl9CiAgICAgIAkJCQkJfSwgZWxlbWVudC5zaWdtYWpzZGVsYXkpOwogICAgICAJCQkJfSk7CgkJCQkgICAgfSk7CgkJCQkgIH0gZWxzZSB7CiAgICAJCQkJeC5hZGRFZGdlc0RlbGF5LmRhdGEuZm9yRWFjaCgoZWxlbWVudCkgPT4gewogICAgCQkJCQlzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAJCQkJCQlpZiAoeC5hZGRFZGdlc0RlbGF5LnJlZnJlc2ggPT09IHRydWUgJiYgcnVubmluZyA9PT0gdHJ1ZSkgewogIAkJCQkJCQlzLmtpbGxGb3JjZUF0bGFzMigpOwogIAkJCQkJCX0KICAJCQkJCQlzLmdyYXBoLmFkZEVkZ2UoZWxlbWVudCk7CiAgCQkJCQkJaWYgKHguYWRkRWRnZXNEZWxheS5yZWZyZXNoID09PSB0cnVlICYmIHJ1bm5pbmcgPT09IHRydWUpIHsKICAJCQkJCQkJcy5zdGFydEZvcmNlQXRsYXMyKCk7CiAgCQkJCQkJfQogIAkJCQkJCWlmICh4LmFkZEVkZ2VzRGVsYXkucmVmcmVzaCA9PT0gdHJ1ZSkgewogIAkJCQkJCQlzLnJlZnJlc2goKTsKICAJCQkJCQl9CiAgICAJCQkJCX0sIGVsZW1lbnQuc2lnbWFqc2RlbGF5KTsKICAgIAkJCQl9KTsKCQkJCSAgfQoJCQkJfQoJCQkJCgkJCQlpZih4Lmhhc093blByb3BlcnR5KCJkcm9wRWRnZXNEZWxheSIpKXsKICAJCQkJdmFyIGlzX3J1bm5pbmcgPSBzLmlzRm9yY2VBdGxhczJSdW5uaW5nKCk7CiAgCQkJCQoJCQkJICBpZih4LmJ1dHRvbi5ldmVudC5pbmRleE9mKCdkcm9wX2VkZ2VzJykgPiAtMSl7CgkJCQkgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZnVuY3Rpb24oZXZlbnQpIHsKICAgICAgCQkJCXguZHJvcEVkZ2VzRGVsYXkuZGF0YS5mb3JFYWNoKChkcm9wX2VkZywgaW5kZXgpID0+IHsKICAgICAgCQkJCQlzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgCQkJCQkJaWYgKHguZHJvcEVkZ2VzRGVsYXkucmVmcmVzaCA9PT0gdHJ1ZSAmJiBpc19ydW5uaW5nID09PSB0cnVlKSB7CiAgICAgIAkJCQkJCQlzLmtpbGxGb3JjZUF0bGFzMigpOwogICAgICAJCQkJCQl9CiAgICAgIAkJCQkJCXMuZ3JhcGguZHJvcEVkZ2UoZHJvcF9lZGcuaWQpOwogICAgICAJCQkJCQlpZiAoeC5kcm9wRWRnZXNEZWxheS5yZWZyZXNoID09PSB0cnVlICYmIGlzX3J1bm5pbmcgPT09IHRydWUpIHsKICAgICAgCQkJCQkJCXMuc3RhcnRGb3JjZUF0bGFzMigpOwogICAgICAJCQkJCQl9CiAgICAgIAkJCQkJCWlmICh4LmRyb3BFZGdlc0RlbGF5LnJlZnJlc2ggPT09IHRydWUpIHsKICAgICAgCQkJCQkJCXMucmVmcmVzaCgpOwogICAgICAJCQkJCQl9CiAgICAgIAkJCQkJfSwgZHJvcF9lZGcuc2lnbWFqc2RlbGF5KTsKICAgICAgCQkJCX0pOwoJCQkJICAgIH0pOwoJCQkJICB9IGVsc2UgewogICAgCQkJCXguZHJvcEVkZ2VzRGVsYXkuZGF0YS5mb3JFYWNoKChkcm9wX2VkZywgaW5kZXgpID0+IHsKICAgIAkJCQkJc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAJCQkJCQlpZiAoeC5kcm9wRWRnZXNEZWxheS5yZWZyZXNoID09PSB0cnVlICYmIGlzX3J1bm5pbmcgPT09IHRydWUpIHsKICAgIAkJCQkJCQlzLmtpbGxGb3JjZUF0bGFzMigpOwogICAgCQkJCQkJfQogICAgCQkJCQkJcy5ncmFwaC5kcm9wRWRnZShkcm9wX2VkZy5pZCk7CiAgICAJCQkJCQlpZiAoeC5kcm9wRWRnZXNEZWxheS5yZWZyZXNoID09PSB0cnVlICYmIGlzX3J1bm5pbmcgPT09IHRydWUpIHsKICAgIAkJCQkJCQlzLnN0YXJ0Rm9yY2VBdGxhczIoKTsKICAgIAkJCQkJCX0KICAgIAkJCQkJCWlmICh4LmRyb3BFZGdlc0RlbGF5LnJlZnJlc2ggPT09IHRydWUpIHsKICAgIAkJCQkJCQlzLnJlZnJlc2goKTsKICAgIAkJCQkJCX0KICAgIAkJCQkJfSwgZHJvcF9lZGcuc2lnbWFqc2RlbGF5KTsKICAgIAkJCQl9KTsKCQkJCSAgfQoJCQkJfQoJCQkJCgkJCQlpZih4Lmhhc093blByb3BlcnR5KCJkcm9wTm9kZXNEZWxheSIpKXsKICAJCQkJCgkJCQkgIGlmKHguYnV0dG9uLmV2ZW50LmluZGV4T2YoJ2Ryb3Bfbm9kZXMnKSA+IC0xKXsKCQkJCSAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBmdW5jdGlvbihldmVudCkgewogICAgICAJCQkJeC5kcm9wTm9kZXNEZWxheS5mb3JFYWNoKChlbGVtZW50KSA9PiB7CiAgICAgIAkJCQkJc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgIAkJCQkJCXMuZ3JhcGguZHJvcE5vZGUoZWxlbWVudC5pZCk7CiAgICAgIAkJCQkJCXMucmVmcmVzaCgpOwogICAgICAJCQkJCX0sIGVsZW1lbnQuc2lnbWFqc2RlbGF5KTsKICAgICAgCQkJCX0pOwoJCQkJICAgIH0pOwoJCQkJICB9IGVsc2UgewogICAgCQkJCXguZHJvcE5vZGVzRGVsYXkuZm9yRWFjaCgoZWxlbWVudCkgPT4gewogICAgCQkJCQlzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgIAkJCQkJCXMuZ3JhcGguZHJvcE5vZGUoZWxlbWVudC5pZCk7CiAgICAJCQkJCQlzLnJlZnJlc2goKTsKICAgIAkJCQkJfSwgZWxlbWVudC5zaWdtYWpzZGVsYXkpOwogICAgCQkJCX0pOwoJCQkJICB9CgkJCQl9CgoJCQkvLyBzdG9wIGZvcmNlCgkJCWlmKHguaGFzT3duUHJvcGVydHkoJ2ZvcmNlU3RvcERlbGF5JykpewoJCQkgIGlmKHguYnV0dG9uLmV2ZW50ID09PSAnZm9yY2Vfc3RvcCcpewoJCQkgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZnVuY3Rpb24oZXZlbnQpIHsKICAgIAkJCQlzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgIAkJCQkJcy5zdG9wRm9yY2VBdGxhczIoKTsKICAgIAkJCQl9LCB4LmZvcmNlU3RvcERlbGF5KTsKCQkJICAgIH0pOwoJCQkgIH0gZWxzZSB7CiAgICAJCQlzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgIAkJCQlzLnN0b3BGb3JjZUF0bGFzMigpOwogICAgCQkJfSwgeC5mb3JjZVN0b3BEZWxheSk7CgkJCSAgfQoJCQl9CgkJCgkJCWlmKHguaGFzT3duUHJvcGVydHkoJ2ZvcmNlUmVzdGFydERlbGF5JykpewoJCQkgIAoJCQkgIHZhciBpc19pdF9ydW5uaW5nID0gcy5pc0ZvcmNlQXRsYXMyUnVubmluZygpOwoJCQkgIAoJCQkgIGlmKGlzX2l0X3J1bm5pbmcgPT09IGZhbHNlKXsKCQkJICAgIHMuc3RhcnRGb3JjZUF0bGFzMigpOwoJCQkgIH0KCQkJCQogIAkJCQl4LmZvcmNlUmVzdGFydERlbGF5LmZvckVhY2goKGZvcmNlKSA9PiB7CiAgCQkJCQlzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAJCQkJCQlzLmtpbGxGb3JjZUF0bGFzMigpOwogIAkJCQkJCXMuc3RhcnRGb3JjZUF0bGFzMigpOwogIAkJCQkJfSwgZm9yY2Uuc2lnbWFqc2RlbGF5KTsKICAJCQkJfSk7CiAgCQkJCQoJCQl9CgkJCQoJCQlpZih4Lmhhc093blByb3BlcnR5KCdleHBvcnRTVkcnKSl7CgkJICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGZ1bmN0aW9uKGV2ZW50KSB7CiAgCQkJCXZhciBvdXRwdXQgPSBzLnRvU1ZHKHguZXhwb3J0U1ZHKTsKCQkgICAgfSk7CgkJCX0KCQkJCgkJCWlmKHguaGFzT3duUHJvcGVydHkoJ2V4cG9ydElNRycpKXsKCQkgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZnVuY3Rpb24oZXZlbnQpIHsKICAJCQkJdmFyIG91dHB1dCA9IHJlbmRlcmVyLnNuYXBzaG90KHguZXhwb3J0SU1HKTsKCQkgICAgfSk7CgkJCX0KCQkJCiAgICAgIHNlbF9oYW5kbGUuc2V0R3JvdXAoeC5jcm9zc3RhbGsuY3Jvc3N0YWxrX2dyb3VwKTsKICAgICAgLy9maWx0ZXJfaGFuZGxlLnNldEdyb3VwKHguY3Jvc3N0YWxrLmNyb3NzdGFsa19ncm91cCk7CiAgICAgIHMucmVmcmVzaCgpOyAvLyByZWZyZXNoCiAgICAgIAoJCQkJLy8gZXZlbnRzCgkJCQlpZiAoSFRNTFdpZGdldHMuc2hpbnlNb2RlKSB7CgkJCQkgIAoJCQkJCS8vIGNsaWNrIG5vZGUKCQkJCQlzLmJpbmQoJ2NsaWNrTm9kZScsIGZ1bmN0aW9uIChlKSB7CgkJCQkJCVNoaW55LnNldElucHV0VmFsdWUoZWwuaWQgKyAnX2NsaWNrX25vZGUnICsgIjpzaWdtYWpzUGFyc2VKUyIsIGUuZGF0YS5ub2RlKTsKCQkJCQl9KTsKCgkJCQkJLy8gY2xpY2sgbm9kZVMKCQkJCQlzLmJpbmQoJ2NsaWNrTm9kZXMnLCBmdW5jdGlvbiAoZSkgewoJCQkJCQlTaGlueS5zZXRJbnB1dFZhbHVlKGVsLmlkICsgJ19jbGlja19ub2RlcycgKyAiOnNpZ21hanNQYXJzZUpTIiwgZS5kYXRhLm5vZGVzKTsKCQkJCQl9KTsKCgkJCQkJLy8gY2xpY2sgZWRnZQoJCQkJCXMuYmluZCgnY2xpY2tFZGdlJywgZnVuY3Rpb24gKGUpIHsKCQkJCQkJU2hpbnkuc2V0SW5wdXRWYWx1ZShlbC5pZCArICdfY2xpY2tfZWRnZScgKyAiOnNpZ21hanNQYXJzZUpTIiwgZS5kYXRhLmVkZ2UpOwoJCQkJCX0pOwoKCQkJCQkvLyBjbGljayBlZGdlUwoJCQkJCXMuYmluZCgnY2xpY2tFZGdlcycsIGZ1bmN0aW9uIChlKSB7CgkJCQkJCVNoaW55LnNldElucHV0VmFsdWUoZWwuaWQgKyAnX2NsaWNrX2VkZ2VzJyArICI6c2lnbWFqc1BhcnNlSlMiLCBlLmRhdGEuZWRnZXMpOwoJCQkJCX0pOwoKCQkJCQkvLyBjbGljayBzdGFnZQoJCQkJCXMuYmluZCgnY2xpY2tTdGFnZScsIGZ1bmN0aW9uIChlKSB7CgkJCQkJCVNoaW55LnNldElucHV0VmFsdWUoZWwuaWQgKyAnX2NsaWNrX3N0YWdlJyArICI6c2lnbWFqc1BhcnNlSlMiLCB0cnVlKTsKCQkJCQl9KTsKCgkJCQkJLy8gZG91YmxlIGNsaWNrIHN0YWdlCgkJCQkJcy5iaW5kKCdkb3VibGVDbGlja1N0YWdlJywgZnVuY3Rpb24gKGUpIHsKCQkJCQkJU2hpbnkuc2V0SW5wdXRWYWx1ZShlbC5pZCArICdfZG91YmxlX2NsaWNrX3N0YWdlJyArICI6c2lnbWFqc1BhcnNlSlMiLCB0cnVlKTsKCQkJCQl9KTsKCgkJCQkJLy8gcmlnaHQgY2xpY2sgc3RhZ2UKCQkJCQlzLmJpbmQoJ3JpZ2h0Q2xpY2tTdGFnZScsIGZ1bmN0aW9uIChlKSB7CgkJCQkJCVNoaW55LnNldElucHV0VmFsdWUoZWwuaWQgKyAnX3JpZ2h0X2NsaWNrX3N0YWdlJyArICI6c2lnbWFqc1BhcnNlSlMiLCB0cnVlKTsKCQkJCQl9KTsKCgkJCQkJLy8gZG91YmxlIGNsaWNrIG5vZGUKCQkJCQlzLmJpbmQoJ2RvdWJsZUNsaWNrTm9kZScsIGZ1bmN0aW9uIChlKSB7CgkJCQkJCVNoaW55LnNldElucHV0VmFsdWUoZWwuaWQgKyAnX2RvdWJsZV9jbGlja19ub2RlJyArICI6c2lnbWFqc1BhcnNlSlMiLCBlLmRhdGEubm9kZSk7CgkJCQkJfSk7CgoJCQkJCS8vIGRvdWJsZSBjbGljayBub2RlUwoJCQkJCXMuYmluZCgnZG91YmxlQ2xpY2tOb2RlcycsIGZ1bmN0aW9uIChlKSB7CgkJCQkJCVNoaW55LnNldElucHV0VmFsdWUoZWwuaWQgKyAnX2RvdWJsZV9jbGlja19ub2RlcycgKyAiOnNpZ21hanNQYXJzZUpTIiwgZS5kYXRhLm5vZGVzKTsKCQkJCQl9KTsKCgkJCQkJLy8gZG91YmxlIGNsaWNrIGVkZ2UKCQkJCQlzLmJpbmQoJ2RvdWJsZUNsaWNrRWRnZScsIGZ1bmN0aW9uIChlKSB7CgkJCQkJCVNoaW55LnNldElucHV0VmFsdWUoZWwuaWQgKyAnX2RvdWJsZV9jbGlja19lZGdlJyArICI6c2lnbWFqc1BhcnNlSlMiLCBlLmRhdGEuZWRnZSk7CgkJCQkJfSk7CgoJCQkJCS8vIGRvdWJsZSBjbGljayBlZGdlUwoJCQkJCXMuYmluZCgnZG91YmxlQ2xpY2tFZGdlcycsIGZ1bmN0aW9uIChlKSB7CgkJCQkJCVNoaW55LnNldElucHV0VmFsdWUoZWwuaWQgKyAnX2RvdWJsZV9jbGlja19lZGdlcycgKyAiOnNpZ21hanNQYXJzZUpTIiwgZS5kYXRhLmVkZ2VzKTsKCQkJCQl9KTsKCgkJCQkJLy8gcmlnaHQgY2xpY2sgbm9kZQoJCQkJCXMuYmluZCgncmlnaHRDbGlja05vZGUnLCBmdW5jdGlvbiAoZSkgewoJCQkJCQlTaGlueS5zZXRJbnB1dFZhbHVlKGVsLmlkICsgJ19yaWdodF9jbGlja19ub2RlJyArICI6c2lnbWFqc1BhcnNlSlMiLCBlLmRhdGEubm9kZSk7CgkJCQkJfSk7CgoJCQkJCS8vIHJpZ2h0IGNsaWNrIG5vZGVTCgkJCQkJcy5iaW5kKCdyaWdodENsaWNrTm9kZXMnLCBmdW5jdGlvbiAoZSkgewoJCQkJCQlTaGlueS5zZXRJbnB1dFZhbHVlKGVsLmlkICsgJ19yaWdodF9jbGlja19ub2RlcycgKyAiOnNpZ21hanNQYXJzZUpTIiwgZS5kYXRhLm5vZGVzKTsKCQkJCQl9KTsKCgkJCQkJLy8gcmlnaHQgY2xpY2sgZWRnZQoJCQkJCXMuYmluZCgncmlnaHRDbGlja0VkZ2UnLCBmdW5jdGlvbiAoZSkgewoJCQkJCQlTaGlueS5zZXRJbnB1dFZhbHVlKGVsLmlkICsgJ19yaWdodF9jbGlja19lZGdlJyArICI6c2lnbWFqc1BhcnNlSlMiLCBlLmRhdGEuZWRnZSk7CgkJCQkJfSk7CgoJCQkJCS8vIHJpZ2h0IGNsaWNrIGVkZ2VTCgkJCQkJcy5iaW5kKCdyaWdodENsaWNrRWRnZXMnLCBmdW5jdGlvbiAoZSkgewoJCQkJCQlTaGlueS5zZXRJbnB1dFZhbHVlKGVsLmlkICsgJ19yaWdodF9jbGlja19lZGdlcycgKyAiOnNpZ21hanNQYXJzZUpTIiwgZS5kYXRhLmVkZ2VzKTsKCQkJCQl9KTsKCgkJCQkJLy8gb3ZlciBub2RlCgkJCQkJcy5iaW5kKCdvdmVyTm9kZScsIGZ1bmN0aW9uIChlKSB7CgkJCQkJCVNoaW55LnNldElucHV0VmFsdWUoZWwuaWQgKyAnX292ZXJfbm9kZScgKyAiOnNpZ21hanNQYXJzZUpTIiwgZS5kYXRhLm5vZGUpOwoJCQkJCX0pOwoKCQkJCQkvLyBvdmVyIG5vZGVTCgkJCQkJcy5iaW5kKCdvdmVyTm9kZXMnLCBmdW5jdGlvbiAoZSkgewoJCQkJCQlTaGlueS5zZXRJbnB1dFZhbHVlKGVsLmlkICsgJ19vdmVyX25vZGVzJyArICI6c2lnbWFqc1BhcnNlSlMiLCBlLmRhdGEubm9kZXMpOwoJCQkJCX0pOwoKCQkJCQkvLyBvdmVyIGVkZ2UKCQkJCQlzLmJpbmQoJ292ZXJFZGdlJywgZnVuY3Rpb24gKGUpIHsKCQkJCQkJU2hpbnkuc2V0SW5wdXRWYWx1ZShlbC5pZCArICdfb3Zlcl9lZGdlJyArICI6c2lnbWFqc1BhcnNlSlMiLCBlLmRhdGEuZWRnZSk7CgkJCQkJfSk7CgoJCQkJCS8vIG92ZXIgZWRnZVMKCQkJCQlzLmJpbmQoJ292ZXJFZGdlcycsIGZ1bmN0aW9uIChlKSB7CgkJCQkJCVNoaW55LnNldElucHV0VmFsdWUoZWwuaWQgKyAnX292ZXJfZWRnZXMnICsgIjpzaWdtYWpzUGFyc2VKUyIsIGUuZGF0YS5lZGdlcyk7CgkJCQkJfSk7CgoJCQkJCS8vIG91dCBub2RlCgkJCQkJcy5iaW5kKCdvdXROb2RlJywgZnVuY3Rpb24gKGUpIHsKCQkJCQkJU2hpbnkuc2V0SW5wdXRWYWx1ZShlbC5pZCArICdfb3V0X25vZGUnICsgIjpzaWdtYWpzUGFyc2VKUyIsIGUuZGF0YS5ub2RlKTsKCQkJCQl9KTsKCgkJCQkJLy8gb3V0IG5vZGVTCgkJCQkJcy5iaW5kKCdvdXROb2RlcycsIGZ1bmN0aW9uIChlKSB7CgkJCQkJCVNoaW55LnNldElucHV0VmFsdWUoZWwuaWQgKyAnX291dF9ub2RlcycgKyAiOnNpZ21hanNQYXJzZUpTIiwgZS5kYXRhLm5vZGVzKTsKCQkJCQl9KTsKCgkJCQkJLy8gb3V0IGVkZ2UKCQkJCQlzLmJpbmQoJ291dEVkZ2UnLCBmdW5jdGlvbiAoZSkgewoJCQkJCQlTaGlueS5zZXRJbnB1dFZhbHVlKGVsLmlkICsgJ19vdXRfZWRnZScgKyAiOnNpZ21hanNQYXJzZUpTIiwgZS5kYXRhLmVkZ2UpOwoJCQkJCX0pOwoKCQkJCQkvLyBvdXQgZWRnZVMKCQkJCQlzLmJpbmQoJ291dEVkZ2VzJywgZnVuY3Rpb24gKGUpIHsKCQkJCQkJU2hpbnkuc2V0SW5wdXRWYWx1ZShlbC5pZCArICdfb3V0X2VkZ2VzJyArICI6c2lnbWFqc1BhcnNlSlMiLCBlLmRhdGEuZWRnZXMpOwoJCQkJCX0pOwoJCQkJfQoJCQkKCQl9LAoKCQlyZXNpemU6IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQpIHsKCQkJZm9yKHZhciBuYW1lIGluIHMucmVuZGVyZXJzKQoJCQkJcy5yZW5kZXJlcnNbbmFtZV0ucmVzaXplKHdpZHRoLCBoZWlnaHQpOwoJCX0sCgkJCgkJZ2V0Q2FtZXJhOiBmdW5jdGlvbigpIHsKCQkgIHJldHVybiBjYW07CgkJfSwKCgkJZ2V0Q2hhcnQ6IGZ1bmN0aW9uICgpIHsKCQkJcmV0dXJuIHM7CgkJfSwKCQkKCQlnZXRSZW5kZXJlcjogZnVuY3Rpb24gKCkgewoJCQlyZXR1cm4gcmVuZGVyZXI7CgkJfQoKICAgIH07CiAgfQp9KTsKCgovLyBnZXQgY2hhcnQKZnVuY3Rpb24gZ2V0X3NpZ21hX2dyYXBoKGlkKSB7CgoJdmFyIGh0bWxXaWRnZXRzT2JqID0gSFRNTFdpZGdldHMuZmluZCgiIyIgKyBpZCk7IC8vIGZpbmQgb2JqZWN0CgoJdmFyIHM7IC8vIGRlZmluZQoKCWlmICh0eXBlb2YgaHRtbFdpZGdldHNPYmogIT0gJ3VuZGVmaW5lZCcpIHsgLy8gZ2V0IGNoYXJ0IGlmIGRlZmluZWQKCQlzID0gaHRtbFdpZGdldHNPYmouZ2V0Q2hhcnQoKTsKCX0KCglyZXR1cm4gKHMpOwp9CgovLyBnZXQgY2FtZXJhCmZ1bmN0aW9uIGdldF9zaWdtYV9jYW1lcmEoaWQpIHsKCgl2YXIgaHRtbFdpZGdldHNPYmogPSBIVE1MV2lkZ2V0cy5maW5kKCIjIiArIGlkKTsgLy8gZmluZCBvYmplY3QKCgl2YXIgYzsgLy8gZGVmaW5lCgoJaWYgKHR5cGVvZiBodG1sV2lkZ2V0c09iaiAhPSAndW5kZWZpbmVkJykgeyAvLyBnZXQgY2hhcnQgaWYgZGVmaW5lZAoJCWMgPSBodG1sV2lkZ2V0c09iai5nZXRDYW1lcmEoKTsKCX0KCglyZXR1cm4gKGMpOwp9CgovLyBnZXQgcmVuZGVyZXIKZnVuY3Rpb24gZ2V0X3NpZ21hX3JlbmRlcmVyKGlkKSB7CgoJdmFyIGh0bWxXaWRnZXRzT2JqID0gSFRNTFdpZGdldHMuZmluZCgiIyIgKyBpZCk7IC8vIGZpbmQgb2JqZWN0CgoJdmFyIHI7IC8vIGRlZmluZQoKCWlmICh0eXBlb2YgaHRtbFdpZGdldHNPYmogIT0gJ3VuZGVmaW5lZCcpIHsgLy8gZ2V0IGNoYXJ0IGlmIGRlZmluZWQKCQlyID0gaHRtbFdpZGdldHNPYmouZ2V0UmVuZGVyZXIoKTsKCX0KCglyZXR1cm4gKHIpOwp9CgovLyBvbmx5IGluIHNoaW55CmlmIChIVE1MV2lkZ2V0cy5zaGlueU1vZGUpIHsKCgkvLyBhZGQgbm9kZQoJU2hpbnkuYWRkQ3VzdG9tTWVzc2FnZUhhbmRsZXIoJ3NnX2FkZF9ub2RlX3AnLAoJCWZ1bmN0aW9uIChtZXNzYWdlKSB7CgkJCXZhciBzID0gZ2V0X3NpZ21hX2dyYXBoKG1lc3NhZ2UuaWQpOwoJCQlpZiAodHlwZW9mIHMgIT0gJ3VuZGVmaW5lZCcpIHsKCQkJCXMuZ3JhcGguYWRkTm9kZSgKCQkJCQltZXNzYWdlLmRhdGFbMF0KCQkJCSk7CgkJCQlpZiAobWVzc2FnZS5yZWZyZXNoID09PSB0cnVlKSB7CgkJCQkJcy5yZWZyZXNoKCk7CgkJCQl9CgkJCX0KCQl9CgkpOwoKCS8vIGFkZCBlZGdlCglTaGlueS5hZGRDdXN0b21NZXNzYWdlSGFuZGxlcignc2dfYWRkX2VkZ2VfcCcsCgkJZnVuY3Rpb24gKG1lc3NhZ2UpIHsKCQkJdmFyIHMgPSBnZXRfc2lnbWFfZ3JhcGgobWVzc2FnZS5pZCk7CgkJCWlmICh0eXBlb2YgcyAhPSAndW5kZWZpbmVkJykgewoJCQkJcy5ncmFwaC5hZGRFZGdlKAoJCQkJCW1lc3NhZ2UuZGF0YVswXQoJCQkJKTsKCQkJCWlmIChtZXNzYWdlLnJlZnJlc2ggPT09IHRydWUpIHsKCQkJCQlzLnJlZnJlc2goKTsKCQkJCX0KCQkJfQoJCX0KCSk7CgoJLy8gcmVzdGFydCBmb3JjZUF0bGFzMgoJU2hpbnkuYWRkQ3VzdG9tTWVzc2FnZUhhbmRsZXIoJ3NnX2ZvcmNlX3Jlc3RhcnRfcCcsCgkJZnVuY3Rpb24gKG1lc3NhZ2UpIHsKCQkJdmFyIHMgPSBnZXRfc2lnbWFfZ3JhcGgobWVzc2FnZS5pZCk7CgkJCWlmICh0eXBlb2YgcyAhPSAndW5kZWZpbmVkJykgewoJCQkJdmFyIHJ1bm5pbmcgPSBzLmlzRm9yY2VBdGxhczJSdW5uaW5nKCk7CgkJCQlpZiAocnVubmluZyA9PT0gdHJ1ZSkgewoJCQkJCXMua2lsbEZvcmNlQXRsYXMyKCk7CgkJCQl9CgkJCQlpZiAocnVubmluZyA9PT0gZmFsc2UpIHsKCQkJCQlzLnN0YXJ0Rm9yY2VBdGxhczIobWVzc2FnZS5kYXRhKTsKCQkJCQlpZiAobWVzc2FnZS5yZWZyZXNoID09PSB0cnVlKSB7CgkJCQkJCXMucmVmcmVzaCgpOwoJCQkJCX0KCQkJCX0KCQkJfQoJCX0KCSk7CgoJLy8gc3RhcnQgZm9yY2VBdGxhczIKCVNoaW55LmFkZEN1c3RvbU1lc3NhZ2VIYW5kbGVyKCdzZ19mb3JjZV9zdGFydF9wJywKCQlmdW5jdGlvbiAobWVzc2FnZSkgewoJCQl2YXIgcyA9IGdldF9zaWdtYV9ncmFwaChtZXNzYWdlLmlkKTsKCQkJaWYgKHR5cGVvZiBzICE9ICd1bmRlZmluZWQnKSB7CgkJCQlzLnN0YXJ0Rm9yY2VBdGxhczIobWVzc2FnZS5kYXRhKTsKCQkJCWlmIChtZXNzYWdlLnJlZnJlc2ggPT09IHRydWUpIHsKCQkJCQlzLnJlZnJlc2goKTsKCQkJCX0KCQkJfQoJCX0KCSk7CgoJLy8gc3RvcCBmb3JjZUF0bGFzMgoJU2hpbnkuYWRkQ3VzdG9tTWVzc2FnZUhhbmRsZXIoJ3NnX2ZvcmNlX3N0b3BfcCcsCgkJZnVuY3Rpb24gKG1lc3NhZ2UpIHsKCQkJdmFyIHMgPSBnZXRfc2lnbWFfZ3JhcGgobWVzc2FnZS5pZCk7CgkJCWlmICh0eXBlb2YgcyAhPSAndW5kZWZpbmVkJykgewoJCQkJcy5zdG9wRm9yY2VBdGxhczIoKTsKCQkJfQoJCX0KCSk7CgoJLy8gc3RvcCBmb3JjZUF0bGFzMgoJU2hpbnkuYWRkQ3VzdG9tTWVzc2FnZUhhbmRsZXIoJ3NnX2ZvcmNlX2NvbmZpZ19wJywKCQlmdW5jdGlvbiAobWVzc2FnZSkgewoJCQl2YXIgcyA9IGdldF9zaWdtYV9ncmFwaChtZXNzYWdlLmlkKTsKCQkJaWYgKHR5cGVvZiBzICE9ICd1bmRlZmluZWQnKSB7CgkJCQlzLmNvbmZpZ0ZvcmNlQXRsYXMyKG1lc3NhZ2UuZGF0YSk7CgkJCX0KCQl9CgkpOwoKCS8vIGtpbGwgZm9yY2VBdGxhczIKCVNoaW55LmFkZEN1c3RvbU1lc3NhZ2VIYW5kbGVyKCdzZ19mb3JjZV9raWxsX3AnLAoJCWZ1bmN0aW9uIChtZXNzYWdlKSB7CgkJCXZhciBzID0gZ2V0X3NpZ21hX2dyYXBoKG1lc3NhZ2UuaWQpOwoJCQlpZiAodHlwZW9mIHMgIT0gJ3VuZGVmaW5lZCcpIHsKCQkJCXMua2lsbEZvcmNlQXRsYXMyKCk7CgkJCX0KCQl9CgkpOwoKCS8vIHJlZnJlc2gKCVNoaW55LmFkZEN1c3RvbU1lc3NhZ2VIYW5kbGVyKCdzZ19yZWZyZXNoX3AnLAoJCWZ1bmN0aW9uIChtZXNzYWdlKSB7CgkJCXZhciBzID0gZ2V0X3NpZ21hX2dyYXBoKG1lc3NhZ2UuaWQpOwoJCQlpZiAodHlwZW9mIHMgIT0gJ3VuZGVmaW5lZCcpIHsKCQkJCXMucmVmcmVzaCgpOwoJCQl9CgkJfQoJKTsKCgkvLyBkcm9wIG5vZGUKCVNoaW55LmFkZEN1c3RvbU1lc3NhZ2VIYW5kbGVyKCdzZ19kcm9wX25vZGVfcCcsCgkJZnVuY3Rpb24gKG1lc3NhZ2UpIHsKCQkJdmFyIHMgPSBnZXRfc2lnbWFfZ3JhcGgobWVzc2FnZS5pZCk7CgkJCWlmICh0eXBlb2YgcyAhPSAndW5kZWZpbmVkJykgewoJCQkJcy5ncmFwaC5kcm9wTm9kZShtZXNzYWdlLmRhdGEpOwoJCQkJaWYgKG1lc3NhZ2UucmVmcmVzaCA9PT0gdHJ1ZSkgewoJCQkJCXMucmVmcmVzaCgpOwoJCQkJfQoJCQl9CgkJfQoJKTsKCgkvLyBkcm9wIGVkZ2UKCVNoaW55LmFkZEN1c3RvbU1lc3NhZ2VIYW5kbGVyKCdzZ19kcm9wX2VkZ2VfcCcsCgkJZnVuY3Rpb24gKG1lc3NhZ2UpIHsKCQkJdmFyIHMgPSBnZXRfc2lnbWFfZ3JhcGgobWVzc2FnZS5pZCk7CgkJCWlmICh0eXBlb2YgcyAhPSAndW5kZWZpbmVkJykgewoJCQkJcy5ncmFwaC5kcm9wRWRnZShtZXNzYWdlLmRhdGEpOwoJCQkJaWYgKG1lc3NhZ2UucmVmcmVzaCA9PT0gdHJ1ZSkgewoJCQkJCXMucmVmcmVzaCgpOwoJCQkJfQoJCQl9CgkJfQoJKTsKCgkvLyBjbGVhciBncmFwaAoJU2hpbnkuYWRkQ3VzdG9tTWVzc2FnZUhhbmRsZXIoJ3NnX2NsZWFyX3AnLAoJCWZ1bmN0aW9uIChtZXNzYWdlKSB7CgkJCXZhciBzID0gZ2V0X3NpZ21hX2dyYXBoKG1lc3NhZ2UuaWQpOwoJCQlpZiAodHlwZW9mIHMgIT0gJ3VuZGVmaW5lZCcpIHsKCQkJCXMuZ3JhcGguY2xlYXIoKTsKCQkJCWlmIChtZXNzYWdlLnJlZnJlc2ggPT09IHRydWUpIHsKCQkJCQlzLnJlZnJlc2goKTsKCQkJCX0KCQkJfQoJCX0KCSk7CgoJLy8ga2lsbCBncmFwaAoJU2hpbnkuYWRkQ3VzdG9tTWVzc2FnZUhhbmRsZXIoJ3NnX2tpbGxfcCcsCgkJZnVuY3Rpb24gKG1lc3NhZ2UpIHsKCQkJdmFyIHMgPSBnZXRfc2lnbWFfZ3JhcGgobWVzc2FnZS5pZCk7CgkJCWlmICh0eXBlb2YgcyAhPSAndW5kZWZpbmVkJykgewoJCQkJcy5ncmFwaC5raWxsKCk7CgkJCQlpZiAobWVzc2FnZS5yZWZyZXNoID09PSB0cnVlKSB7CgkJCQkJcy5yZWZyZXNoKCk7CgkJCQl9CgkJCX0KCQl9CgkpOwoKCS8vIGFkZCBub2RlcwoJU2hpbnkuYWRkQ3VzdG9tTWVzc2FnZUhhbmRsZXIoJ3NnX2FkZF9ub2Rlc19wJywKCQlmdW5jdGlvbiAobWVzc2FnZSkgewoJCQl2YXIgcyA9IGdldF9zaWdtYV9ncmFwaChtZXNzYWdlLmlkKTsKCQkJaWYgKHR5cGVvZiBzICE9ICd1bmRlZmluZWQnKSB7CgkJCQltZXNzYWdlLmRhdGEuZm9yRWFjaCgoZWxlbWVudCkgPT4gewoJCQkJCXMuZ3JhcGguYWRkTm9kZShlbGVtZW50KTsKCQkJCQlpZiAobWVzc2FnZS5yZWZyZXNoID09PSB0cnVlICYmIG1lc3NhZ2UucmF0ZSA9PT0gIml0ZXJhdGlvbiIpIHsKCQkJCQkJcy5yZWZyZXNoKCk7CgkJCQkJfQoJCQkJfSk7CgoJCQkJaWYgKG1lc3NhZ2UucmVmcmVzaCA9PT0gdHJ1ZSAmJiBtZXNzYWdlLnJhdGUgPT09ICJvbmNlIikgewoJCQkJCXMucmVmcmVzaCgpOwoJCQkJfQoJCQl9CgkJfQoJKTsKCgkvLyBhZGQgZWRnZXMKCVNoaW55LmFkZEN1c3RvbU1lc3NhZ2VIYW5kbGVyKCdzZ19hZGRfZWRnZXNfcCcsCgkJZnVuY3Rpb24gKG1lc3NhZ2UpIHsKCQkJdmFyIHMgPSBnZXRfc2lnbWFfZ3JhcGgobWVzc2FnZS5pZCk7CgkJCWlmICh0eXBlb2YgcyAhPSAndW5kZWZpbmVkJykgewoJCQkJbWVzc2FnZS5kYXRhLmZvckVhY2goKGVsZW1lbnQpID0+IHsKCQkJCQlzLmdyYXBoLmFkZEVkZ2UoZWxlbWVudCk7CgkJCQkJaWYgKG1lc3NhZ2UucmVmcmVzaCA9PT0gdHJ1ZSAmJiBtZXNzYWdlLnJhdGUgPT09ICJpdGVyYXRpb24iKSB7CgkJCQkJCXMucmVmcmVzaCgpOwoJCQkJCX0KCQkJCX0pOwoKCQkJCWlmIChtZXNzYWdlLnJlZnJlc2ggPT09IHRydWUgJiYgbWVzc2FnZS5yYXRlID09PSAib25jZSIpIHsKCQkJCQlzLnJlZnJlc2goKTsKCQkJCX0KCQkJfQoJCX0KCSk7CgoJLy8gYWRkIG5vZGVzIGRlbGF5CglTaGlueS5hZGRDdXN0b21NZXNzYWdlSGFuZGxlcignc2dfYWRkX25vZGVzX2RlbGF5X3AnLAoJCWZ1bmN0aW9uIChtZXNzYWdlKSB7CgkJCXZhciBzID0gZ2V0X3NpZ21hX2dyYXBoKG1lc3NhZ2UuaWQpOwoJCQlpZiAodHlwZW9mIHMgIT0gJ3VuZGVmaW5lZCcpIHsKCQkJCW1lc3NhZ2UuZGF0YS5mb3JFYWNoKChlbGVtZW50KSA9PiB7CgkJCQkJc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CgkJCQkJCXMuZ3JhcGguYWRkTm9kZShlbGVtZW50KTsKCQkJCQkJcy5yZWZyZXNoKCk7CgkJCQkJfSwgZWxlbWVudC5zaWdtYWpzZGVsYXkpOwoJCQkJfSk7CgkJCX0gZWxzZSB7CgkJCQljb25zb2xlLmxvZygiZXJyb3IiKTsKCQkJfQoJCX0KCSk7CgkKCVNoaW55LmFkZEN1c3RvbU1lc3NhZ2VIYW5kbGVyKCdzZ19kcm9wX25vZGVzX2RlbGF5X3AnLAoJCWZ1bmN0aW9uIChtZXNzYWdlKSB7CgkJCXZhciBzID0gZ2V0X3NpZ21hX2dyYXBoKG1lc3NhZ2UuaWQpOwoJCQlpZiAodHlwZW9mIHMgIT0gJ3VuZGVmaW5lZCcpIHsKCQkJCW1lc3NhZ2UuZGF0YS5mb3JFYWNoKChlbGVtZW50KSA9PiB7CgkJCQkJc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CgkJCQkJCXMuZ3JhcGguZHJvcE5vZGUoZWxlbWVudC5pZCk7CgkJCQkJCXMucmVmcmVzaCgpOwoJCQkJCX0sIGVsZW1lbnQuc2lnbWFqc2RlbGF5KTsKCQkJCX0pOwoJCQl9IGVsc2UgewoJCQkJY29uc29sZS5sb2coImVycm9yIik7CgkJCX0KCQl9CgkpOwoJCgkvLyBhZGQgZWRnZXMgZGVsYXkKCVNoaW55LmFkZEN1c3RvbU1lc3NhZ2VIYW5kbGVyKCdzZ19kcm9wX2VkZ2VzX2RlbGF5X3AnLAoJCWZ1bmN0aW9uIChtZXNzYWdlKSB7CgkJCXZhciBzID0gZ2V0X3NpZ21hX2dyYXBoKG1lc3NhZ2UuaWQpOwoJCQlpZiAodHlwZW9mIHMgIT0gJ3VuZGVmaW5lZCcpIHsKCQkJCXZhciBydW5uaW5nID0gcy5pc0ZvcmNlQXRsYXMyUnVubmluZygpOwoJCQkJbWVzc2FnZS5kYXRhLmZvckVhY2goKGVsZW1lbnQsIGluZGV4KSA9PiB7CgkJCQkJc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CgkJCQkJCWlmIChtZXNzYWdlLnJlZnJlc2ggPT09IHRydWUgJiYgcnVubmluZyA9PT0gdHJ1ZSkgewoJCQkJCQkJcy5raWxsRm9yY2VBdGxhczIoKTsKCQkJCQkJfQoJCQkJCQlzLmdyYXBoLmRyb3BFZGdlKGVsZW1lbnQuaWQpOwoJCQkJCQlpZiAobWVzc2FnZS5yZWZyZXNoID09PSB0cnVlICYmIHJ1bm5pbmcgPT09IHRydWUpIHsKCQkJCQkJCXMuc3RhcnRGb3JjZUF0bGFzMigpOwoJCQkJCQl9CgkJCQkJCWlmIChtZXNzYWdlLnJlZnJlc2ggPT09IHRydWUpIHsKCQkJCQkJCXMucmVmcmVzaCgpOwoJCQkJCQl9CgkJCQkJfSwgZWxlbWVudC5zaWdtYWpzZGVsYXkpOwoJCQkJfSk7CgkJCX0gZWxzZSB7CgkJCQljb25zb2xlLmxvZygiZXJyb3IiKTsKCQkJfQoJCX0KCSk7CgoJLy8gYWRkIGVkZ2VzIGRlbGF5CglTaGlueS5hZGRDdXN0b21NZXNzYWdlSGFuZGxlcignc2dfYWRkX2VkZ2VzX2RlbGF5X3AnLAoJCWZ1bmN0aW9uIChtZXNzYWdlKSB7CgkJCXZhciBzID0gZ2V0X3NpZ21hX2dyYXBoKG1lc3NhZ2UuaWQpOwoJCQlpZiAodHlwZW9mIHMgIT0gJ3VuZGVmaW5lZCcpIHsKCQkJCXZhciBydW5uaW5nID0gcy5pc0ZvcmNlQXRsYXMyUnVubmluZygpOwoJCQkJbWVzc2FnZS5kYXRhLmZvckVhY2goKGVsZW1lbnQsIGluZGV4KSA9PiB7CgkJCQkJc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CgkJCQkJCWlmIChtZXNzYWdlLnJlZnJlc2ggPT09IHRydWUgJiYgcnVubmluZyA9PT0gdHJ1ZSkgewoJCQkJCQkJcy5raWxsRm9yY2VBdGxhczIoKTsKCQkJCQkJfQoJCQkJCQlzLmdyYXBoLmFkZEVkZ2UoZWxlbWVudCk7CgkJCQkJCWlmIChtZXNzYWdlLnJlZnJlc2ggPT09IHRydWUgJiYgcnVubmluZyA9PT0gdHJ1ZSkgewoJCQkJCQkJcy5zdGFydEZvcmNlQXRsYXMyKCk7CgkJCQkJCX0KCQkJCQkJaWYgKG1lc3NhZ2UucmVmcmVzaCA9PT0gdHJ1ZSkgewoJCQkJCQkJcy5yZWZyZXNoKCk7CgkJCQkJCX0KCQkJCQl9LCBlbGVtZW50LnNpZ21hanNkZWxheSk7CgkJCQl9KTsKCQkJfSBlbHNlIHsKCQkJCWNvbnNvbGUubG9nKCJlcnJvciIpOwoJCQl9CgkJfQoJKTsKCgkvLyBzdGFydCBkcmFnIG5vZGVzCglTaGlueS5hZGRDdXN0b21NZXNzYWdlSGFuZGxlcignc2dfZHJhZ19ub2Rlc19zdGFydF9wJywKCQlmdW5jdGlvbiAobWVzc2FnZSkgewoJCQl2YXIgcyA9IGdldF9zaWdtYV9ncmFwaChtZXNzYWdlLmlkKTsKCQkJaWYgKHR5cGVvZiBzICE9ICd1bmRlZmluZWQnKSB7CgkJCQl2YXIgZHJhZ0xpc3RlbmVyID0gc2lnbWEucGx1Z2lucy5kcmFnTm9kZXMocywgcy5yZW5kZXJlcnNbMF0pOwoJCQl9CgkJfQoJKTsKCgkvLyBraWxsIGRyYWcgbm9kZXMKCVNoaW55LmFkZEN1c3RvbU1lc3NhZ2VIYW5kbGVyKCdzZ19kcmFnX25vZGVzX2tpbGxfcCcsCgkJZnVuY3Rpb24gKG1lc3NhZ2UpIHsKCQkJdmFyIHMgPSBnZXRfc2lnbWFfZ3JhcGgobWVzc2FnZS5pZCk7CgkJCWlmICh0eXBlb2YgcyAhPSAndW5kZWZpbmVkJykgewoJCQkJc2lnbWEucGx1Z2lucy5raWxsRHJhZ05vZGVzKHMpOwoJCQl9CgkJfQoJKTsKCQoJLy8gZXhwb3J0CglTaGlueS5hZGRDdXN0b21NZXNzYWdlSGFuZGxlcignc2dfZXhwb3J0X3N2Z19wJywKCQlmdW5jdGlvbiAobWVzc2FnZSkgewoJCQl2YXIgcyA9IGdldF9zaWdtYV9ncmFwaChtZXNzYWdlLmlkKTsKCQkJaWYgKHR5cGVvZiBzICE9ICd1bmRlZmluZWQnKSB7CgkJCQl2YXIgb3V0cHV0ID0gcy50b1NWRyhtZXNzYWdlLmRhdGEpOwoJCQl9CgkJfQoJKTsKCQoJU2hpbnkuYWRkQ3VzdG9tTWVzc2FnZUhhbmRsZXIoJ3NnX2V4cG9ydF9pbWdfcCcsCgkJZnVuY3Rpb24gKG1lc3NhZ2UpIHsKCQkJdmFyIHIgPSBnZXRfc2lnbWFfcmVuZGVyZXIobWVzc2FnZS5pZCk7CgkJCWlmICh0eXBlb2YgciAhPSAndW5kZWZpbmVkJykgewoJCQkJci5zbmFwc2hvdChtZXNzYWdlLmRhdGEpOwoJCQl9CgkJfQoJKTsKCQoJLy8gZmlsdGVyIGdyZWF0ZXIgdGhhbgoJU2hpbnkuYWRkQ3VzdG9tTWVzc2FnZUhhbmRsZXIoJ3NnX2ZpbHRlcl9ndF9wJywKCQlmdW5jdGlvbiAobWVzc2FnZSkgewoJCQl2YXIgcyA9IGdldF9zaWdtYV9ncmFwaChtZXNzYWdlLmlkKTsKCQkJCgkJCWlmICh0eXBlb2YgcyAhPSAndW5kZWZpbmVkJykgewoJCQkgIAoJCQkgIHZhciBmaWx0ZXIgPSBuZXcgc2lnbWEucGx1Z2lucy5maWx0ZXIocyk7CgkJCSAgCgkJCSAgaWYobWVzc2FnZS50YXJnZXQgPT09ICJib3RoIil7CiAgICAgICAgICBmaWx0ZXIKICAgICAgICAgICAgLnVuZG8oKQogICAgICAgICAgICAubm9kZXNCeShmdW5jdGlvbihuKSB7CiAgICAgICAgICAgICAgcmV0dXJuIG5bbWVzc2FnZS52YXJdID4gbWVzc2FnZS5pbnB1dDsKICAgICAgICAgICAgfSkKICAgICAgICAgICAgLmVkZ2VzQnkoZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgIHJldHVybiBlW21lc3NhZ2UudmFyXSA+IG1lc3NhZ2UuaW5wdXQ7CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC5hcHBseSgpOwoJCQkgIH0gZWxzZSBpZihtZXNzYWdlLnRhcmdldCA9PT0gIm5vZGVzIil7CiAgICAgICAgICBmaWx0ZXIKICAgICAgICAgICAgLnVuZG8oKQogICAgICAgICAgICAubm9kZXNCeShmdW5jdGlvbihuKSB7CiAgICAgICAgICAgICAgcmV0dXJuIG5bbWVzc2FnZS52YXJdID4gbWVzc2FnZS5pbnB1dDsKICAgICAgICAgICAgfSkKICAgICAgICAgICAgLmFwcGx5KCk7CgkJCSAgfSBlbHNlIHsKICAgICAgICAgIGZpbHRlcgogICAgICAgICAgICAudW5kbygpCiAgICAgICAgICAgIC5lZGdlc0J5KGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICByZXR1cm4gZVttZXNzYWdlLnZhcl0gPiBtZXNzYWdlLmlucHV0OwogICAgICAgICAgICB9KQogICAgICAgICAgICAuYXBwbHkoKTsKCQkJICB9CgkJCQkKCQkJfQoJCX0KCSk7CgkKCS8vIGZpbHRlciBsZXNzIHRoYW4KCVNoaW55LmFkZEN1c3RvbU1lc3NhZ2VIYW5kbGVyKCdzZ19maWx0ZXJfbHRfcCcsCgkJZnVuY3Rpb24gKG1lc3NhZ2UpIHsKCQkJdmFyIHMgPSBnZXRfc2lnbWFfZ3JhcGgobWVzc2FnZS5pZCk7CgkJCQoJCQlpZiAodHlwZW9mIHMgIT0gJ3VuZGVmaW5lZCcpIHsKCQkJICAKCQkJICB2YXIgZmlsdGVyID0gbmV3IHNpZ21hLnBsdWdpbnMuZmlsdGVyKHMpOwoJCQkgIAoJCQkgIGlmKG1lc3NhZ2UudGFyZ2V0ID09PSAiYm90aCIpewogICAgICAgICAgZmlsdGVyCiAgICAgICAgICAgIC51bmRvKCkKICAgICAgICAgICAgLm5vZGVzQnkoZnVuY3Rpb24obikgewogICAgICAgICAgICAgIHJldHVybiBuW21lc3NhZ2UudmFyXSA8IG1lc3NhZ2UuaW5wdXQ7CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC5lZGdlc0J5KGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICByZXR1cm4gZVttZXNzYWdlLnZhcl0gPCBtZXNzYWdlLmlucHV0OwogICAgICAgICAgICB9KQogICAgICAgICAgICAuYXBwbHkoKTsKCQkJICB9IGVsc2UgaWYobWVzc2FnZS50YXJnZXQgPT09ICJub2RlcyIpewogICAgICAgICAgZmlsdGVyCiAgICAgICAgICAgIC51bmRvKCkKICAgICAgICAgICAgLm5vZGVzQnkoZnVuY3Rpb24obikgewogICAgICAgICAgICAgIHJldHVybiBuW21lc3NhZ2UudmFyXSA8IG1lc3NhZ2UuaW5wdXQ7CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC5hcHBseSgpOwoJCQkgIH0gZWxzZSB7CiAgICAgICAgICBmaWx0ZXIKICAgICAgICAgICAgLnVuZG8oKQogICAgICAgICAgICAuZWRnZXNCeShmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGVbbWVzc2FnZS52YXJdIDwgbWVzc2FnZS5pbnB1dDsKICAgICAgICAgICAgfSkKICAgICAgICAgICAgLmFwcGx5KCk7CgkJCSAgfQoJCQkJCgkJCX0KCQl9CgkpOwoKfQo="></script>
<script src="data:application/x-javascript;base64,LyohIGpRdWVyeSB2MS4xMS4zIHwgKGMpIDIwMDUsIDIwMTUgalF1ZXJ5IEZvdW5kYXRpb24sIEluYy4gfCBqcXVlcnkub3JnL2xpY2Vuc2UgKi8KIWZ1bmN0aW9uKGEsYil7Im9iamVjdCI9PXR5cGVvZiBtb2R1bGUmJiJvYmplY3QiPT10eXBlb2YgbW9kdWxlLmV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9YS5kb2N1bWVudD9iKGEsITApOmZ1bmN0aW9uKGEpe2lmKCFhLmRvY3VtZW50KXRocm93IG5ldyBFcnJvcigialF1ZXJ5IHJlcXVpcmVzIGEgd2luZG93IHdpdGggYSBkb2N1bWVudCIpO3JldHVybiBiKGEpfTpiKGEpfSgidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6dGhpcyxmdW5jdGlvbihhLGIpe3ZhciBjPVtdLGQ9Yy5zbGljZSxlPWMuY29uY2F0LGY9Yy5wdXNoLGc9Yy5pbmRleE9mLGg9e30saT1oLnRvU3RyaW5nLGo9aC5oYXNPd25Qcm9wZXJ0eSxrPXt9LGw9IjEuMTEuMyIsbT1mdW5jdGlvbihhLGIpe3JldHVybiBuZXcgbS5mbi5pbml0KGEsYil9LG49L15bXHNcdUZFRkZceEEwXSt8W1xzXHVGRUZGXHhBMF0rJC9nLG89L14tbXMtLyxwPS8tKFtcZGEtel0pL2dpLHE9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi50b1VwcGVyQ2FzZSgpfTttLmZuPW0ucHJvdG90eXBlPXtqcXVlcnk6bCxjb25zdHJ1Y3RvcjptLHNlbGVjdG9yOiIiLGxlbmd0aDowLHRvQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gZC5jYWxsKHRoaXMpfSxnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWE/MD5hP3RoaXNbYSt0aGlzLmxlbmd0aF06dGhpc1thXTpkLmNhbGwodGhpcyl9LHB1c2hTdGFjazpmdW5jdGlvbihhKXt2YXIgYj1tLm1lcmdlKHRoaXMuY29uc3RydWN0b3IoKSxhKTtyZXR1cm4gYi5wcmV2T2JqZWN0PXRoaXMsYi5jb250ZXh0PXRoaXMuY29udGV4dCxifSxlYWNoOmZ1bmN0aW9uKGEsYil7cmV0dXJuIG0uZWFjaCh0aGlzLGEsYil9LG1hcDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2sobS5tYXAodGhpcyxmdW5jdGlvbihiLGMpe3JldHVybiBhLmNhbGwoYixjLGIpfSkpfSxzbGljZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnB1c2hTdGFjayhkLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9LGZpcnN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXEoMCl9LGxhc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lcSgtMSl9LGVxOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMubGVuZ3RoLGM9K2ErKDA+YT9iOjApO3JldHVybiB0aGlzLnB1c2hTdGFjayhjPj0wJiZiPmM/W3RoaXNbY11dOltdKX0sZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJldk9iamVjdHx8dGhpcy5jb25zdHJ1Y3RvcihudWxsKX0scHVzaDpmLHNvcnQ6Yy5zb3J0LHNwbGljZTpjLnNwbGljZX0sbS5leHRlbmQ9bS5mbi5leHRlbmQ9ZnVuY3Rpb24oKXt2YXIgYSxiLGMsZCxlLGYsZz1hcmd1bWVudHNbMF18fHt9LGg9MSxpPWFyZ3VtZW50cy5sZW5ndGgsaj0hMTtmb3IoImJvb2xlYW4iPT10eXBlb2YgZyYmKGo9ZyxnPWFyZ3VtZW50c1toXXx8e30saCsrKSwib2JqZWN0Ij09dHlwZW9mIGd8fG0uaXNGdW5jdGlvbihnKXx8KGc9e30pLGg9PT1pJiYoZz10aGlzLGgtLSk7aT5oO2grKylpZihudWxsIT0oZT1hcmd1bWVudHNbaF0pKWZvcihkIGluIGUpYT1nW2RdLGM9ZVtkXSxnIT09YyYmKGomJmMmJihtLmlzUGxhaW5PYmplY3QoYyl8fChiPW0uaXNBcnJheShjKSkpPyhiPyhiPSExLGY9YSYmbS5pc0FycmF5KGEpP2E6W10pOmY9YSYmbS5pc1BsYWluT2JqZWN0KGEpP2E6e30sZ1tkXT1tLmV4dGVuZChqLGYsYykpOnZvaWQgMCE9PWMmJihnW2RdPWMpKTtyZXR1cm4gZ30sbS5leHRlbmQoe2V4cGFuZG86ImpRdWVyeSIrKGwrTWF0aC5yYW5kb20oKSkucmVwbGFjZSgvXEQvZywiIiksaXNSZWFkeTohMCxlcnJvcjpmdW5jdGlvbihhKXt0aHJvdyBuZXcgRXJyb3IoYSl9LG5vb3A6ZnVuY3Rpb24oKXt9LGlzRnVuY3Rpb246ZnVuY3Rpb24oYSl7cmV0dXJuImZ1bmN0aW9uIj09PW0udHlwZShhKX0saXNBcnJheTpBcnJheS5pc0FycmF5fHxmdW5jdGlvbihhKXtyZXR1cm4iYXJyYXkiPT09bS50eXBlKGEpfSxpc1dpbmRvdzpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YSYmYT09YS53aW5kb3d9LGlzTnVtZXJpYzpmdW5jdGlvbihhKXtyZXR1cm4hbS5pc0FycmF5KGEpJiZhLXBhcnNlRmxvYXQoYSkrMT49MH0saXNFbXB0eU9iamVjdDpmdW5jdGlvbihhKXt2YXIgYjtmb3IoYiBpbiBhKXJldHVybiExO3JldHVybiEwfSxpc1BsYWluT2JqZWN0OmZ1bmN0aW9uKGEpe3ZhciBiO2lmKCFhfHwib2JqZWN0IiE9PW0udHlwZShhKXx8YS5ub2RlVHlwZXx8bS5pc1dpbmRvdyhhKSlyZXR1cm4hMTt0cnl7aWYoYS5jb25zdHJ1Y3RvciYmIWouY2FsbChhLCJjb25zdHJ1Y3RvciIpJiYhai5jYWxsKGEuY29uc3RydWN0b3IucHJvdG90eXBlLCJpc1Byb3RvdHlwZU9mIikpcmV0dXJuITF9Y2F0Y2goYyl7cmV0dXJuITF9aWYoay5vd25MYXN0KWZvcihiIGluIGEpcmV0dXJuIGouY2FsbChhLGIpO2ZvcihiIGluIGEpO3JldHVybiB2b2lkIDA9PT1ifHxqLmNhbGwoYSxiKX0sdHlwZTpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09YT9hKyIiOiJvYmplY3QiPT10eXBlb2YgYXx8ImZ1bmN0aW9uIj09dHlwZW9mIGE/aFtpLmNhbGwoYSldfHwib2JqZWN0Ijp0eXBlb2YgYX0sZ2xvYmFsRXZhbDpmdW5jdGlvbihiKXtiJiZtLnRyaW0oYikmJihhLmV4ZWNTY3JpcHR8fGZ1bmN0aW9uKGIpe2EuZXZhbC5jYWxsKGEsYil9KShiKX0sY2FtZWxDYXNlOmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UobywibXMtIikucmVwbGFjZShwLHEpfSxub2RlTmFtZTpmdW5jdGlvbihhLGIpe3JldHVybiBhLm5vZGVOYW1lJiZhLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1iLnRvTG93ZXJDYXNlKCl9LGVhY2g6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGU9MCxmPWEubGVuZ3RoLGc9cihhKTtpZihjKXtpZihnKXtmb3IoO2Y+ZTtlKyspaWYoZD1iLmFwcGx5KGFbZV0sYyksZD09PSExKWJyZWFrfWVsc2UgZm9yKGUgaW4gYSlpZihkPWIuYXBwbHkoYVtlXSxjKSxkPT09ITEpYnJlYWt9ZWxzZSBpZihnKXtmb3IoO2Y+ZTtlKyspaWYoZD1iLmNhbGwoYVtlXSxlLGFbZV0pLGQ9PT0hMSlicmVha31lbHNlIGZvcihlIGluIGEpaWYoZD1iLmNhbGwoYVtlXSxlLGFbZV0pLGQ9PT0hMSlicmVhaztyZXR1cm4gYX0sdHJpbTpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09YT8iIjooYSsiIikucmVwbGFjZShuLCIiKX0sbWFrZUFycmF5OmZ1bmN0aW9uKGEsYil7dmFyIGM9Ynx8W107cmV0dXJuIG51bGwhPWEmJihyKE9iamVjdChhKSk/bS5tZXJnZShjLCJzdHJpbmciPT10eXBlb2YgYT9bYV06YSk6Zi5jYWxsKGMsYSkpLGN9LGluQXJyYXk6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkO2lmKGIpe2lmKGcpcmV0dXJuIGcuY2FsbChiLGEsYyk7Zm9yKGQ9Yi5sZW5ndGgsYz1jPzA+Yz9NYXRoLm1heCgwLGQrYyk6YzowO2Q+YztjKyspaWYoYyBpbiBiJiZiW2NdPT09YSlyZXR1cm4gY31yZXR1cm4tMX0sbWVyZ2U6ZnVuY3Rpb24oYSxiKXt2YXIgYz0rYi5sZW5ndGgsZD0wLGU9YS5sZW5ndGg7d2hpbGUoYz5kKWFbZSsrXT1iW2QrK107aWYoYyE9PWMpd2hpbGUodm9pZCAwIT09YltkXSlhW2UrK109YltkKytdO3JldHVybiBhLmxlbmd0aD1lLGF9LGdyZXA6ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZCxlPVtdLGY9MCxnPWEubGVuZ3RoLGg9IWM7Zz5mO2YrKylkPSFiKGFbZl0sZiksZCE9PWgmJmUucHVzaChhW2ZdKTtyZXR1cm4gZX0sbWFwOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxmPTAsZz1hLmxlbmd0aCxoPXIoYSksaT1bXTtpZihoKWZvcig7Zz5mO2YrKylkPWIoYVtmXSxmLGMpLG51bGwhPWQmJmkucHVzaChkKTtlbHNlIGZvcihmIGluIGEpZD1iKGFbZl0sZixjKSxudWxsIT1kJiZpLnB1c2goZCk7cmV0dXJuIGUuYXBwbHkoW10saSl9LGd1aWQ6MSxwcm94eTpmdW5jdGlvbihhLGIpe3ZhciBjLGUsZjtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGImJihmPWFbYl0sYj1hLGE9ZiksbS5pc0Z1bmN0aW9uKGEpPyhjPWQuY2FsbChhcmd1bWVudHMsMiksZT1mdW5jdGlvbigpe3JldHVybiBhLmFwcGx5KGJ8fHRoaXMsYy5jb25jYXQoZC5jYWxsKGFyZ3VtZW50cykpKX0sZS5ndWlkPWEuZ3VpZD1hLmd1aWR8fG0uZ3VpZCsrLGUpOnZvaWQgMH0sbm93OmZ1bmN0aW9uKCl7cmV0dXJuK25ldyBEYXRlfSxzdXBwb3J0Omt9KSxtLmVhY2goIkJvb2xlYW4gTnVtYmVyIFN0cmluZyBGdW5jdGlvbiBBcnJheSBEYXRlIFJlZ0V4cCBPYmplY3QgRXJyb3IiLnNwbGl0KCIgIiksZnVuY3Rpb24oYSxiKXtoWyJbb2JqZWN0ICIrYisiXSJdPWIudG9Mb3dlckNhc2UoKX0pO2Z1bmN0aW9uIHIoYSl7dmFyIGI9Imxlbmd0aCJpbiBhJiZhLmxlbmd0aCxjPW0udHlwZShhKTtyZXR1cm4iZnVuY3Rpb24iPT09Y3x8bS5pc1dpbmRvdyhhKT8hMToxPT09YS5ub2RlVHlwZSYmYj8hMDoiYXJyYXkiPT09Y3x8MD09PWJ8fCJudW1iZXIiPT10eXBlb2YgYiYmYj4wJiZiLTEgaW4gYX12YXIgcz1mdW5jdGlvbihhKXt2YXIgYixjLGQsZSxmLGcsaCxpLGosayxsLG0sbixvLHAscSxyLHMsdCx1PSJzaXp6bGUiKzEqbmV3IERhdGUsdj1hLmRvY3VtZW50LHc9MCx4PTAseT1oYSgpLHo9aGEoKSxBPWhhKCksQj1mdW5jdGlvbihhLGIpe3JldHVybiBhPT09YiYmKGw9ITApLDB9LEM9MTw8MzEsRD17fS5oYXNPd25Qcm9wZXJ0eSxFPVtdLEY9RS5wb3AsRz1FLnB1c2gsSD1FLnB1c2gsST1FLnNsaWNlLEo9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9MCxkPWEubGVuZ3RoO2Q+YztjKyspaWYoYVtjXT09PWIpcmV0dXJuIGM7cmV0dXJuLTF9LEs9ImNoZWNrZWR8c2VsZWN0ZWR8YXN5bmN8YXV0b2ZvY3VzfGF1dG9wbGF5fGNvbnRyb2xzfGRlZmVyfGRpc2FibGVkfGhpZGRlbnxpc21hcHxsb29wfG11bHRpcGxlfG9wZW58cmVhZG9ubHl8cmVxdWlyZWR8c2NvcGVkIixMPSJbXFx4MjBcXHRcXHJcXG5cXGZdIixNPSIoPzpcXFxcLnxbXFx3LV18W15cXHgwMC1cXHhhMF0pKyIsTj1NLnJlcGxhY2UoInciLCJ3IyIpLE89IlxcWyIrTCsiKigiK00rIikoPzoiK0wrIiooWypeJHwhfl0/PSkiK0wrIiooPzonKCg/OlxcXFwufFteXFxcXCddKSopJ3xcIigoPzpcXFxcLnxbXlxcXFxcIl0pKilcInwoIitOKyIpKXwpIitMKyIqXFxdIixQPSI6KCIrTSsiKSg/OlxcKCgoJygoPzpcXFxcLnxbXlxcXFwnXSkqKSd8XCIoKD86XFxcXC58W15cXFxcXCJdKSopXCIpfCgoPzpcXFxcLnxbXlxcXFwoKVtcXF1dfCIrTysiKSopfC4qKVxcKXwpIixRPW5ldyBSZWdFeHAoTCsiKyIsImciKSxSPW5ldyBSZWdFeHAoIl4iK0wrIit8KCg/Ol58W15cXFxcXSkoPzpcXFxcLikqKSIrTCsiKyQiLCJnIiksUz1uZXcgUmVnRXhwKCJeIitMKyIqLCIrTCsiKiIpLFQ9bmV3IFJlZ0V4cCgiXiIrTCsiKihbPit+XXwiK0wrIikiK0wrIioiKSxVPW5ldyBSZWdFeHAoIj0iK0wrIiooW15cXF0nXCJdKj8pIitMKyIqXFxdIiwiZyIpLFY9bmV3IFJlZ0V4cChQKSxXPW5ldyBSZWdFeHAoIl4iK04rIiQiKSxYPXtJRDpuZXcgUmVnRXhwKCJeIygiK00rIikiKSxDTEFTUzpuZXcgUmVnRXhwKCJeXFwuKCIrTSsiKSIpLFRBRzpuZXcgUmVnRXhwKCJeKCIrTS5yZXBsYWNlKCJ3IiwidyoiKSsiKSIpLEFUVFI6bmV3IFJlZ0V4cCgiXiIrTyksUFNFVURPOm5ldyBSZWdFeHAoIl4iK1ApLENISUxEOm5ldyBSZWdFeHAoIl46KG9ubHl8Zmlyc3R8bGFzdHxudGh8bnRoLWxhc3QpLShjaGlsZHxvZi10eXBlKSg/OlxcKCIrTCsiKihldmVufG9kZHwoKFsrLV18KShcXGQqKW58KSIrTCsiKig/OihbKy1dfCkiK0wrIiooXFxkKyl8KSkiK0wrIipcXCl8KSIsImkiKSxib29sOm5ldyBSZWdFeHAoIl4oPzoiK0srIikkIiwiaSIpLG5lZWRzQ29udGV4dDpuZXcgUmVnRXhwKCJeIitMKyIqWz4rfl18OihldmVufG9kZHxlcXxndHxsdHxudGh8Zmlyc3R8bGFzdCkoPzpcXCgiK0wrIiooKD86LVxcZCk/XFxkKikiK0wrIipcXCl8KSg/PVteLV18JCkiLCJpIil9LFk9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaSxaPS9eaFxkJC9pLCQ9L15bXntdK1x7XHMqXFtuYXRpdmUgXHcvLF89L14oPzojKFtcdy1dKyl8KFx3Kyl8XC4oW1x3LV0rKSkkLyxhYT0vWyt+XS8sYmE9Lyd8XFwvZyxjYT1uZXcgUmVnRXhwKCJcXFxcKFtcXGRhLWZdezEsNn0iK0wrIj98KCIrTCsiKXwuKSIsImlnIiksZGE9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPSIweCIrYi02NTUzNjtyZXR1cm4gZCE9PWR8fGM/YjowPmQ/U3RyaW5nLmZyb21DaGFyQ29kZShkKzY1NTM2KTpTdHJpbmcuZnJvbUNoYXJDb2RlKGQ+PjEwfDU1Mjk2LDEwMjMmZHw1NjMyMCl9LGVhPWZ1bmN0aW9uKCl7bSgpfTt0cnl7SC5hcHBseShFPUkuY2FsbCh2LmNoaWxkTm9kZXMpLHYuY2hpbGROb2RlcyksRVt2LmNoaWxkTm9kZXMubGVuZ3RoXS5ub2RlVHlwZX1jYXRjaChmYSl7SD17YXBwbHk6RS5sZW5ndGg/ZnVuY3Rpb24oYSxiKXtHLmFwcGx5KGEsSS5jYWxsKGIpKX06ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmxlbmd0aCxkPTA7d2hpbGUoYVtjKytdPWJbZCsrXSk7YS5sZW5ndGg9Yy0xfX19ZnVuY3Rpb24gZ2EoYSxiLGQsZSl7dmFyIGYsaCxqLGssbCxvLHIscyx3LHg7aWYoKGI/Yi5vd25lckRvY3VtZW50fHxiOnYpIT09biYmbShiKSxiPWJ8fG4sZD1kfHxbXSxrPWIubm9kZVR5cGUsInN0cmluZyIhPXR5cGVvZiBhfHwhYXx8MSE9PWsmJjkhPT1rJiYxMSE9PWspcmV0dXJuIGQ7aWYoIWUmJnApe2lmKDExIT09ayYmKGY9Xy5leGVjKGEpKSlpZihqPWZbMV0pe2lmKDk9PT1rKXtpZihoPWIuZ2V0RWxlbWVudEJ5SWQoaiksIWh8fCFoLnBhcmVudE5vZGUpcmV0dXJuIGQ7aWYoaC5pZD09PWopcmV0dXJuIGQucHVzaChoKSxkfWVsc2UgaWYoYi5vd25lckRvY3VtZW50JiYoaD1iLm93bmVyRG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaikpJiZ0KGIsaCkmJmguaWQ9PT1qKXJldHVybiBkLnB1c2goaCksZH1lbHNle2lmKGZbMl0pcmV0dXJuIEguYXBwbHkoZCxiLmdldEVsZW1lbnRzQnlUYWdOYW1lKGEpKSxkO2lmKChqPWZbM10pJiZjLmdldEVsZW1lbnRzQnlDbGFzc05hbWUpcmV0dXJuIEguYXBwbHkoZCxiLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoaikpLGR9aWYoYy5xc2EmJighcXx8IXEudGVzdChhKSkpe2lmKHM9cj11LHc9Yix4PTEhPT1rJiZhLDE9PT1rJiYib2JqZWN0IiE9PWIubm9kZU5hbWUudG9Mb3dlckNhc2UoKSl7bz1nKGEpLChyPWIuZ2V0QXR0cmlidXRlKCJpZCIpKT9zPXIucmVwbGFjZShiYSwiXFwkJiIpOmIuc2V0QXR0cmlidXRlKCJpZCIscykscz0iW2lkPSciK3MrIiddICIsbD1vLmxlbmd0aDt3aGlsZShsLS0pb1tsXT1zK3JhKG9bbF0pO3c9YWEudGVzdChhKSYmcGEoYi5wYXJlbnROb2RlKXx8Yix4PW8uam9pbigiLCIpfWlmKHgpdHJ5e3JldHVybiBILmFwcGx5KGQsdy5xdWVyeVNlbGVjdG9yQWxsKHgpKSxkfWNhdGNoKHkpe31maW5hbGx5e3J8fGIucmVtb3ZlQXR0cmlidXRlKCJpZCIpfX19cmV0dXJuIGkoYS5yZXBsYWNlKFIsIiQxIiksYixkLGUpfWZ1bmN0aW9uIGhhKCl7dmFyIGE9W107ZnVuY3Rpb24gYihjLGUpe3JldHVybiBhLnB1c2goYysiICIpPmQuY2FjaGVMZW5ndGgmJmRlbGV0ZSBiW2Euc2hpZnQoKV0sYltjKyIgIl09ZX1yZXR1cm4gYn1mdW5jdGlvbiBpYShhKXtyZXR1cm4gYVt1XT0hMCxhfWZ1bmN0aW9uIGphKGEpe3ZhciBiPW4uY3JlYXRlRWxlbWVudCgiZGl2Iik7dHJ5e3JldHVybiEhYShiKX1jYXRjaChjKXtyZXR1cm4hMX1maW5hbGx5e2IucGFyZW50Tm9kZSYmYi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpLGI9bnVsbH19ZnVuY3Rpb24ga2EoYSxiKXt2YXIgYz1hLnNwbGl0KCJ8IiksZT1hLmxlbmd0aDt3aGlsZShlLS0pZC5hdHRySGFuZGxlW2NbZV1dPWJ9ZnVuY3Rpb24gbGEoYSxiKXt2YXIgYz1iJiZhLGQ9YyYmMT09PWEubm9kZVR5cGUmJjE9PT1iLm5vZGVUeXBlJiYofmIuc291cmNlSW5kZXh8fEMpLSh+YS5zb3VyY2VJbmRleHx8Qyk7aWYoZClyZXR1cm4gZDtpZihjKXdoaWxlKGM9Yy5uZXh0U2libGluZylpZihjPT09YilyZXR1cm4tMTtyZXR1cm4gYT8xOi0xfWZ1bmN0aW9uIG1hKGEpe3JldHVybiBmdW5jdGlvbihiKXt2YXIgYz1iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImlucHV0Ij09PWMmJmIudHlwZT09PWF9fWZ1bmN0aW9uIG5hKGEpe3JldHVybiBmdW5jdGlvbihiKXt2YXIgYz1iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuKCJpbnB1dCI9PT1jfHwiYnV0dG9uIj09PWMpJiZiLnR5cGU9PT1hfX1mdW5jdGlvbiBvYShhKXtyZXR1cm4gaWEoZnVuY3Rpb24oYil7cmV0dXJuIGI9K2IsaWEoZnVuY3Rpb24oYyxkKXt2YXIgZSxmPWEoW10sYy5sZW5ndGgsYiksZz1mLmxlbmd0aDt3aGlsZShnLS0pY1tlPWZbZ11dJiYoY1tlXT0hKGRbZV09Y1tlXSkpfSl9KX1mdW5jdGlvbiBwYShhKXtyZXR1cm4gYSYmInVuZGVmaW5lZCIhPXR5cGVvZiBhLmdldEVsZW1lbnRzQnlUYWdOYW1lJiZhfWM9Z2Euc3VwcG9ydD17fSxmPWdhLmlzWE1MPWZ1bmN0aW9uKGEpe3ZhciBiPWEmJihhLm93bmVyRG9jdW1lbnR8fGEpLmRvY3VtZW50RWxlbWVudDtyZXR1cm4gYj8iSFRNTCIhPT1iLm5vZGVOYW1lOiExfSxtPWdhLnNldERvY3VtZW50PWZ1bmN0aW9uKGEpe3ZhciBiLGUsZz1hP2Eub3duZXJEb2N1bWVudHx8YTp2O3JldHVybiBnIT09biYmOT09PWcubm9kZVR5cGUmJmcuZG9jdW1lbnRFbGVtZW50PyhuPWcsbz1nLmRvY3VtZW50RWxlbWVudCxlPWcuZGVmYXVsdFZpZXcsZSYmZSE9PWUudG9wJiYoZS5hZGRFdmVudExpc3RlbmVyP2UuYWRkRXZlbnRMaXN0ZW5lcigidW5sb2FkIixlYSwhMSk6ZS5hdHRhY2hFdmVudCYmZS5hdHRhY2hFdmVudCgib251bmxvYWQiLGVhKSkscD0hZihnKSxjLmF0dHJpYnV0ZXM9amEoZnVuY3Rpb24oYSl7cmV0dXJuIGEuY2xhc3NOYW1lPSJpIiwhYS5nZXRBdHRyaWJ1dGUoImNsYXNzTmFtZSIpfSksYy5nZXRFbGVtZW50c0J5VGFnTmFtZT1qYShmdW5jdGlvbihhKXtyZXR1cm4gYS5hcHBlbmRDaGlsZChnLmNyZWF0ZUNvbW1lbnQoIiIpKSwhYS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpLmxlbmd0aH0pLGMuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZT0kLnRlc3QoZy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKSxjLmdldEJ5SWQ9amEoZnVuY3Rpb24oYSl7cmV0dXJuIG8uYXBwZW5kQ2hpbGQoYSkuaWQ9dSwhZy5nZXRFbGVtZW50c0J5TmFtZXx8IWcuZ2V0RWxlbWVudHNCeU5hbWUodSkubGVuZ3RofSksYy5nZXRCeUlkPyhkLmZpbmQuSUQ9ZnVuY3Rpb24oYSxiKXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIGIuZ2V0RWxlbWVudEJ5SWQmJnApe3ZhciBjPWIuZ2V0RWxlbWVudEJ5SWQoYSk7cmV0dXJuIGMmJmMucGFyZW50Tm9kZT9bY106W119fSxkLmZpbHRlci5JRD1mdW5jdGlvbihhKXt2YXIgYj1hLnJlcGxhY2UoY2EsZGEpO3JldHVybiBmdW5jdGlvbihhKXtyZXR1cm4gYS5nZXRBdHRyaWJ1dGUoImlkIik9PT1ifX0pOihkZWxldGUgZC5maW5kLklELGQuZmlsdGVyLklEPWZ1bmN0aW9uKGEpe3ZhciBiPWEucmVwbGFjZShjYSxkYSk7cmV0dXJuIGZ1bmN0aW9uKGEpe3ZhciBjPSJ1bmRlZmluZWQiIT10eXBlb2YgYS5nZXRBdHRyaWJ1dGVOb2RlJiZhLmdldEF0dHJpYnV0ZU5vZGUoImlkIik7cmV0dXJuIGMmJmMudmFsdWU9PT1ifX0pLGQuZmluZC5UQUc9Yy5nZXRFbGVtZW50c0J5VGFnTmFtZT9mdW5jdGlvbihhLGIpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgYi5nZXRFbGVtZW50c0J5VGFnTmFtZT9iLmdldEVsZW1lbnRzQnlUYWdOYW1lKGEpOmMucXNhP2IucXVlcnlTZWxlY3RvckFsbChhKTp2b2lkIDB9OmZ1bmN0aW9uKGEsYil7dmFyIGMsZD1bXSxlPTAsZj1iLmdldEVsZW1lbnRzQnlUYWdOYW1lKGEpO2lmKCIqIj09PWEpe3doaWxlKGM9ZltlKytdKTE9PT1jLm5vZGVUeXBlJiZkLnB1c2goYyk7cmV0dXJuIGR9cmV0dXJuIGZ9LGQuZmluZC5DTEFTUz1jLmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJmZ1bmN0aW9uKGEsYil7cmV0dXJuIHA/Yi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGEpOnZvaWQgMH0scj1bXSxxPVtdLChjLnFzYT0kLnRlc3QoZy5xdWVyeVNlbGVjdG9yQWxsKSkmJihqYShmdW5jdGlvbihhKXtvLmFwcGVuZENoaWxkKGEpLmlubmVySFRNTD0iPGEgaWQ9JyIrdSsiJz48L2E+PHNlbGVjdCBpZD0nIit1KyItXGZdJyBtc2FsbG93Y2FwdHVyZT0nJz48b3B0aW9uIHNlbGVjdGVkPScnPjwvb3B0aW9uPjwvc2VsZWN0PiIsYS5xdWVyeVNlbGVjdG9yQWxsKCJbbXNhbGxvd2NhcHR1cmVePScnXSIpLmxlbmd0aCYmcS5wdXNoKCJbKl4kXT0iK0wrIiooPzonJ3xcIlwiKSIpLGEucXVlcnlTZWxlY3RvckFsbCgiW3NlbGVjdGVkXSIpLmxlbmd0aHx8cS5wdXNoKCJcXFsiK0wrIiooPzp2YWx1ZXwiK0srIikiKSxhLnF1ZXJ5U2VsZWN0b3JBbGwoIltpZH49Iit1KyItXSIpLmxlbmd0aHx8cS5wdXNoKCJ+PSIpLGEucXVlcnlTZWxlY3RvckFsbCgiOmNoZWNrZWQiKS5sZW5ndGh8fHEucHVzaCgiOmNoZWNrZWQiKSxhLnF1ZXJ5U2VsZWN0b3JBbGwoImEjIit1KyIrKiIpLmxlbmd0aHx8cS5wdXNoKCIuIy4rWyt+XSIpfSksamEoZnVuY3Rpb24oYSl7dmFyIGI9Zy5jcmVhdGVFbGVtZW50KCJpbnB1dCIpO2Iuc2V0QXR0cmlidXRlKCJ0eXBlIiwiaGlkZGVuIiksYS5hcHBlbmRDaGlsZChiKS5zZXRBdHRyaWJ1dGUoIm5hbWUiLCJEIiksYS5xdWVyeVNlbGVjdG9yQWxsKCJbbmFtZT1kXSIpLmxlbmd0aCYmcS5wdXNoKCJuYW1lIitMKyIqWypeJHwhfl0/PSIpLGEucXVlcnlTZWxlY3RvckFsbCgiOmVuYWJsZWQiKS5sZW5ndGh8fHEucHVzaCgiOmVuYWJsZWQiLCI6ZGlzYWJsZWQiKSxhLnF1ZXJ5U2VsZWN0b3JBbGwoIiosOngiKSxxLnB1c2goIiwuKjoiKX0pKSwoYy5tYXRjaGVzU2VsZWN0b3I9JC50ZXN0KHM9by5tYXRjaGVzfHxvLndlYmtpdE1hdGNoZXNTZWxlY3Rvcnx8by5tb3pNYXRjaGVzU2VsZWN0b3J8fG8ub01hdGNoZXNTZWxlY3Rvcnx8by5tc01hdGNoZXNTZWxlY3RvcikpJiZqYShmdW5jdGlvbihhKXtjLmRpc2Nvbm5lY3RlZE1hdGNoPXMuY2FsbChhLCJkaXYiKSxzLmNhbGwoYSwiW3MhPScnXTp4Iiksci5wdXNoKCIhPSIsUCl9KSxxPXEubGVuZ3RoJiZuZXcgUmVnRXhwKHEuam9pbigifCIpKSxyPXIubGVuZ3RoJiZuZXcgUmVnRXhwKHIuam9pbigifCIpKSxiPSQudGVzdChvLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKSx0PWJ8fCQudGVzdChvLmNvbnRhaW5zKT9mdW5jdGlvbihhLGIpe3ZhciBjPTk9PT1hLm5vZGVUeXBlP2EuZG9jdW1lbnRFbGVtZW50OmEsZD1iJiZiLnBhcmVudE5vZGU7cmV0dXJuIGE9PT1kfHwhKCFkfHwxIT09ZC5ub2RlVHlwZXx8IShjLmNvbnRhaW5zP2MuY29udGFpbnMoZCk6YS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiYmMTYmYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihkKSkpfTpmdW5jdGlvbihhLGIpe2lmKGIpd2hpbGUoYj1iLnBhcmVudE5vZGUpaWYoYj09PWEpcmV0dXJuITA7cmV0dXJuITF9LEI9Yj9mdW5jdGlvbihhLGIpe2lmKGE9PT1iKXJldHVybiBsPSEwLDA7dmFyIGQ9IWEuY29tcGFyZURvY3VtZW50UG9zaXRpb24tIWIuY29tcGFyZURvY3VtZW50UG9zaXRpb247cmV0dXJuIGQ/ZDooZD0oYS5vd25lckRvY3VtZW50fHxhKT09PShiLm93bmVyRG9jdW1lbnR8fGIpP2EuY29tcGFyZURvY3VtZW50UG9zaXRpb24oYik6MSwxJmR8fCFjLnNvcnREZXRhY2hlZCYmYi5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihhKT09PWQ/YT09PWd8fGEub3duZXJEb2N1bWVudD09PXYmJnQodixhKT8tMTpiPT09Z3x8Yi5vd25lckRvY3VtZW50PT09diYmdCh2LGIpPzE6az9KKGssYSktSihrLGIpOjA6NCZkPy0xOjEpfTpmdW5jdGlvbihhLGIpe2lmKGE9PT1iKXJldHVybiBsPSEwLDA7dmFyIGMsZD0wLGU9YS5wYXJlbnROb2RlLGY9Yi5wYXJlbnROb2RlLGg9W2FdLGk9W2JdO2lmKCFlfHwhZilyZXR1cm4gYT09PWc/LTE6Yj09PWc/MTplPy0xOmY/MTprP0ooayxhKS1KKGssYik6MDtpZihlPT09ZilyZXR1cm4gbGEoYSxiKTtjPWE7d2hpbGUoYz1jLnBhcmVudE5vZGUpaC51bnNoaWZ0KGMpO2M9Yjt3aGlsZShjPWMucGFyZW50Tm9kZSlpLnVuc2hpZnQoYyk7d2hpbGUoaFtkXT09PWlbZF0pZCsrO3JldHVybiBkP2xhKGhbZF0saVtkXSk6aFtkXT09PXY/LTE6aVtkXT09PXY/MTowfSxnKTpufSxnYS5tYXRjaGVzPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGdhKGEsbnVsbCxudWxsLGIpfSxnYS5tYXRjaGVzU2VsZWN0b3I9ZnVuY3Rpb24oYSxiKXtpZigoYS5vd25lckRvY3VtZW50fHxhKSE9PW4mJm0oYSksYj1iLnJlcGxhY2UoVSwiPSckMSddIiksISghYy5tYXRjaGVzU2VsZWN0b3J8fCFwfHxyJiZyLnRlc3QoYil8fHEmJnEudGVzdChiKSkpdHJ5e3ZhciBkPXMuY2FsbChhLGIpO2lmKGR8fGMuZGlzY29ubmVjdGVkTWF0Y2h8fGEuZG9jdW1lbnQmJjExIT09YS5kb2N1bWVudC5ub2RlVHlwZSlyZXR1cm4gZH1jYXRjaChlKXt9cmV0dXJuIGdhKGIsbixudWxsLFthXSkubGVuZ3RoPjB9LGdhLmNvbnRhaW5zPWZ1bmN0aW9uKGEsYil7cmV0dXJuKGEub3duZXJEb2N1bWVudHx8YSkhPT1uJiZtKGEpLHQoYSxiKX0sZ2EuYXR0cj1mdW5jdGlvbihhLGIpeyhhLm93bmVyRG9jdW1lbnR8fGEpIT09biYmbShhKTt2YXIgZT1kLmF0dHJIYW5kbGVbYi50b0xvd2VyQ2FzZSgpXSxmPWUmJkQuY2FsbChkLmF0dHJIYW5kbGUsYi50b0xvd2VyQ2FzZSgpKT9lKGEsYiwhcCk6dm9pZCAwO3JldHVybiB2b2lkIDAhPT1mP2Y6Yy5hdHRyaWJ1dGVzfHwhcD9hLmdldEF0dHJpYnV0ZShiKTooZj1hLmdldEF0dHJpYnV0ZU5vZGUoYikpJiZmLnNwZWNpZmllZD9mLnZhbHVlOm51bGx9LGdhLmVycm9yPWZ1bmN0aW9uKGEpe3Rocm93IG5ldyBFcnJvcigiU3ludGF4IGVycm9yLCB1bnJlY29nbml6ZWQgZXhwcmVzc2lvbjogIithKX0sZ2EudW5pcXVlU29ydD1mdW5jdGlvbihhKXt2YXIgYixkPVtdLGU9MCxmPTA7aWYobD0hYy5kZXRlY3REdXBsaWNhdGVzLGs9IWMuc29ydFN0YWJsZSYmYS5zbGljZSgwKSxhLnNvcnQoQiksbCl7d2hpbGUoYj1hW2YrK10pYj09PWFbZl0mJihlPWQucHVzaChmKSk7d2hpbGUoZS0tKWEuc3BsaWNlKGRbZV0sMSl9cmV0dXJuIGs9bnVsbCxhfSxlPWdhLmdldFRleHQ9ZnVuY3Rpb24oYSl7dmFyIGIsYz0iIixkPTAsZj1hLm5vZGVUeXBlO2lmKGYpe2lmKDE9PT1mfHw5PT09Znx8MTE9PT1mKXtpZigic3RyaW5nIj09dHlwZW9mIGEudGV4dENvbnRlbnQpcmV0dXJuIGEudGV4dENvbnRlbnQ7Zm9yKGE9YS5maXJzdENoaWxkO2E7YT1hLm5leHRTaWJsaW5nKWMrPWUoYSl9ZWxzZSBpZigzPT09Znx8ND09PWYpcmV0dXJuIGEubm9kZVZhbHVlfWVsc2Ugd2hpbGUoYj1hW2QrK10pYys9ZShiKTtyZXR1cm4gY30sZD1nYS5zZWxlY3RvcnM9e2NhY2hlTGVuZ3RoOjUwLGNyZWF0ZVBzZXVkbzppYSxtYXRjaDpYLGF0dHJIYW5kbGU6e30sZmluZDp7fSxyZWxhdGl2ZTp7Ij4iOntkaXI6InBhcmVudE5vZGUiLGZpcnN0OiEwfSwiICI6e2RpcjoicGFyZW50Tm9kZSJ9LCIrIjp7ZGlyOiJwcmV2aW91c1NpYmxpbmciLGZpcnN0OiEwfSwifiI6e2RpcjoicHJldmlvdXNTaWJsaW5nIn19LHByZUZpbHRlcjp7QVRUUjpmdW5jdGlvbihhKXtyZXR1cm4gYVsxXT1hWzFdLnJlcGxhY2UoY2EsZGEpLGFbM109KGFbM118fGFbNF18fGFbNV18fCIiKS5yZXBsYWNlKGNhLGRhKSwifj0iPT09YVsyXSYmKGFbM109IiAiK2FbM10rIiAiKSxhLnNsaWNlKDAsNCl9LENISUxEOmZ1bmN0aW9uKGEpe3JldHVybiBhWzFdPWFbMV0udG9Mb3dlckNhc2UoKSwibnRoIj09PWFbMV0uc2xpY2UoMCwzKT8oYVszXXx8Z2EuZXJyb3IoYVswXSksYVs0XT0rKGFbNF0/YVs1XSsoYVs2XXx8MSk6MiooImV2ZW4iPT09YVszXXx8Im9kZCI9PT1hWzNdKSksYVs1XT0rKGFbN10rYVs4XXx8Im9kZCI9PT1hWzNdKSk6YVszXSYmZ2EuZXJyb3IoYVswXSksYX0sUFNFVURPOmZ1bmN0aW9uKGEpe3ZhciBiLGM9IWFbNl0mJmFbMl07cmV0dXJuIFguQ0hJTEQudGVzdChhWzBdKT9udWxsOihhWzNdP2FbMl09YVs0XXx8YVs1XXx8IiI6YyYmVi50ZXN0KGMpJiYoYj1nKGMsITApKSYmKGI9Yy5pbmRleE9mKCIpIixjLmxlbmd0aC1iKS1jLmxlbmd0aCkmJihhWzBdPWFbMF0uc2xpY2UoMCxiKSxhWzJdPWMuc2xpY2UoMCxiKSksYS5zbGljZSgwLDMpKX19LGZpbHRlcjp7VEFHOmZ1bmN0aW9uKGEpe3ZhciBiPWEucmVwbGFjZShjYSxkYSkudG9Mb3dlckNhc2UoKTtyZXR1cm4iKiI9PT1hP2Z1bmN0aW9uKCl7cmV0dXJuITB9OmZ1bmN0aW9uKGEpe3JldHVybiBhLm5vZGVOYW1lJiZhLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1ifX0sQ0xBU1M6ZnVuY3Rpb24oYSl7dmFyIGI9eVthKyIgIl07cmV0dXJuIGJ8fChiPW5ldyBSZWdFeHAoIihefCIrTCsiKSIrYSsiKCIrTCsifCQpIikpJiZ5KGEsZnVuY3Rpb24oYSl7cmV0dXJuIGIudGVzdCgic3RyaW5nIj09dHlwZW9mIGEuY2xhc3NOYW1lJiZhLmNsYXNzTmFtZXx8InVuZGVmaW5lZCIhPXR5cGVvZiBhLmdldEF0dHJpYnV0ZSYmYS5nZXRBdHRyaWJ1dGUoImNsYXNzIil8fCIiKX0pfSxBVFRSOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gZnVuY3Rpb24oZCl7dmFyIGU9Z2EuYXR0cihkLGEpO3JldHVybiBudWxsPT1lPyIhPSI9PT1iOmI/KGUrPSIiLCI9Ij09PWI/ZT09PWM6IiE9Ij09PWI/ZSE9PWM6Il49Ij09PWI/YyYmMD09PWUuaW5kZXhPZihjKToiKj0iPT09Yj9jJiZlLmluZGV4T2YoYyk+LTE6IiQ9Ij09PWI/YyYmZS5zbGljZSgtYy5sZW5ndGgpPT09Yzoifj0iPT09Yj8oIiAiK2UucmVwbGFjZShRLCIgIikrIiAiKS5pbmRleE9mKGMpPi0xOiJ8PSI9PT1iP2U9PT1jfHxlLnNsaWNlKDAsYy5sZW5ndGgrMSk9PT1jKyItIjohMSk6ITB9fSxDSElMRDpmdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPSJudGgiIT09YS5zbGljZSgwLDMpLGc9Imxhc3QiIT09YS5zbGljZSgtNCksaD0ib2YtdHlwZSI9PT1iO3JldHVybiAxPT09ZCYmMD09PWU/ZnVuY3Rpb24oYSl7cmV0dXJuISFhLnBhcmVudE5vZGV9OmZ1bmN0aW9uKGIsYyxpKXt2YXIgaixrLGwsbSxuLG8scD1mIT09Zz8ibmV4dFNpYmxpbmciOiJwcmV2aW91c1NpYmxpbmciLHE9Yi5wYXJlbnROb2RlLHI9aCYmYi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLHM9IWkmJiFoO2lmKHEpe2lmKGYpe3doaWxlKHApe2w9Yjt3aGlsZShsPWxbcF0paWYoaD9sLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1yOjE9PT1sLm5vZGVUeXBlKXJldHVybiExO289cD0ib25seSI9PT1hJiYhbyYmIm5leHRTaWJsaW5nIn1yZXR1cm4hMH1pZihvPVtnP3EuZmlyc3RDaGlsZDpxLmxhc3RDaGlsZF0sZyYmcyl7az1xW3VdfHwocVt1XT17fSksaj1rW2FdfHxbXSxuPWpbMF09PT13JiZqWzFdLG09alswXT09PXcmJmpbMl0sbD1uJiZxLmNoaWxkTm9kZXNbbl07d2hpbGUobD0rK24mJmwmJmxbcF18fChtPW49MCl8fG8ucG9wKCkpaWYoMT09PWwubm9kZVR5cGUmJisrbSYmbD09PWIpe2tbYV09W3csbixtXTticmVha319ZWxzZSBpZihzJiYoaj0oYlt1XXx8KGJbdV09e30pKVthXSkmJmpbMF09PT13KW09alsxXTtlbHNlIHdoaWxlKGw9KytuJiZsJiZsW3BdfHwobT1uPTApfHxvLnBvcCgpKWlmKChoP2wubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXI6MT09PWwubm9kZVR5cGUpJiYrK20mJihzJiYoKGxbdV18fChsW3VdPXt9KSlbYV09W3csbV0pLGw9PT1iKSlicmVhaztyZXR1cm4gbS09ZSxtPT09ZHx8bSVkPT09MCYmbS9kPj0wfX19LFBTRVVETzpmdW5jdGlvbihhLGIpe3ZhciBjLGU9ZC5wc2V1ZG9zW2FdfHxkLnNldEZpbHRlcnNbYS50b0xvd2VyQ2FzZSgpXXx8Z2EuZXJyb3IoInVuc3VwcG9ydGVkIHBzZXVkbzogIithKTtyZXR1cm4gZVt1XT9lKGIpOmUubGVuZ3RoPjE/KGM9W2EsYSwiIixiXSxkLnNldEZpbHRlcnMuaGFzT3duUHJvcGVydHkoYS50b0xvd2VyQ2FzZSgpKT9pYShmdW5jdGlvbihhLGMpe3ZhciBkLGY9ZShhLGIpLGc9Zi5sZW5ndGg7d2hpbGUoZy0tKWQ9SihhLGZbZ10pLGFbZF09IShjW2RdPWZbZ10pfSk6ZnVuY3Rpb24oYSl7cmV0dXJuIGUoYSwwLGMpfSk6ZX19LHBzZXVkb3M6e25vdDppYShmdW5jdGlvbihhKXt2YXIgYj1bXSxjPVtdLGQ9aChhLnJlcGxhY2UoUiwiJDEiKSk7cmV0dXJuIGRbdV0/aWEoZnVuY3Rpb24oYSxiLGMsZSl7dmFyIGYsZz1kKGEsbnVsbCxlLFtdKSxoPWEubGVuZ3RoO3doaWxlKGgtLSkoZj1nW2hdKSYmKGFbaF09IShiW2hdPWYpKX0pOmZ1bmN0aW9uKGEsZSxmKXtyZXR1cm4gYlswXT1hLGQoYixudWxsLGYsYyksYlswXT1udWxsLCFjLnBvcCgpfX0pLGhhczppYShmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuIGdhKGEsYikubGVuZ3RoPjB9fSksY29udGFpbnM6aWEoZnVuY3Rpb24oYSl7cmV0dXJuIGE9YS5yZXBsYWNlKGNhLGRhKSxmdW5jdGlvbihiKXtyZXR1cm4oYi50ZXh0Q29udGVudHx8Yi5pbm5lclRleHR8fGUoYikpLmluZGV4T2YoYSk+LTF9fSksbGFuZzppYShmdW5jdGlvbihhKXtyZXR1cm4gVy50ZXN0KGF8fCIiKXx8Z2EuZXJyb3IoInVuc3VwcG9ydGVkIGxhbmc6ICIrYSksYT1hLnJlcGxhY2UoY2EsZGEpLnRvTG93ZXJDYXNlKCksZnVuY3Rpb24oYil7dmFyIGM7ZG8gaWYoYz1wP2IubGFuZzpiLmdldEF0dHJpYnV0ZSgieG1sOmxhbmciKXx8Yi5nZXRBdHRyaWJ1dGUoImxhbmciKSlyZXR1cm4gYz1jLnRvTG93ZXJDYXNlKCksYz09PWF8fDA9PT1jLmluZGV4T2YoYSsiLSIpO3doaWxlKChiPWIucGFyZW50Tm9kZSkmJjE9PT1iLm5vZGVUeXBlKTtyZXR1cm4hMX19KSx0YXJnZXQ6ZnVuY3Rpb24oYil7dmFyIGM9YS5sb2NhdGlvbiYmYS5sb2NhdGlvbi5oYXNoO3JldHVybiBjJiZjLnNsaWNlKDEpPT09Yi5pZH0scm9vdDpmdW5jdGlvbihhKXtyZXR1cm4gYT09PW99LGZvY3VzOmZ1bmN0aW9uKGEpe3JldHVybiBhPT09bi5hY3RpdmVFbGVtZW50JiYoIW4uaGFzRm9jdXN8fG4uaGFzRm9jdXMoKSkmJiEhKGEudHlwZXx8YS5ocmVmfHx+YS50YWJJbmRleCl9LGVuYWJsZWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuZGlzYWJsZWQ9PT0hMX0sZGlzYWJsZWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuZGlzYWJsZWQ9PT0hMH0sY2hlY2tlZDpmdW5jdGlvbihhKXt2YXIgYj1hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImlucHV0Ij09PWImJiEhYS5jaGVja2VkfHwib3B0aW9uIj09PWImJiEhYS5zZWxlY3RlZH0sc2VsZWN0ZWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucGFyZW50Tm9kZSYmYS5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXgsYS5zZWxlY3RlZD09PSEwfSxlbXB0eTpmdW5jdGlvbihhKXtmb3IoYT1hLmZpcnN0Q2hpbGQ7YTthPWEubmV4dFNpYmxpbmcpaWYoYS5ub2RlVHlwZTw2KXJldHVybiExO3JldHVybiEwfSxwYXJlbnQ6ZnVuY3Rpb24oYSl7cmV0dXJuIWQucHNldWRvcy5lbXB0eShhKX0saGVhZGVyOmZ1bmN0aW9uKGEpe3JldHVybiBaLnRlc3QoYS5ub2RlTmFtZSl9LGlucHV0OmZ1bmN0aW9uKGEpe3JldHVybiBZLnRlc3QoYS5ub2RlTmFtZSl9LGJ1dHRvbjpmdW5jdGlvbihhKXt2YXIgYj1hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImlucHV0Ij09PWImJiJidXR0b24iPT09YS50eXBlfHwiYnV0dG9uIj09PWJ9LHRleHQ6ZnVuY3Rpb24oYSl7dmFyIGI7cmV0dXJuImlucHV0Ij09PWEubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmInRleHQiPT09YS50eXBlJiYobnVsbD09KGI9YS5nZXRBdHRyaWJ1dGUoInR5cGUiKSl8fCJ0ZXh0Ij09PWIudG9Mb3dlckNhc2UoKSl9LGZpcnN0Om9hKGZ1bmN0aW9uKCl7cmV0dXJuWzBdfSksbGFzdDpvYShmdW5jdGlvbihhLGIpe3JldHVybltiLTFdfSksZXE6b2EoZnVuY3Rpb24oYSxiLGMpe3JldHVyblswPmM/YytiOmNdfSksZXZlbjpvYShmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0wO2I+YztjKz0yKWEucHVzaChjKTtyZXR1cm4gYX0pLG9kZDpvYShmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0xO2I+YztjKz0yKWEucHVzaChjKTtyZXR1cm4gYX0pLGx0Om9hKGZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9MD5jP2MrYjpjOy0tZD49MDspYS5wdXNoKGQpO3JldHVybiBhfSksZ3Q6b2EoZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD0wPmM/YytiOmM7KytkPGI7KWEucHVzaChkKTtyZXR1cm4gYX0pfX0sZC5wc2V1ZG9zLm50aD1kLnBzZXVkb3MuZXE7Zm9yKGIgaW57cmFkaW86ITAsY2hlY2tib3g6ITAsZmlsZTohMCxwYXNzd29yZDohMCxpbWFnZTohMH0pZC5wc2V1ZG9zW2JdPW1hKGIpO2ZvcihiIGlue3N1Ym1pdDohMCxyZXNldDohMH0pZC5wc2V1ZG9zW2JdPW5hKGIpO2Z1bmN0aW9uIHFhKCl7fXFhLnByb3RvdHlwZT1kLmZpbHRlcnM9ZC5wc2V1ZG9zLGQuc2V0RmlsdGVycz1uZXcgcWEsZz1nYS50b2tlbml6ZT1mdW5jdGlvbihhLGIpe3ZhciBjLGUsZixnLGgsaSxqLGs9elthKyIgIl07aWYoaylyZXR1cm4gYj8wOmsuc2xpY2UoMCk7aD1hLGk9W10saj1kLnByZUZpbHRlcjt3aGlsZShoKXsoIWN8fChlPVMuZXhlYyhoKSkpJiYoZSYmKGg9aC5zbGljZShlWzBdLmxlbmd0aCl8fGgpLGkucHVzaChmPVtdKSksYz0hMSwoZT1ULmV4ZWMoaCkpJiYoYz1lLnNoaWZ0KCksZi5wdXNoKHt2YWx1ZTpjLHR5cGU6ZVswXS5yZXBsYWNlKFIsIiAiKX0pLGg9aC5zbGljZShjLmxlbmd0aCkpO2ZvcihnIGluIGQuZmlsdGVyKSEoZT1YW2ddLmV4ZWMoaCkpfHxqW2ddJiYhKGU9altnXShlKSl8fChjPWUuc2hpZnQoKSxmLnB1c2goe3ZhbHVlOmMsdHlwZTpnLG1hdGNoZXM6ZX0pLGg9aC5zbGljZShjLmxlbmd0aCkpO2lmKCFjKWJyZWFrfXJldHVybiBiP2gubGVuZ3RoOmg/Z2EuZXJyb3IoYSk6eihhLGkpLnNsaWNlKDApfTtmdW5jdGlvbiByYShhKXtmb3IodmFyIGI9MCxjPWEubGVuZ3RoLGQ9IiI7Yz5iO2IrKylkKz1hW2JdLnZhbHVlO3JldHVybiBkfWZ1bmN0aW9uIHNhKGEsYixjKXt2YXIgZD1iLmRpcixlPWMmJiJwYXJlbnROb2RlIj09PWQsZj14Kys7cmV0dXJuIGIuZmlyc3Q/ZnVuY3Rpb24oYixjLGYpe3doaWxlKGI9YltkXSlpZigxPT09Yi5ub2RlVHlwZXx8ZSlyZXR1cm4gYShiLGMsZil9OmZ1bmN0aW9uKGIsYyxnKXt2YXIgaCxpLGo9W3csZl07aWYoZyl7d2hpbGUoYj1iW2RdKWlmKCgxPT09Yi5ub2RlVHlwZXx8ZSkmJmEoYixjLGcpKXJldHVybiEwfWVsc2Ugd2hpbGUoYj1iW2RdKWlmKDE9PT1iLm5vZGVUeXBlfHxlKXtpZihpPWJbdV18fChiW3VdPXt9KSwoaD1pW2RdKSYmaFswXT09PXcmJmhbMV09PT1mKXJldHVybiBqWzJdPWhbMl07aWYoaVtkXT1qLGpbMl09YShiLGMsZykpcmV0dXJuITB9fX1mdW5jdGlvbiB0YShhKXtyZXR1cm4gYS5sZW5ndGg+MT9mdW5jdGlvbihiLGMsZCl7dmFyIGU9YS5sZW5ndGg7d2hpbGUoZS0tKWlmKCFhW2VdKGIsYyxkKSlyZXR1cm4hMTtyZXR1cm4hMH06YVswXX1mdW5jdGlvbiB1YShhLGIsYyl7Zm9yKHZhciBkPTAsZT1iLmxlbmd0aDtlPmQ7ZCsrKWdhKGEsYltkXSxjKTtyZXR1cm4gY31mdW5jdGlvbiB2YShhLGIsYyxkLGUpe2Zvcih2YXIgZixnPVtdLGg9MCxpPWEubGVuZ3RoLGo9bnVsbCE9YjtpPmg7aCsrKShmPWFbaF0pJiYoIWN8fGMoZixkLGUpKSYmKGcucHVzaChmKSxqJiZiLnB1c2goaCkpO3JldHVybiBnfWZ1bmN0aW9uIHdhKGEsYixjLGQsZSxmKXtyZXR1cm4gZCYmIWRbdV0mJihkPXdhKGQpKSxlJiYhZVt1XSYmKGU9d2EoZSxmKSksaWEoZnVuY3Rpb24oZixnLGgsaSl7dmFyIGosayxsLG09W10sbj1bXSxvPWcubGVuZ3RoLHA9Znx8dWEoYnx8IioiLGgubm9kZVR5cGU/W2hdOmgsW10pLHE9IWF8fCFmJiZiP3A6dmEocCxtLGEsaCxpKSxyPWM/ZXx8KGY/YTpvfHxkKT9bXTpnOnE7aWYoYyYmYyhxLHIsaCxpKSxkKXtqPXZhKHIsbiksZChqLFtdLGgsaSksaz1qLmxlbmd0aDt3aGlsZShrLS0pKGw9altrXSkmJihyW25ba11dPSEocVtuW2tdXT1sKSl9aWYoZil7aWYoZXx8YSl7aWYoZSl7aj1bXSxrPXIubGVuZ3RoO3doaWxlKGstLSkobD1yW2tdKSYmai5wdXNoKHFba109bCk7ZShudWxsLHI9W10saixpKX1rPXIubGVuZ3RoO3doaWxlKGstLSkobD1yW2tdKSYmKGo9ZT9KKGYsbCk6bVtrXSk+LTEmJihmW2pdPSEoZ1tqXT1sKSl9fWVsc2Ugcj12YShyPT09Zz9yLnNwbGljZShvLHIubGVuZ3RoKTpyKSxlP2UobnVsbCxnLHIsaSk6SC5hcHBseShnLHIpfSl9ZnVuY3Rpb24geGEoYSl7Zm9yKHZhciBiLGMsZSxmPWEubGVuZ3RoLGc9ZC5yZWxhdGl2ZVthWzBdLnR5cGVdLGg9Z3x8ZC5yZWxhdGl2ZVsiICJdLGk9Zz8xOjAsaz1zYShmdW5jdGlvbihhKXtyZXR1cm4gYT09PWJ9LGgsITApLGw9c2EoZnVuY3Rpb24oYSl7cmV0dXJuIEooYixhKT4tMX0saCwhMCksbT1bZnVuY3Rpb24oYSxjLGQpe3ZhciBlPSFnJiYoZHx8YyE9PWopfHwoKGI9Yykubm9kZVR5cGU/ayhhLGMsZCk6bChhLGMsZCkpO3JldHVybiBiPW51bGwsZX1dO2Y+aTtpKyspaWYoYz1kLnJlbGF0aXZlW2FbaV0udHlwZV0pbT1bc2EodGEobSksYyldO2Vsc2V7aWYoYz1kLmZpbHRlclthW2ldLnR5cGVdLmFwcGx5KG51bGwsYVtpXS5tYXRjaGVzKSxjW3VdKXtmb3IoZT0rK2k7Zj5lO2UrKylpZihkLnJlbGF0aXZlW2FbZV0udHlwZV0pYnJlYWs7cmV0dXJuIHdhKGk+MSYmdGEobSksaT4xJiZyYShhLnNsaWNlKDAsaS0xKS5jb25jYXQoe3ZhbHVlOiIgIj09PWFbaS0yXS50eXBlPyIqIjoiIn0pKS5yZXBsYWNlKFIsIiQxIiksYyxlPmkmJnhhKGEuc2xpY2UoaSxlKSksZj5lJiZ4YShhPWEuc2xpY2UoZSkpLGY+ZSYmcmEoYSkpfW0ucHVzaChjKX1yZXR1cm4gdGEobSl9ZnVuY3Rpb24geWEoYSxiKXt2YXIgYz1iLmxlbmd0aD4wLGU9YS5sZW5ndGg+MCxmPWZ1bmN0aW9uKGYsZyxoLGksayl7dmFyIGwsbSxvLHA9MCxxPSIwIixyPWYmJltdLHM9W10sdD1qLHU9Znx8ZSYmZC5maW5kLlRBRygiKiIsayksdj13Kz1udWxsPT10PzE6TWF0aC5yYW5kb20oKXx8LjEseD11Lmxlbmd0aDtmb3IoayYmKGo9ZyE9PW4mJmcpO3EhPT14JiZudWxsIT0obD11W3FdKTtxKyspe2lmKGUmJmwpe209MDt3aGlsZShvPWFbbSsrXSlpZihvKGwsZyxoKSl7aS5wdXNoKGwpO2JyZWFrfWsmJih3PXYpfWMmJigobD0hbyYmbCkmJnAtLSxmJiZyLnB1c2gobCkpfWlmKHArPXEsYyYmcSE9PXApe209MDt3aGlsZShvPWJbbSsrXSlvKHIscyxnLGgpO2lmKGYpe2lmKHA+MCl3aGlsZShxLS0pcltxXXx8c1txXXx8KHNbcV09Ri5jYWxsKGkpKTtzPXZhKHMpfUguYXBwbHkoaSxzKSxrJiYhZiYmcy5sZW5ndGg+MCYmcCtiLmxlbmd0aD4xJiZnYS51bmlxdWVTb3J0KGkpfXJldHVybiBrJiYodz12LGo9dCkscn07cmV0dXJuIGM/aWEoZik6Zn1yZXR1cm4gaD1nYS5jb21waWxlPWZ1bmN0aW9uKGEsYil7dmFyIGMsZD1bXSxlPVtdLGY9QVthKyIgIl07aWYoIWYpe2J8fChiPWcoYSkpLGM9Yi5sZW5ndGg7d2hpbGUoYy0tKWY9eGEoYltjXSksZlt1XT9kLnB1c2goZik6ZS5wdXNoKGYpO2Y9QShhLHlhKGUsZCkpLGYuc2VsZWN0b3I9YX1yZXR1cm4gZn0saT1nYS5zZWxlY3Q9ZnVuY3Rpb24oYSxiLGUsZil7dmFyIGksaixrLGwsbSxuPSJmdW5jdGlvbiI9PXR5cGVvZiBhJiZhLG89IWYmJmcoYT1uLnNlbGVjdG9yfHxhKTtpZihlPWV8fFtdLDE9PT1vLmxlbmd0aCl7aWYoaj1vWzBdPW9bMF0uc2xpY2UoMCksai5sZW5ndGg+MiYmIklEIj09PShrPWpbMF0pLnR5cGUmJmMuZ2V0QnlJZCYmOT09PWIubm9kZVR5cGUmJnAmJmQucmVsYXRpdmVbalsxXS50eXBlXSl7aWYoYj0oZC5maW5kLklEKGsubWF0Y2hlc1swXS5yZXBsYWNlKGNhLGRhKSxiKXx8W10pWzBdLCFiKXJldHVybiBlO24mJihiPWIucGFyZW50Tm9kZSksYT1hLnNsaWNlKGouc2hpZnQoKS52YWx1ZS5sZW5ndGgpfWk9WC5uZWVkc0NvbnRleHQudGVzdChhKT8wOmoubGVuZ3RoO3doaWxlKGktLSl7aWYoaz1qW2ldLGQucmVsYXRpdmVbbD1rLnR5cGVdKWJyZWFrO2lmKChtPWQuZmluZFtsXSkmJihmPW0oay5tYXRjaGVzWzBdLnJlcGxhY2UoY2EsZGEpLGFhLnRlc3QoalswXS50eXBlKSYmcGEoYi5wYXJlbnROb2RlKXx8YikpKXtpZihqLnNwbGljZShpLDEpLGE9Zi5sZW5ndGgmJnJhKGopLCFhKXJldHVybiBILmFwcGx5KGUsZiksZTticmVha319fXJldHVybihufHxoKGEsbykpKGYsYiwhcCxlLGFhLnRlc3QoYSkmJnBhKGIucGFyZW50Tm9kZSl8fGIpLGV9LGMuc29ydFN0YWJsZT11LnNwbGl0KCIiKS5zb3J0KEIpLmpvaW4oIiIpPT09dSxjLmRldGVjdER1cGxpY2F0ZXM9ISFsLG0oKSxjLnNvcnREZXRhY2hlZD1qYShmdW5jdGlvbihhKXtyZXR1cm4gMSZhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKG4uY3JlYXRlRWxlbWVudCgiZGl2IikpfSksamEoZnVuY3Rpb24oYSl7cmV0dXJuIGEuaW5uZXJIVE1MPSI8YSBocmVmPScjJz48L2E+IiwiIyI9PT1hLmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKCJocmVmIil9KXx8a2EoInR5cGV8aHJlZnxoZWlnaHR8d2lkdGgiLGZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYz92b2lkIDA6YS5nZXRBdHRyaWJ1dGUoYiwidHlwZSI9PT1iLnRvTG93ZXJDYXNlKCk/MToyKX0pLGMuYXR0cmlidXRlcyYmamEoZnVuY3Rpb24oYSl7cmV0dXJuIGEuaW5uZXJIVE1MPSI8aW5wdXQvPiIsYS5maXJzdENoaWxkLnNldEF0dHJpYnV0ZSgidmFsdWUiLCIiKSwiIj09PWEuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoInZhbHVlIil9KXx8a2EoInZhbHVlIixmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGN8fCJpbnB1dCIhPT1hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk/dm9pZCAwOmEuZGVmYXVsdFZhbHVlfSksamEoZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PWEuZ2V0QXR0cmlidXRlKCJkaXNhYmxlZCIpfSl8fGthKEssZnVuY3Rpb24oYSxiLGMpe3ZhciBkO3JldHVybiBjP3ZvaWQgMDphW2JdPT09ITA/Yi50b0xvd2VyQ2FzZSgpOihkPWEuZ2V0QXR0cmlidXRlTm9kZShiKSkmJmQuc3BlY2lmaWVkP2QudmFsdWU6bnVsbH0pLGdhfShhKTttLmZpbmQ9cyxtLmV4cHI9cy5zZWxlY3RvcnMsbS5leHByWyI6Il09bS5leHByLnBzZXVkb3MsbS51bmlxdWU9cy51bmlxdWVTb3J0LG0udGV4dD1zLmdldFRleHQsbS5pc1hNTERvYz1zLmlzWE1MLG0uY29udGFpbnM9cy5jb250YWluczt2YXIgdD1tLmV4cHIubWF0Y2gubmVlZHNDb250ZXh0LHU9L148KFx3KylccypcLz8+KD86PFwvXDE+fCkkLyx2PS9eLlteOiNcW1wuLF0qJC87ZnVuY3Rpb24gdyhhLGIsYyl7aWYobS5pc0Z1bmN0aW9uKGIpKXJldHVybiBtLmdyZXAoYSxmdW5jdGlvbihhLGQpe3JldHVybiEhYi5jYWxsKGEsZCxhKSE9PWN9KTtpZihiLm5vZGVUeXBlKXJldHVybiBtLmdyZXAoYSxmdW5jdGlvbihhKXtyZXR1cm4gYT09PWIhPT1jfSk7aWYoInN0cmluZyI9PXR5cGVvZiBiKXtpZih2LnRlc3QoYikpcmV0dXJuIG0uZmlsdGVyKGIsYSxjKTtiPW0uZmlsdGVyKGIsYSl9cmV0dXJuIG0uZ3JlcChhLGZ1bmN0aW9uKGEpe3JldHVybiBtLmluQXJyYXkoYSxiKT49MCE9PWN9KX1tLmZpbHRlcj1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9YlswXTtyZXR1cm4gYyYmKGE9Ijpub3QoIithKyIpIiksMT09PWIubGVuZ3RoJiYxPT09ZC5ub2RlVHlwZT9tLmZpbmQubWF0Y2hlc1NlbGVjdG9yKGQsYSk/W2RdOltdOm0uZmluZC5tYXRjaGVzKGEsbS5ncmVwKGIsZnVuY3Rpb24oYSl7cmV0dXJuIDE9PT1hLm5vZGVUeXBlfSkpfSxtLmZuLmV4dGVuZCh7ZmluZDpmdW5jdGlvbihhKXt2YXIgYixjPVtdLGQ9dGhpcyxlPWQubGVuZ3RoO2lmKCJzdHJpbmciIT10eXBlb2YgYSlyZXR1cm4gdGhpcy5wdXNoU3RhY2sobShhKS5maWx0ZXIoZnVuY3Rpb24oKXtmb3IoYj0wO2U+YjtiKyspaWYobS5jb250YWlucyhkW2JdLHRoaXMpKXJldHVybiEwfSkpO2ZvcihiPTA7ZT5iO2IrKyltLmZpbmQoYSxkW2JdLGMpO3JldHVybiBjPXRoaXMucHVzaFN0YWNrKGU+MT9tLnVuaXF1ZShjKTpjKSxjLnNlbGVjdG9yPXRoaXMuc2VsZWN0b3I/dGhpcy5zZWxlY3RvcisiICIrYTphLGN9LGZpbHRlcjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2sodyh0aGlzLGF8fFtdLCExKSl9LG5vdDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2sodyh0aGlzLGF8fFtdLCEwKSl9LGlzOmZ1bmN0aW9uKGEpe3JldHVybiEhdyh0aGlzLCJzdHJpbmciPT10eXBlb2YgYSYmdC50ZXN0KGEpP20oYSk6YXx8W10sITEpLmxlbmd0aH19KTt2YXIgeCx5PWEuZG9jdW1lbnQsej0vXig/OlxzKig8W1x3XFddKz4pW14+XSp8IyhbXHctXSopKSQvLEE9bS5mbi5pbml0PWZ1bmN0aW9uKGEsYil7dmFyIGMsZDtpZighYSlyZXR1cm4gdGhpcztpZigic3RyaW5nIj09dHlwZW9mIGEpe2lmKGM9IjwiPT09YS5jaGFyQXQoMCkmJiI+Ij09PWEuY2hhckF0KGEubGVuZ3RoLTEpJiZhLmxlbmd0aD49Mz9bbnVsbCxhLG51bGxdOnouZXhlYyhhKSwhY3x8IWNbMV0mJmIpcmV0dXJuIWJ8fGIuanF1ZXJ5PyhifHx4KS5maW5kKGEpOnRoaXMuY29uc3RydWN0b3IoYikuZmluZChhKTtpZihjWzFdKXtpZihiPWIgaW5zdGFuY2VvZiBtP2JbMF06YixtLm1lcmdlKHRoaXMsbS5wYXJzZUhUTUwoY1sxXSxiJiZiLm5vZGVUeXBlP2Iub3duZXJEb2N1bWVudHx8Yjp5LCEwKSksdS50ZXN0KGNbMV0pJiZtLmlzUGxhaW5PYmplY3QoYikpZm9yKGMgaW4gYiltLmlzRnVuY3Rpb24odGhpc1tjXSk/dGhpc1tjXShiW2NdKTp0aGlzLmF0dHIoYyxiW2NdKTtyZXR1cm4gdGhpc31pZihkPXkuZ2V0RWxlbWVudEJ5SWQoY1syXSksZCYmZC5wYXJlbnROb2RlKXtpZihkLmlkIT09Y1syXSlyZXR1cm4geC5maW5kKGEpO3RoaXMubGVuZ3RoPTEsdGhpc1swXT1kfXJldHVybiB0aGlzLmNvbnRleHQ9eSx0aGlzLnNlbGVjdG9yPWEsdGhpc31yZXR1cm4gYS5ub2RlVHlwZT8odGhpcy5jb250ZXh0PXRoaXNbMF09YSx0aGlzLmxlbmd0aD0xLHRoaXMpOm0uaXNGdW5jdGlvbihhKT8idW5kZWZpbmVkIiE9dHlwZW9mIHgucmVhZHk/eC5yZWFkeShhKTphKG0pOih2b2lkIDAhPT1hLnNlbGVjdG9yJiYodGhpcy5zZWxlY3Rvcj1hLnNlbGVjdG9yLHRoaXMuY29udGV4dD1hLmNvbnRleHQpLG0ubWFrZUFycmF5KGEsdGhpcykpfTtBLnByb3RvdHlwZT1tLmZuLHg9bSh5KTt2YXIgQj0vXig/OnBhcmVudHN8cHJldig/OlVudGlsfEFsbCkpLyxDPXtjaGlsZHJlbjohMCxjb250ZW50czohMCxuZXh0OiEwLHByZXY6ITB9O20uZXh0ZW5kKHtkaXI6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPVtdLGU9YVtiXTt3aGlsZShlJiY5IT09ZS5ub2RlVHlwZSYmKHZvaWQgMD09PWN8fDEhPT1lLm5vZGVUeXBlfHwhbShlKS5pcyhjKSkpMT09PWUubm9kZVR5cGUmJmQucHVzaChlKSxlPWVbYl07cmV0dXJuIGR9LHNpYmxpbmc6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9W107YTthPWEubmV4dFNpYmxpbmcpMT09PWEubm9kZVR5cGUmJmEhPT1iJiZjLnB1c2goYSk7cmV0dXJuIGN9fSksbS5mbi5leHRlbmQoe2hhczpmdW5jdGlvbihhKXt2YXIgYixjPW0oYSx0aGlzKSxkPWMubGVuZ3RoO3JldHVybiB0aGlzLmZpbHRlcihmdW5jdGlvbigpe2ZvcihiPTA7ZD5iO2IrKylpZihtLmNvbnRhaW5zKHRoaXMsY1tiXSkpcmV0dXJuITB9KX0sY2xvc2VzdDpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYyxkPTAsZT10aGlzLmxlbmd0aCxmPVtdLGc9dC50ZXN0KGEpfHwic3RyaW5nIiE9dHlwZW9mIGE/bShhLGJ8fHRoaXMuY29udGV4dCk6MDtlPmQ7ZCsrKWZvcihjPXRoaXNbZF07YyYmYyE9PWI7Yz1jLnBhcmVudE5vZGUpaWYoYy5ub2RlVHlwZTwxMSYmKGc/Zy5pbmRleChjKT4tMToxPT09Yy5ub2RlVHlwZSYmbS5maW5kLm1hdGNoZXNTZWxlY3RvcihjLGEpKSl7Zi5wdXNoKGMpO2JyZWFrfXJldHVybiB0aGlzLnB1c2hTdGFjayhmLmxlbmd0aD4xP20udW5pcXVlKGYpOmYpfSxpbmRleDpmdW5jdGlvbihhKXtyZXR1cm4gYT8ic3RyaW5nIj09dHlwZW9mIGE/bS5pbkFycmF5KHRoaXNbMF0sbShhKSk6bS5pbkFycmF5KGEuanF1ZXJ5P2FbMF06YSx0aGlzKTp0aGlzWzBdJiZ0aGlzWzBdLnBhcmVudE5vZGU/dGhpcy5maXJzdCgpLnByZXZBbGwoKS5sZW5ndGg6LTF9LGFkZDpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLnB1c2hTdGFjayhtLnVuaXF1ZShtLm1lcmdlKHRoaXMuZ2V0KCksbShhLGIpKSkpfSxhZGRCYWNrOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmFkZChudWxsPT1hP3RoaXMucHJldk9iamVjdDp0aGlzLnByZXZPYmplY3QuZmlsdGVyKGEpKX19KTtmdW5jdGlvbiBEKGEsYil7ZG8gYT1hW2JdO3doaWxlKGEmJjEhPT1hLm5vZGVUeXBlKTtyZXR1cm4gYX1tLmVhY2goe3BhcmVudDpmdW5jdGlvbihhKXt2YXIgYj1hLnBhcmVudE5vZGU7cmV0dXJuIGImJjExIT09Yi5ub2RlVHlwZT9iOm51bGx9LHBhcmVudHM6ZnVuY3Rpb24oYSl7cmV0dXJuIG0uZGlyKGEsInBhcmVudE5vZGUiKX0scGFyZW50c1VudGlsOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gbS5kaXIoYSwicGFyZW50Tm9kZSIsYyl9LG5leHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIEQoYSwibmV4dFNpYmxpbmciKX0scHJldjpmdW5jdGlvbihhKXtyZXR1cm4gRChhLCJwcmV2aW91c1NpYmxpbmciKX0sbmV4dEFsbDpmdW5jdGlvbihhKXtyZXR1cm4gbS5kaXIoYSwibmV4dFNpYmxpbmciKX0scHJldkFsbDpmdW5jdGlvbihhKXtyZXR1cm4gbS5kaXIoYSwicHJldmlvdXNTaWJsaW5nIil9LG5leHRVbnRpbDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIG0uZGlyKGEsIm5leHRTaWJsaW5nIixjKX0scHJldlVudGlsOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gbS5kaXIoYSwicHJldmlvdXNTaWJsaW5nIixjKX0sc2libGluZ3M6ZnVuY3Rpb24oYSl7cmV0dXJuIG0uc2libGluZygoYS5wYXJlbnROb2RlfHx7fSkuZmlyc3RDaGlsZCxhKX0sY2hpbGRyZW46ZnVuY3Rpb24oYSl7cmV0dXJuIG0uc2libGluZyhhLmZpcnN0Q2hpbGQpfSxjb250ZW50czpmdW5jdGlvbihhKXtyZXR1cm4gbS5ub2RlTmFtZShhLCJpZnJhbWUiKT9hLmNvbnRlbnREb2N1bWVudHx8YS5jb250ZW50V2luZG93LmRvY3VtZW50Om0ubWVyZ2UoW10sYS5jaGlsZE5vZGVzKX19LGZ1bmN0aW9uKGEsYil7bS5mblthXT1mdW5jdGlvbihjLGQpe3ZhciBlPW0ubWFwKHRoaXMsYixjKTtyZXR1cm4iVW50aWwiIT09YS5zbGljZSgtNSkmJihkPWMpLGQmJiJzdHJpbmciPT10eXBlb2YgZCYmKGU9bS5maWx0ZXIoZCxlKSksdGhpcy5sZW5ndGg+MSYmKENbYV18fChlPW0udW5pcXVlKGUpKSxCLnRlc3QoYSkmJihlPWUucmV2ZXJzZSgpKSksdGhpcy5wdXNoU3RhY2soZSl9fSk7dmFyIEU9L1xTKy9nLEY9e307ZnVuY3Rpb24gRyhhKXt2YXIgYj1GW2FdPXt9O3JldHVybiBtLmVhY2goYS5tYXRjaChFKXx8W10sZnVuY3Rpb24oYSxjKXtiW2NdPSEwfSksYn1tLkNhbGxiYWNrcz1mdW5jdGlvbihhKXthPSJzdHJpbmciPT10eXBlb2YgYT9GW2FdfHxHKGEpOm0uZXh0ZW5kKHt9LGEpO3ZhciBiLGMsZCxlLGYsZyxoPVtdLGk9IWEub25jZSYmW10saj1mdW5jdGlvbihsKXtmb3IoYz1hLm1lbW9yeSYmbCxkPSEwLGY9Z3x8MCxnPTAsZT1oLmxlbmd0aCxiPSEwO2gmJmU+ZjtmKyspaWYoaFtmXS5hcHBseShsWzBdLGxbMV0pPT09ITEmJmEuc3RvcE9uRmFsc2Upe2M9ITE7YnJlYWt9Yj0hMSxoJiYoaT9pLmxlbmd0aCYmaihpLnNoaWZ0KCkpOmM/aD1bXTprLmRpc2FibGUoKSl9LGs9e2FkZDpmdW5jdGlvbigpe2lmKGgpe3ZhciBkPWgubGVuZ3RoOyFmdW5jdGlvbiBmKGIpe20uZWFjaChiLGZ1bmN0aW9uKGIsYyl7dmFyIGQ9bS50eXBlKGMpOyJmdW5jdGlvbiI9PT1kP2EudW5pcXVlJiZrLmhhcyhjKXx8aC5wdXNoKGMpOmMmJmMubGVuZ3RoJiYic3RyaW5nIiE9PWQmJmYoYyl9KX0oYXJndW1lbnRzKSxiP2U9aC5sZW5ndGg6YyYmKGc9ZCxqKGMpKX1yZXR1cm4gdGhpc30scmVtb3ZlOmZ1bmN0aW9uKCl7cmV0dXJuIGgmJm0uZWFjaChhcmd1bWVudHMsZnVuY3Rpb24oYSxjKXt2YXIgZDt3aGlsZSgoZD1tLmluQXJyYXkoYyxoLGQpKT4tMSloLnNwbGljZShkLDEpLGImJihlPj1kJiZlLS0sZj49ZCYmZi0tKX0pLHRoaXN9LGhhczpmdW5jdGlvbihhKXtyZXR1cm4gYT9tLmluQXJyYXkoYSxoKT4tMTohKCFofHwhaC5sZW5ndGgpfSxlbXB0eTpmdW5jdGlvbigpe3JldHVybiBoPVtdLGU9MCx0aGlzfSxkaXNhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIGg9aT1jPXZvaWQgMCx0aGlzfSxkaXNhYmxlZDpmdW5jdGlvbigpe3JldHVybiFofSxsb2NrOmZ1bmN0aW9uKCl7cmV0dXJuIGk9dm9pZCAwLGN8fGsuZGlzYWJsZSgpLHRoaXN9LGxvY2tlZDpmdW5jdGlvbigpe3JldHVybiFpfSxmaXJlV2l0aDpmdW5jdGlvbihhLGMpe3JldHVybiFofHxkJiYhaXx8KGM9Y3x8W10sYz1bYSxjLnNsaWNlP2Muc2xpY2UoKTpjXSxiP2kucHVzaChjKTpqKGMpKSx0aGlzfSxmaXJlOmZ1bmN0aW9uKCl7cmV0dXJuIGsuZmlyZVdpdGgodGhpcyxhcmd1bWVudHMpLHRoaXN9LGZpcmVkOmZ1bmN0aW9uKCl7cmV0dXJuISFkfX07cmV0dXJuIGt9LG0uZXh0ZW5kKHtEZWZlcnJlZDpmdW5jdGlvbihhKXt2YXIgYj1bWyJyZXNvbHZlIiwiZG9uZSIsbS5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IiksInJlc29sdmVkIl0sWyJyZWplY3QiLCJmYWlsIixtLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSwicmVqZWN0ZWQiXSxbIm5vdGlmeSIsInByb2dyZXNzIixtLkNhbGxiYWNrcygibWVtb3J5IildXSxjPSJwZW5kaW5nIixkPXtzdGF0ZTpmdW5jdGlvbigpe3JldHVybiBjfSxhbHdheXM6ZnVuY3Rpb24oKXtyZXR1cm4gZS5kb25lKGFyZ3VtZW50cykuZmFpbChhcmd1bWVudHMpLHRoaXN9LHRoZW46ZnVuY3Rpb24oKXt2YXIgYT1hcmd1bWVudHM7cmV0dXJuIG0uRGVmZXJyZWQoZnVuY3Rpb24oYyl7bS5lYWNoKGIsZnVuY3Rpb24oYixmKXt2YXIgZz1tLmlzRnVuY3Rpb24oYVtiXSkmJmFbYl07ZVtmWzFdXShmdW5jdGlvbigpe3ZhciBhPWcmJmcuYXBwbHkodGhpcyxhcmd1bWVudHMpO2EmJm0uaXNGdW5jdGlvbihhLnByb21pc2UpP2EucHJvbWlzZSgpLmRvbmUoYy5yZXNvbHZlKS5mYWlsKGMucmVqZWN0KS5wcm9ncmVzcyhjLm5vdGlmeSk6Y1tmWzBdKyJXaXRoIl0odGhpcz09PWQ/Yy5wcm9taXNlKCk6dGhpcyxnP1thXTphcmd1bWVudHMpfSl9KSxhPW51bGx9KS5wcm9taXNlKCl9LHByb21pc2U6ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWE/bS5leHRlbmQoYSxkKTpkfX0sZT17fTtyZXR1cm4gZC5waXBlPWQudGhlbixtLmVhY2goYixmdW5jdGlvbihhLGYpe3ZhciBnPWZbMl0saD1mWzNdO2RbZlsxXV09Zy5hZGQsaCYmZy5hZGQoZnVuY3Rpb24oKXtjPWh9LGJbMV5hXVsyXS5kaXNhYmxlLGJbMl1bMl0ubG9jayksZVtmWzBdXT1mdW5jdGlvbigpe3JldHVybiBlW2ZbMF0rIldpdGgiXSh0aGlzPT09ZT9kOnRoaXMsYXJndW1lbnRzKSx0aGlzfSxlW2ZbMF0rIldpdGgiXT1nLmZpcmVXaXRofSksZC5wcm9taXNlKGUpLGEmJmEuY2FsbChlLGUpLGV9LHdoZW46ZnVuY3Rpb24oYSl7dmFyIGI9MCxjPWQuY2FsbChhcmd1bWVudHMpLGU9Yy5sZW5ndGgsZj0xIT09ZXx8YSYmbS5pc0Z1bmN0aW9uKGEucHJvbWlzZSk/ZTowLGc9MT09PWY/YTptLkRlZmVycmVkKCksaD1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIGZ1bmN0aW9uKGUpe2JbYV09dGhpcyxjW2FdPWFyZ3VtZW50cy5sZW5ndGg+MT9kLmNhbGwoYXJndW1lbnRzKTplLGM9PT1pP2cubm90aWZ5V2l0aChiLGMpOi0tZnx8Zy5yZXNvbHZlV2l0aChiLGMpfX0saSxqLGs7aWYoZT4xKWZvcihpPW5ldyBBcnJheShlKSxqPW5ldyBBcnJheShlKSxrPW5ldyBBcnJheShlKTtlPmI7YisrKWNbYl0mJm0uaXNGdW5jdGlvbihjW2JdLnByb21pc2UpP2NbYl0ucHJvbWlzZSgpLmRvbmUoaChiLGssYykpLmZhaWwoZy5yZWplY3QpLnByb2dyZXNzKGgoYixqLGkpKTotLWY7cmV0dXJuIGZ8fGcucmVzb2x2ZVdpdGgoayxjKSxnLnByb21pc2UoKX19KTt2YXIgSDttLmZuLnJlYWR5PWZ1bmN0aW9uKGEpe3JldHVybiBtLnJlYWR5LnByb21pc2UoKS5kb25lKGEpLHRoaXN9LG0uZXh0ZW5kKHtpc1JlYWR5OiExLHJlYWR5V2FpdDoxLGhvbGRSZWFkeTpmdW5jdGlvbihhKXthP20ucmVhZHlXYWl0Kys6bS5yZWFkeSghMCl9LHJlYWR5OmZ1bmN0aW9uKGEpe2lmKGE9PT0hMD8hLS1tLnJlYWR5V2FpdDohbS5pc1JlYWR5KXtpZigheS5ib2R5KXJldHVybiBzZXRUaW1lb3V0KG0ucmVhZHkpO20uaXNSZWFkeT0hMCxhIT09ITAmJi0tbS5yZWFkeVdhaXQ+MHx8KEgucmVzb2x2ZVdpdGgoeSxbbV0pLG0uZm4udHJpZ2dlckhhbmRsZXImJihtKHkpLnRyaWdnZXJIYW5kbGVyKCJyZWFkeSIpLG0oeSkub2ZmKCJyZWFkeSIpKSl9fX0pO2Z1bmN0aW9uIEkoKXt5LmFkZEV2ZW50TGlzdGVuZXI/KHkucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsSiwhMSksYS5yZW1vdmVFdmVudExpc3RlbmVyKCJsb2FkIixKLCExKSk6KHkuZGV0YWNoRXZlbnQoIm9ucmVhZHlzdGF0ZWNoYW5nZSIsSiksYS5kZXRhY2hFdmVudCgib25sb2FkIixKKSl9ZnVuY3Rpb24gSigpeyh5LmFkZEV2ZW50TGlzdGVuZXJ8fCJsb2FkIj09PWV2ZW50LnR5cGV8fCJjb21wbGV0ZSI9PT15LnJlYWR5U3RhdGUpJiYoSSgpLG0ucmVhZHkoKSl9bS5yZWFkeS5wcm9taXNlPWZ1bmN0aW9uKGIpe2lmKCFIKWlmKEg9bS5EZWZlcnJlZCgpLCJjb21wbGV0ZSI9PT15LnJlYWR5U3RhdGUpc2V0VGltZW91dChtLnJlYWR5KTtlbHNlIGlmKHkuYWRkRXZlbnRMaXN0ZW5lcil5LmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLEosITEpLGEuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsSiwhMSk7ZWxzZXt5LmF0dGFjaEV2ZW50KCJvbnJlYWR5c3RhdGVjaGFuZ2UiLEopLGEuYXR0YWNoRXZlbnQoIm9ubG9hZCIsSik7dmFyIGM9ITE7dHJ5e2M9bnVsbD09YS5mcmFtZUVsZW1lbnQmJnkuZG9jdW1lbnRFbGVtZW50fWNhdGNoKGQpe31jJiZjLmRvU2Nyb2xsJiYhZnVuY3Rpb24gZSgpe2lmKCFtLmlzUmVhZHkpe3RyeXtjLmRvU2Nyb2xsKCJsZWZ0Iil9Y2F0Y2goYSl7cmV0dXJuIHNldFRpbWVvdXQoZSw1MCl9SSgpLG0ucmVhZHkoKX19KCl9cmV0dXJuIEgucHJvbWlzZShiKX07dmFyIEs9InVuZGVmaW5lZCIsTDtmb3IoTCBpbiBtKGspKWJyZWFrO2sub3duTGFzdD0iMCIhPT1MLGsuaW5saW5lQmxvY2tOZWVkc0xheW91dD0hMSxtKGZ1bmN0aW9uKCl7dmFyIGEsYixjLGQ7Yz15LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJib2R5IilbMF0sYyYmYy5zdHlsZSYmKGI9eS5jcmVhdGVFbGVtZW50KCJkaXYiKSxkPXkuY3JlYXRlRWxlbWVudCgiZGl2IiksZC5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjphYnNvbHV0ZTtib3JkZXI6MDt3aWR0aDowO2hlaWdodDowO3RvcDowO2xlZnQ6LTk5OTlweCIsYy5hcHBlbmRDaGlsZChkKS5hcHBlbmRDaGlsZChiKSx0eXBlb2YgYi5zdHlsZS56b29tIT09SyYmKGIuc3R5bGUuY3NzVGV4dD0iZGlzcGxheTppbmxpbmU7bWFyZ2luOjA7Ym9yZGVyOjA7cGFkZGluZzoxcHg7d2lkdGg6MXB4O3pvb206MSIsay5pbmxpbmVCbG9ja05lZWRzTGF5b3V0PWE9Mz09PWIub2Zmc2V0V2lkdGgsYSYmKGMuc3R5bGUuem9vbT0xKSksYy5yZW1vdmVDaGlsZChkKSl9KSxmdW5jdGlvbigpe3ZhciBhPXkuY3JlYXRlRWxlbWVudCgiZGl2Iik7aWYobnVsbD09ay5kZWxldGVFeHBhbmRvKXtrLmRlbGV0ZUV4cGFuZG89ITA7dHJ5e2RlbGV0ZSBhLnRlc3R9Y2F0Y2goYil7ay5kZWxldGVFeHBhbmRvPSExfX1hPW51bGx9KCksbS5hY2NlcHREYXRhPWZ1bmN0aW9uKGEpe3ZhciBiPW0ubm9EYXRhWyhhLm5vZGVOYW1lKyIgIikudG9Mb3dlckNhc2UoKV0sYz0rYS5ub2RlVHlwZXx8MTtyZXR1cm4gMSE9PWMmJjkhPT1jPyExOiFifHxiIT09ITAmJmEuZ2V0QXR0cmlidXRlKCJjbGFzc2lkIik9PT1ifTt2YXIgTT0vXig/Olx7W1x3XFddKlx9fFxbW1x3XFddKlxdKSQvLE49LyhbQS1aXSkvZztmdW5jdGlvbiBPKGEsYixjKXtpZih2b2lkIDA9PT1jJiYxPT09YS5ub2RlVHlwZSl7dmFyIGQ9ImRhdGEtIitiLnJlcGxhY2UoTiwiLSQxIikudG9Mb3dlckNhc2UoKTtpZihjPWEuZ2V0QXR0cmlidXRlKGQpLCJzdHJpbmciPT10eXBlb2YgYyl7dHJ5e2M9InRydWUiPT09Yz8hMDoiZmFsc2UiPT09Yz8hMToibnVsbCI9PT1jP251bGw6K2MrIiI9PT1jPytjOk0udGVzdChjKT9tLnBhcnNlSlNPTihjKTpjfWNhdGNoKGUpe31tLmRhdGEoYSxiLGMpfWVsc2UgYz12b2lkIDB9cmV0dXJuIGN9ZnVuY3Rpb24gUChhKXt2YXIgYjtmb3IoYiBpbiBhKWlmKCgiZGF0YSIhPT1ifHwhbS5pc0VtcHR5T2JqZWN0KGFbYl0pKSYmInRvSlNPTiIhPT1iKXJldHVybiExOwoKcmV0dXJuITB9ZnVuY3Rpb24gUShhLGIsZCxlKXtpZihtLmFjY2VwdERhdGEoYSkpe3ZhciBmLGcsaD1tLmV4cGFuZG8saT1hLm5vZGVUeXBlLGo9aT9tLmNhY2hlOmEsaz1pP2FbaF06YVtoXSYmaDtpZihrJiZqW2tdJiYoZXx8altrXS5kYXRhKXx8dm9pZCAwIT09ZHx8InN0cmluZyIhPXR5cGVvZiBiKXJldHVybiBrfHwoaz1pP2FbaF09Yy5wb3AoKXx8bS5ndWlkKys6aCksaltrXXx8KGpba109aT97fTp7dG9KU09OOm0ubm9vcH0pLCgib2JqZWN0Ij09dHlwZW9mIGJ8fCJmdW5jdGlvbiI9PXR5cGVvZiBiKSYmKGU/altrXT1tLmV4dGVuZChqW2tdLGIpOmpba10uZGF0YT1tLmV4dGVuZChqW2tdLmRhdGEsYikpLGc9altrXSxlfHwoZy5kYXRhfHwoZy5kYXRhPXt9KSxnPWcuZGF0YSksdm9pZCAwIT09ZCYmKGdbbS5jYW1lbENhc2UoYildPWQpLCJzdHJpbmciPT10eXBlb2YgYj8oZj1nW2JdLG51bGw9PWYmJihmPWdbbS5jYW1lbENhc2UoYildKSk6Zj1nLGZ9fWZ1bmN0aW9uIFIoYSxiLGMpe2lmKG0uYWNjZXB0RGF0YShhKSl7dmFyIGQsZSxmPWEubm9kZVR5cGUsZz1mP20uY2FjaGU6YSxoPWY/YVttLmV4cGFuZG9dOm0uZXhwYW5kbztpZihnW2hdKXtpZihiJiYoZD1jP2dbaF06Z1toXS5kYXRhKSl7bS5pc0FycmF5KGIpP2I9Yi5jb25jYXQobS5tYXAoYixtLmNhbWVsQ2FzZSkpOmIgaW4gZD9iPVtiXTooYj1tLmNhbWVsQ2FzZShiKSxiPWIgaW4gZD9bYl06Yi5zcGxpdCgiICIpKSxlPWIubGVuZ3RoO3doaWxlKGUtLSlkZWxldGUgZFtiW2VdXTtpZihjPyFQKGQpOiFtLmlzRW1wdHlPYmplY3QoZCkpcmV0dXJufShjfHwoZGVsZXRlIGdbaF0uZGF0YSxQKGdbaF0pKSkmJihmP20uY2xlYW5EYXRhKFthXSwhMCk6ay5kZWxldGVFeHBhbmRvfHxnIT1nLndpbmRvdz9kZWxldGUgZ1toXTpnW2hdPW51bGwpfX19bS5leHRlbmQoe2NhY2hlOnt9LG5vRGF0YTp7ImFwcGxldCAiOiEwLCJlbWJlZCAiOiEwLCJvYmplY3QgIjoiY2xzaWQ6RDI3Q0RCNkUtQUU2RC0xMWNmLTk2QjgtNDQ0NTUzNTQwMDAwIn0saGFzRGF0YTpmdW5jdGlvbihhKXtyZXR1cm4gYT1hLm5vZGVUeXBlP20uY2FjaGVbYVttLmV4cGFuZG9dXTphW20uZXhwYW5kb10sISFhJiYhUChhKX0sZGF0YTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIFEoYSxiLGMpfSxyZW1vdmVEYXRhOmZ1bmN0aW9uKGEsYil7cmV0dXJuIFIoYSxiKX0sX2RhdGE6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBRKGEsYixjLCEwKX0sX3JlbW92ZURhdGE6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gUihhLGIsITApfX0pLG0uZm4uZXh0ZW5kKHtkYXRhOmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGY9dGhpc1swXSxnPWYmJmYuYXR0cmlidXRlcztpZih2b2lkIDA9PT1hKXtpZih0aGlzLmxlbmd0aCYmKGU9bS5kYXRhKGYpLDE9PT1mLm5vZGVUeXBlJiYhbS5fZGF0YShmLCJwYXJzZWRBdHRycyIpKSl7Yz1nLmxlbmd0aDt3aGlsZShjLS0pZ1tjXSYmKGQ9Z1tjXS5uYW1lLDA9PT1kLmluZGV4T2YoImRhdGEtIikmJihkPW0uY2FtZWxDYXNlKGQuc2xpY2UoNSkpLE8oZixkLGVbZF0pKSk7bS5fZGF0YShmLCJwYXJzZWRBdHRycyIsITApfXJldHVybiBlfXJldHVybiJvYmplY3QiPT10eXBlb2YgYT90aGlzLmVhY2goZnVuY3Rpb24oKXttLmRhdGEodGhpcyxhKX0pOmFyZ3VtZW50cy5sZW5ndGg+MT90aGlzLmVhY2goZnVuY3Rpb24oKXttLmRhdGEodGhpcyxhLGIpfSk6Zj9PKGYsYSxtLmRhdGEoZixhKSk6dm9pZCAwfSxyZW1vdmVEYXRhOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXttLnJlbW92ZURhdGEodGhpcyxhKX0pfX0pLG0uZXh0ZW5kKHtxdWV1ZTpmdW5jdGlvbihhLGIsYyl7dmFyIGQ7cmV0dXJuIGE/KGI9KGJ8fCJmeCIpKyJxdWV1ZSIsZD1tLl9kYXRhKGEsYiksYyYmKCFkfHxtLmlzQXJyYXkoYyk/ZD1tLl9kYXRhKGEsYixtLm1ha2VBcnJheShjKSk6ZC5wdXNoKGMpKSxkfHxbXSk6dm9pZCAwfSxkZXF1ZXVlOmZ1bmN0aW9uKGEsYil7Yj1ifHwiZngiO3ZhciBjPW0ucXVldWUoYSxiKSxkPWMubGVuZ3RoLGU9Yy5zaGlmdCgpLGY9bS5fcXVldWVIb29rcyhhLGIpLGc9ZnVuY3Rpb24oKXttLmRlcXVldWUoYSxiKX07ImlucHJvZ3Jlc3MiPT09ZSYmKGU9Yy5zaGlmdCgpLGQtLSksZSYmKCJmeCI9PT1iJiZjLnVuc2hpZnQoImlucHJvZ3Jlc3MiKSxkZWxldGUgZi5zdG9wLGUuY2FsbChhLGcsZikpLCFkJiZmJiZmLmVtcHR5LmZpcmUoKX0sX3F1ZXVlSG9va3M6ZnVuY3Rpb24oYSxiKXt2YXIgYz1iKyJxdWV1ZUhvb2tzIjtyZXR1cm4gbS5fZGF0YShhLGMpfHxtLl9kYXRhKGEsYyx7ZW1wdHk6bS5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IikuYWRkKGZ1bmN0aW9uKCl7bS5fcmVtb3ZlRGF0YShhLGIrInF1ZXVlIiksbS5fcmVtb3ZlRGF0YShhLGMpfSl9KX19KSxtLmZuLmV4dGVuZCh7cXVldWU6ZnVuY3Rpb24oYSxiKXt2YXIgYz0yO3JldHVybiJzdHJpbmciIT10eXBlb2YgYSYmKGI9YSxhPSJmeCIsYy0tKSxhcmd1bWVudHMubGVuZ3RoPGM/bS5xdWV1ZSh0aGlzWzBdLGEpOnZvaWQgMD09PWI/dGhpczp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYz1tLnF1ZXVlKHRoaXMsYSxiKTttLl9xdWV1ZUhvb2tzKHRoaXMsYSksImZ4Ij09PWEmJiJpbnByb2dyZXNzIiE9PWNbMF0mJm0uZGVxdWV1ZSh0aGlzLGEpfSl9LGRlcXVldWU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe20uZGVxdWV1ZSh0aGlzLGEpfSl9LGNsZWFyUXVldWU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucXVldWUoYXx8ImZ4IixbXSl9LHByb21pc2U6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPTEsZT1tLkRlZmVycmVkKCksZj10aGlzLGc9dGhpcy5sZW5ndGgsaD1mdW5jdGlvbigpey0tZHx8ZS5yZXNvbHZlV2l0aChmLFtmXSl9OyJzdHJpbmciIT10eXBlb2YgYSYmKGI9YSxhPXZvaWQgMCksYT1hfHwiZngiO3doaWxlKGctLSljPW0uX2RhdGEoZltnXSxhKyJxdWV1ZUhvb2tzIiksYyYmYy5lbXB0eSYmKGQrKyxjLmVtcHR5LmFkZChoKSk7cmV0dXJuIGgoKSxlLnByb21pc2UoYil9fSk7dmFyIFM9L1srLV0/KD86XGQqXC58KVxkKyg/OltlRV1bKy1dP1xkK3wpLy5zb3VyY2UsVD1bIlRvcCIsIlJpZ2h0IiwiQm90dG9tIiwiTGVmdCJdLFU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT1ifHxhLCJub25lIj09PW0uY3NzKGEsImRpc3BsYXkiKXx8IW0uY29udGFpbnMoYS5vd25lckRvY3VtZW50LGEpfSxWPW0uYWNjZXNzPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcpe3ZhciBoPTAsaT1hLmxlbmd0aCxqPW51bGw9PWM7aWYoIm9iamVjdCI9PT1tLnR5cGUoYykpe2U9ITA7Zm9yKGggaW4gYyltLmFjY2VzcyhhLGIsaCxjW2hdLCEwLGYsZyl9ZWxzZSBpZih2b2lkIDAhPT1kJiYoZT0hMCxtLmlzRnVuY3Rpb24oZCl8fChnPSEwKSxqJiYoZz8oYi5jYWxsKGEsZCksYj1udWxsKTooaj1iLGI9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBqLmNhbGwobShhKSxjKX0pKSxiKSlmb3IoO2k+aDtoKyspYihhW2hdLGMsZz9kOmQuY2FsbChhW2hdLGgsYihhW2hdLGMpKSk7cmV0dXJuIGU/YTpqP2IuY2FsbChhKTppP2IoYVswXSxjKTpmfSxXPS9eKD86Y2hlY2tib3h8cmFkaW8pJC9pOyFmdW5jdGlvbigpe3ZhciBhPXkuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSxiPXkuY3JlYXRlRWxlbWVudCgiZGl2IiksYz15LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtpZihiLmlubmVySFRNTD0iICA8bGluay8+PHRhYmxlPjwvdGFibGU+PGEgaHJlZj0nL2EnPmE8L2E+PGlucHV0IHR5cGU9J2NoZWNrYm94Jy8+IixrLmxlYWRpbmdXaGl0ZXNwYWNlPTM9PT1iLmZpcnN0Q2hpbGQubm9kZVR5cGUsay50Ym9keT0hYi5nZXRFbGVtZW50c0J5VGFnTmFtZSgidGJvZHkiKS5sZW5ndGgsay5odG1sU2VyaWFsaXplPSEhYi5nZXRFbGVtZW50c0J5VGFnTmFtZSgibGluayIpLmxlbmd0aCxrLmh0bWw1Q2xvbmU9Ijw6bmF2PjwvOm5hdj4iIT09eS5jcmVhdGVFbGVtZW50KCJuYXYiKS5jbG9uZU5vZGUoITApLm91dGVySFRNTCxhLnR5cGU9ImNoZWNrYm94IixhLmNoZWNrZWQ9ITAsYy5hcHBlbmRDaGlsZChhKSxrLmFwcGVuZENoZWNrZWQ9YS5jaGVja2VkLGIuaW5uZXJIVE1MPSI8dGV4dGFyZWE+eDwvdGV4dGFyZWE+IixrLm5vQ2xvbmVDaGVja2VkPSEhYi5jbG9uZU5vZGUoITApLmxhc3RDaGlsZC5kZWZhdWx0VmFsdWUsYy5hcHBlbmRDaGlsZChiKSxiLmlubmVySFRNTD0iPGlucHV0IHR5cGU9J3JhZGlvJyBjaGVja2VkPSdjaGVja2VkJyBuYW1lPSd0Jy8+IixrLmNoZWNrQ2xvbmU9Yi5jbG9uZU5vZGUoITApLmNsb25lTm9kZSghMCkubGFzdENoaWxkLmNoZWNrZWQsay5ub0Nsb25lRXZlbnQ9ITAsYi5hdHRhY2hFdmVudCYmKGIuYXR0YWNoRXZlbnQoIm9uY2xpY2siLGZ1bmN0aW9uKCl7ay5ub0Nsb25lRXZlbnQ9ITF9KSxiLmNsb25lTm9kZSghMCkuY2xpY2soKSksbnVsbD09ay5kZWxldGVFeHBhbmRvKXtrLmRlbGV0ZUV4cGFuZG89ITA7dHJ5e2RlbGV0ZSBiLnRlc3R9Y2F0Y2goZCl7ay5kZWxldGVFeHBhbmRvPSExfX19KCksZnVuY3Rpb24oKXt2YXIgYixjLGQ9eS5jcmVhdGVFbGVtZW50KCJkaXYiKTtmb3IoYiBpbntzdWJtaXQ6ITAsY2hhbmdlOiEwLGZvY3VzaW46ITB9KWM9Im9uIitiLChrW2IrIkJ1YmJsZXMiXT1jIGluIGEpfHwoZC5zZXRBdHRyaWJ1dGUoYywidCIpLGtbYisiQnViYmxlcyJdPWQuYXR0cmlidXRlc1tjXS5leHBhbmRvPT09ITEpO2Q9bnVsbH0oKTt2YXIgWD0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYSkkL2ksWT0vXmtleS8sWj0vXig/Om1vdXNlfHBvaW50ZXJ8Y29udGV4dG1lbnUpfGNsaWNrLywkPS9eKD86Zm9jdXNpbmZvY3VzfGZvY3Vzb3V0Ymx1cikkLyxfPS9eKFteLl0qKSg/OlwuKC4rKXwpJC87ZnVuY3Rpb24gYWEoKXtyZXR1cm4hMH1mdW5jdGlvbiBiYSgpe3JldHVybiExfWZ1bmN0aW9uIGNhKCl7dHJ5e3JldHVybiB5LmFjdGl2ZUVsZW1lbnR9Y2F0Y2goYSl7fX1tLmV2ZW50PXtnbG9iYWw6e30sYWRkOmZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGYsZyxoLGksaixrLGwsbixvLHAscSxyPW0uX2RhdGEoYSk7aWYocil7Yy5oYW5kbGVyJiYoaT1jLGM9aS5oYW5kbGVyLGU9aS5zZWxlY3RvciksYy5ndWlkfHwoYy5ndWlkPW0uZ3VpZCsrKSwoZz1yLmV2ZW50cyl8fChnPXIuZXZlbnRzPXt9KSwoaz1yLmhhbmRsZSl8fChrPXIuaGFuZGxlPWZ1bmN0aW9uKGEpe3JldHVybiB0eXBlb2YgbT09PUt8fGEmJm0uZXZlbnQudHJpZ2dlcmVkPT09YS50eXBlP3ZvaWQgMDptLmV2ZW50LmRpc3BhdGNoLmFwcGx5KGsuZWxlbSxhcmd1bWVudHMpfSxrLmVsZW09YSksYj0oYnx8IiIpLm1hdGNoKEUpfHxbIiJdLGg9Yi5sZW5ndGg7d2hpbGUoaC0tKWY9Xy5leGVjKGJbaF0pfHxbXSxvPXE9ZlsxXSxwPShmWzJdfHwiIikuc3BsaXQoIi4iKS5zb3J0KCksbyYmKGo9bS5ldmVudC5zcGVjaWFsW29dfHx7fSxvPShlP2ouZGVsZWdhdGVUeXBlOmouYmluZFR5cGUpfHxvLGo9bS5ldmVudC5zcGVjaWFsW29dfHx7fSxsPW0uZXh0ZW5kKHt0eXBlOm8sb3JpZ1R5cGU6cSxkYXRhOmQsaGFuZGxlcjpjLGd1aWQ6Yy5ndWlkLHNlbGVjdG9yOmUsbmVlZHNDb250ZXh0OmUmJm0uZXhwci5tYXRjaC5uZWVkc0NvbnRleHQudGVzdChlKSxuYW1lc3BhY2U6cC5qb2luKCIuIil9LGkpLChuPWdbb10pfHwobj1nW29dPVtdLG4uZGVsZWdhdGVDb3VudD0wLGouc2V0dXAmJmouc2V0dXAuY2FsbChhLGQscCxrKSE9PSExfHwoYS5hZGRFdmVudExpc3RlbmVyP2EuYWRkRXZlbnRMaXN0ZW5lcihvLGssITEpOmEuYXR0YWNoRXZlbnQmJmEuYXR0YWNoRXZlbnQoIm9uIitvLGspKSksai5hZGQmJihqLmFkZC5jYWxsKGEsbCksbC5oYW5kbGVyLmd1aWR8fChsLmhhbmRsZXIuZ3VpZD1jLmd1aWQpKSxlP24uc3BsaWNlKG4uZGVsZWdhdGVDb3VudCsrLDAsbCk6bi5wdXNoKGwpLG0uZXZlbnQuZ2xvYmFsW29dPSEwKTthPW51bGx9fSxyZW1vdmU6ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZixnLGgsaSxqLGssbCxuLG8scCxxLHI9bS5oYXNEYXRhKGEpJiZtLl9kYXRhKGEpO2lmKHImJihrPXIuZXZlbnRzKSl7Yj0oYnx8IiIpLm1hdGNoKEUpfHxbIiJdLGo9Yi5sZW5ndGg7d2hpbGUoai0tKWlmKGg9Xy5leGVjKGJbal0pfHxbXSxvPXE9aFsxXSxwPShoWzJdfHwiIikuc3BsaXQoIi4iKS5zb3J0KCksbyl7bD1tLmV2ZW50LnNwZWNpYWxbb118fHt9LG89KGQ/bC5kZWxlZ2F0ZVR5cGU6bC5iaW5kVHlwZSl8fG8sbj1rW29dfHxbXSxoPWhbMl0mJm5ldyBSZWdFeHAoIihefFxcLikiK3Auam9pbigiXFwuKD86LipcXC58KSIpKyIoXFwufCQpIiksaT1mPW4ubGVuZ3RoO3doaWxlKGYtLSlnPW5bZl0sIWUmJnEhPT1nLm9yaWdUeXBlfHxjJiZjLmd1aWQhPT1nLmd1aWR8fGgmJiFoLnRlc3QoZy5uYW1lc3BhY2UpfHxkJiZkIT09Zy5zZWxlY3RvciYmKCIqKiIhPT1kfHwhZy5zZWxlY3Rvcil8fChuLnNwbGljZShmLDEpLGcuc2VsZWN0b3ImJm4uZGVsZWdhdGVDb3VudC0tLGwucmVtb3ZlJiZsLnJlbW92ZS5jYWxsKGEsZykpO2kmJiFuLmxlbmd0aCYmKGwudGVhcmRvd24mJmwudGVhcmRvd24uY2FsbChhLHAsci5oYW5kbGUpIT09ITF8fG0ucmVtb3ZlRXZlbnQoYSxvLHIuaGFuZGxlKSxkZWxldGUga1tvXSl9ZWxzZSBmb3IobyBpbiBrKW0uZXZlbnQucmVtb3ZlKGEsbytiW2pdLGMsZCwhMCk7bS5pc0VtcHR5T2JqZWN0KGspJiYoZGVsZXRlIHIuaGFuZGxlLG0uX3JlbW92ZURhdGEoYSwiZXZlbnRzIikpfX0sdHJpZ2dlcjpmdW5jdGlvbihiLGMsZCxlKXt2YXIgZixnLGgsaSxrLGwsbixvPVtkfHx5XSxwPWouY2FsbChiLCJ0eXBlIik/Yi50eXBlOmIscT1qLmNhbGwoYiwibmFtZXNwYWNlIik/Yi5uYW1lc3BhY2Uuc3BsaXQoIi4iKTpbXTtpZihoPWw9ZD1kfHx5LDMhPT1kLm5vZGVUeXBlJiY4IT09ZC5ub2RlVHlwZSYmISQudGVzdChwK20uZXZlbnQudHJpZ2dlcmVkKSYmKHAuaW5kZXhPZigiLiIpPj0wJiYocT1wLnNwbGl0KCIuIikscD1xLnNoaWZ0KCkscS5zb3J0KCkpLGc9cC5pbmRleE9mKCI6Iik8MCYmIm9uIitwLGI9YlttLmV4cGFuZG9dP2I6bmV3IG0uRXZlbnQocCwib2JqZWN0Ij09dHlwZW9mIGImJmIpLGIuaXNUcmlnZ2VyPWU/MjozLGIubmFtZXNwYWNlPXEuam9pbigiLiIpLGIubmFtZXNwYWNlX3JlPWIubmFtZXNwYWNlP25ldyBSZWdFeHAoIihefFxcLikiK3Euam9pbigiXFwuKD86LipcXC58KSIpKyIoXFwufCQpIik6bnVsbCxiLnJlc3VsdD12b2lkIDAsYi50YXJnZXR8fChiLnRhcmdldD1kKSxjPW51bGw9PWM/W2JdOm0ubWFrZUFycmF5KGMsW2JdKSxrPW0uZXZlbnQuc3BlY2lhbFtwXXx8e30sZXx8IWsudHJpZ2dlcnx8ay50cmlnZ2VyLmFwcGx5KGQsYykhPT0hMSkpe2lmKCFlJiYhay5ub0J1YmJsZSYmIW0uaXNXaW5kb3coZCkpe2ZvcihpPWsuZGVsZWdhdGVUeXBlfHxwLCQudGVzdChpK3ApfHwoaD1oLnBhcmVudE5vZGUpO2g7aD1oLnBhcmVudE5vZGUpby5wdXNoKGgpLGw9aDtsPT09KGQub3duZXJEb2N1bWVudHx8eSkmJm8ucHVzaChsLmRlZmF1bHRWaWV3fHxsLnBhcmVudFdpbmRvd3x8YSl9bj0wO3doaWxlKChoPW9bbisrXSkmJiFiLmlzUHJvcGFnYXRpb25TdG9wcGVkKCkpYi50eXBlPW4+MT9pOmsuYmluZFR5cGV8fHAsZj0obS5fZGF0YShoLCJldmVudHMiKXx8e30pW2IudHlwZV0mJm0uX2RhdGEoaCwiaGFuZGxlIiksZiYmZi5hcHBseShoLGMpLGY9ZyYmaFtnXSxmJiZmLmFwcGx5JiZtLmFjY2VwdERhdGEoaCkmJihiLnJlc3VsdD1mLmFwcGx5KGgsYyksYi5yZXN1bHQ9PT0hMSYmYi5wcmV2ZW50RGVmYXVsdCgpKTtpZihiLnR5cGU9cCwhZSYmIWIuaXNEZWZhdWx0UHJldmVudGVkKCkmJighay5fZGVmYXVsdHx8ay5fZGVmYXVsdC5hcHBseShvLnBvcCgpLGMpPT09ITEpJiZtLmFjY2VwdERhdGEoZCkmJmcmJmRbcF0mJiFtLmlzV2luZG93KGQpKXtsPWRbZ10sbCYmKGRbZ109bnVsbCksbS5ldmVudC50cmlnZ2VyZWQ9cDt0cnl7ZFtwXSgpfWNhdGNoKHIpe31tLmV2ZW50LnRyaWdnZXJlZD12b2lkIDAsbCYmKGRbZ109bCl9cmV0dXJuIGIucmVzdWx0fX0sZGlzcGF0Y2g6ZnVuY3Rpb24oYSl7YT1tLmV2ZW50LmZpeChhKTt2YXIgYixjLGUsZixnLGg9W10saT1kLmNhbGwoYXJndW1lbnRzKSxqPShtLl9kYXRhKHRoaXMsImV2ZW50cyIpfHx7fSlbYS50eXBlXXx8W10saz1tLmV2ZW50LnNwZWNpYWxbYS50eXBlXXx8e307aWYoaVswXT1hLGEuZGVsZWdhdGVUYXJnZXQ9dGhpcywhay5wcmVEaXNwYXRjaHx8ay5wcmVEaXNwYXRjaC5jYWxsKHRoaXMsYSkhPT0hMSl7aD1tLmV2ZW50LmhhbmRsZXJzLmNhbGwodGhpcyxhLGopLGI9MDt3aGlsZSgoZj1oW2IrK10pJiYhYS5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpKXthLmN1cnJlbnRUYXJnZXQ9Zi5lbGVtLGc9MDt3aGlsZSgoZT1mLmhhbmRsZXJzW2crK10pJiYhYS5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpKSghYS5uYW1lc3BhY2VfcmV8fGEubmFtZXNwYWNlX3JlLnRlc3QoZS5uYW1lc3BhY2UpKSYmKGEuaGFuZGxlT2JqPWUsYS5kYXRhPWUuZGF0YSxjPSgobS5ldmVudC5zcGVjaWFsW2Uub3JpZ1R5cGVdfHx7fSkuaGFuZGxlfHxlLmhhbmRsZXIpLmFwcGx5KGYuZWxlbSxpKSx2b2lkIDAhPT1jJiYoYS5yZXN1bHQ9Yyk9PT0hMSYmKGEucHJldmVudERlZmF1bHQoKSxhLnN0b3BQcm9wYWdhdGlvbigpKSl9cmV0dXJuIGsucG9zdERpc3BhdGNoJiZrLnBvc3REaXNwYXRjaC5jYWxsKHRoaXMsYSksYS5yZXN1bHR9fSxoYW5kbGVyczpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZSxmLGc9W10saD1iLmRlbGVnYXRlQ291bnQsaT1hLnRhcmdldDtpZihoJiZpLm5vZGVUeXBlJiYoIWEuYnV0dG9ufHwiY2xpY2siIT09YS50eXBlKSlmb3IoO2khPXRoaXM7aT1pLnBhcmVudE5vZGV8fHRoaXMpaWYoMT09PWkubm9kZVR5cGUmJihpLmRpc2FibGVkIT09ITB8fCJjbGljayIhPT1hLnR5cGUpKXtmb3IoZT1bXSxmPTA7aD5mO2YrKylkPWJbZl0sYz1kLnNlbGVjdG9yKyIgIix2b2lkIDA9PT1lW2NdJiYoZVtjXT1kLm5lZWRzQ29udGV4dD9tKGMsdGhpcykuaW5kZXgoaSk+PTA6bS5maW5kKGMsdGhpcyxudWxsLFtpXSkubGVuZ3RoKSxlW2NdJiZlLnB1c2goZCk7ZS5sZW5ndGgmJmcucHVzaCh7ZWxlbTppLGhhbmRsZXJzOmV9KX1yZXR1cm4gaDxiLmxlbmd0aCYmZy5wdXNoKHtlbGVtOnRoaXMsaGFuZGxlcnM6Yi5zbGljZShoKX0pLGd9LGZpeDpmdW5jdGlvbihhKXtpZihhW20uZXhwYW5kb10pcmV0dXJuIGE7dmFyIGIsYyxkLGU9YS50eXBlLGY9YSxnPXRoaXMuZml4SG9va3NbZV07Z3x8KHRoaXMuZml4SG9va3NbZV09Zz1aLnRlc3QoZSk/dGhpcy5tb3VzZUhvb2tzOlkudGVzdChlKT90aGlzLmtleUhvb2tzOnt9KSxkPWcucHJvcHM/dGhpcy5wcm9wcy5jb25jYXQoZy5wcm9wcyk6dGhpcy5wcm9wcyxhPW5ldyBtLkV2ZW50KGYpLGI9ZC5sZW5ndGg7d2hpbGUoYi0tKWM9ZFtiXSxhW2NdPWZbY107cmV0dXJuIGEudGFyZ2V0fHwoYS50YXJnZXQ9Zi5zcmNFbGVtZW50fHx5KSwzPT09YS50YXJnZXQubm9kZVR5cGUmJihhLnRhcmdldD1hLnRhcmdldC5wYXJlbnROb2RlKSxhLm1ldGFLZXk9ISFhLm1ldGFLZXksZy5maWx0ZXI/Zy5maWx0ZXIoYSxmKTphfSxwcm9wczoiYWx0S2V5IGJ1YmJsZXMgY2FuY2VsYWJsZSBjdHJsS2V5IGN1cnJlbnRUYXJnZXQgZXZlbnRQaGFzZSBtZXRhS2V5IHJlbGF0ZWRUYXJnZXQgc2hpZnRLZXkgdGFyZ2V0IHRpbWVTdGFtcCB2aWV3IHdoaWNoIi5zcGxpdCgiICIpLGZpeEhvb2tzOnt9LGtleUhvb2tzOntwcm9wczoiY2hhciBjaGFyQ29kZSBrZXkga2V5Q29kZSIuc3BsaXQoIiAiKSxmaWx0ZXI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbnVsbD09YS53aGljaCYmKGEud2hpY2g9bnVsbCE9Yi5jaGFyQ29kZT9iLmNoYXJDb2RlOmIua2V5Q29kZSksYX19LG1vdXNlSG9va3M6e3Byb3BzOiJidXR0b24gYnV0dG9ucyBjbGllbnRYIGNsaWVudFkgZnJvbUVsZW1lbnQgb2Zmc2V0WCBvZmZzZXRZIHBhZ2VYIHBhZ2VZIHNjcmVlblggc2NyZWVuWSB0b0VsZW1lbnQiLnNwbGl0KCIgIiksZmlsdGVyOmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGY9Yi5idXR0b24sZz1iLmZyb21FbGVtZW50O3JldHVybiBudWxsPT1hLnBhZ2VYJiZudWxsIT1iLmNsaWVudFgmJihkPWEudGFyZ2V0Lm93bmVyRG9jdW1lbnR8fHksZT1kLmRvY3VtZW50RWxlbWVudCxjPWQuYm9keSxhLnBhZ2VYPWIuY2xpZW50WCsoZSYmZS5zY3JvbGxMZWZ0fHxjJiZjLnNjcm9sbExlZnR8fDApLShlJiZlLmNsaWVudExlZnR8fGMmJmMuY2xpZW50TGVmdHx8MCksYS5wYWdlWT1iLmNsaWVudFkrKGUmJmUuc2Nyb2xsVG9wfHxjJiZjLnNjcm9sbFRvcHx8MCktKGUmJmUuY2xpZW50VG9wfHxjJiZjLmNsaWVudFRvcHx8MCkpLCFhLnJlbGF0ZWRUYXJnZXQmJmcmJihhLnJlbGF0ZWRUYXJnZXQ9Zz09PWEudGFyZ2V0P2IudG9FbGVtZW50OmcpLGEud2hpY2h8fHZvaWQgMD09PWZ8fChhLndoaWNoPTEmZj8xOjImZj8zOjQmZj8yOjApLGF9fSxzcGVjaWFsOntsb2FkOntub0J1YmJsZTohMH0sZm9jdXM6e3RyaWdnZXI6ZnVuY3Rpb24oKXtpZih0aGlzIT09Y2EoKSYmdGhpcy5mb2N1cyl0cnl7cmV0dXJuIHRoaXMuZm9jdXMoKSwhMX1jYXRjaChhKXt9fSxkZWxlZ2F0ZVR5cGU6ImZvY3VzaW4ifSxibHVyOnt0cmlnZ2VyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXM9PT1jYSgpJiZ0aGlzLmJsdXI/KHRoaXMuYmx1cigpLCExKTp2b2lkIDB9LGRlbGVnYXRlVHlwZToiZm9jdXNvdXQifSxjbGljazp7dHJpZ2dlcjpmdW5jdGlvbigpe3JldHVybiBtLm5vZGVOYW1lKHRoaXMsImlucHV0IikmJiJjaGVja2JveCI9PT10aGlzLnR5cGUmJnRoaXMuY2xpY2s/KHRoaXMuY2xpY2soKSwhMSk6dm9pZCAwfSxfZGVmYXVsdDpmdW5jdGlvbihhKXtyZXR1cm4gbS5ub2RlTmFtZShhLnRhcmdldCwiYSIpfX0sYmVmb3JldW5sb2FkOntwb3N0RGlzcGF0Y2g6ZnVuY3Rpb24oYSl7dm9pZCAwIT09YS5yZXN1bHQmJmEub3JpZ2luYWxFdmVudCYmKGEub3JpZ2luYWxFdmVudC5yZXR1cm5WYWx1ZT1hLnJlc3VsdCl9fX0sc2ltdWxhdGU6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9bS5leHRlbmQobmV3IG0uRXZlbnQsYyx7dHlwZTphLGlzU2ltdWxhdGVkOiEwLG9yaWdpbmFsRXZlbnQ6e319KTtkP20uZXZlbnQudHJpZ2dlcihlLG51bGwsYik6bS5ldmVudC5kaXNwYXRjaC5jYWxsKGIsZSksZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSYmYy5wcmV2ZW50RGVmYXVsdCgpfX0sbS5yZW1vdmVFdmVudD15LnJlbW92ZUV2ZW50TGlzdGVuZXI/ZnVuY3Rpb24oYSxiLGMpe2EucmVtb3ZlRXZlbnRMaXN0ZW5lciYmYS5yZW1vdmVFdmVudExpc3RlbmVyKGIsYywhMSl9OmZ1bmN0aW9uKGEsYixjKXt2YXIgZD0ib24iK2I7YS5kZXRhY2hFdmVudCYmKHR5cGVvZiBhW2RdPT09SyYmKGFbZF09bnVsbCksYS5kZXRhY2hFdmVudChkLGMpKX0sbS5FdmVudD1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzIGluc3RhbmNlb2YgbS5FdmVudD8oYSYmYS50eXBlPyh0aGlzLm9yaWdpbmFsRXZlbnQ9YSx0aGlzLnR5cGU9YS50eXBlLHRoaXMuaXNEZWZhdWx0UHJldmVudGVkPWEuZGVmYXVsdFByZXZlbnRlZHx8dm9pZCAwPT09YS5kZWZhdWx0UHJldmVudGVkJiZhLnJldHVyblZhbHVlPT09ITE/YWE6YmEpOnRoaXMudHlwZT1hLGImJm0uZXh0ZW5kKHRoaXMsYiksdGhpcy50aW1lU3RhbXA9YSYmYS50aW1lU3RhbXB8fG0ubm93KCksdm9pZCh0aGlzW20uZXhwYW5kb109ITApKTpuZXcgbS5FdmVudChhLGIpfSxtLkV2ZW50LnByb3RvdHlwZT17aXNEZWZhdWx0UHJldmVudGVkOmJhLGlzUHJvcGFnYXRpb25TdG9wcGVkOmJhLGlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOmJhLHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNEZWZhdWx0UHJldmVudGVkPWFhLGEmJihhLnByZXZlbnREZWZhdWx0P2EucHJldmVudERlZmF1bHQoKTphLnJldHVyblZhbHVlPSExKX0sc3RvcFByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNQcm9wYWdhdGlvblN0b3BwZWQ9YWEsYSYmKGEuc3RvcFByb3BhZ2F0aW9uJiZhLnN0b3BQcm9wYWdhdGlvbigpLGEuY2FuY2VsQnViYmxlPSEwKX0sc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ9YWEsYSYmYS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24mJmEuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksdGhpcy5zdG9wUHJvcGFnYXRpb24oKX19LG0uZWFjaCh7bW91c2VlbnRlcjoibW91c2VvdmVyIixtb3VzZWxlYXZlOiJtb3VzZW91dCIscG9pbnRlcmVudGVyOiJwb2ludGVyb3ZlciIscG9pbnRlcmxlYXZlOiJwb2ludGVyb3V0In0sZnVuY3Rpb24oYSxiKXttLmV2ZW50LnNwZWNpYWxbYV09e2RlbGVnYXRlVHlwZTpiLGJpbmRUeXBlOmIsaGFuZGxlOmZ1bmN0aW9uKGEpe3ZhciBjLGQ9dGhpcyxlPWEucmVsYXRlZFRhcmdldCxmPWEuaGFuZGxlT2JqO3JldHVybighZXx8ZSE9PWQmJiFtLmNvbnRhaW5zKGQsZSkpJiYoYS50eXBlPWYub3JpZ1R5cGUsYz1mLmhhbmRsZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpLGEudHlwZT1iKSxjfX19KSxrLnN1Ym1pdEJ1YmJsZXN8fChtLmV2ZW50LnNwZWNpYWwuc3VibWl0PXtzZXR1cDpmdW5jdGlvbigpe3JldHVybiBtLm5vZGVOYW1lKHRoaXMsImZvcm0iKT8hMTp2b2lkIG0uZXZlbnQuYWRkKHRoaXMsImNsaWNrLl9zdWJtaXQga2V5cHJlc3MuX3N1Ym1pdCIsZnVuY3Rpb24oYSl7dmFyIGI9YS50YXJnZXQsYz1tLm5vZGVOYW1lKGIsImlucHV0Iil8fG0ubm9kZU5hbWUoYiwiYnV0dG9uIik/Yi5mb3JtOnZvaWQgMDtjJiYhbS5fZGF0YShjLCJzdWJtaXRCdWJibGVzIikmJihtLmV2ZW50LmFkZChjLCJzdWJtaXQuX3N1Ym1pdCIsZnVuY3Rpb24oYSl7YS5fc3VibWl0X2J1YmJsZT0hMH0pLG0uX2RhdGEoYywic3VibWl0QnViYmxlcyIsITApKX0pfSxwb3N0RGlzcGF0Y2g6ZnVuY3Rpb24oYSl7YS5fc3VibWl0X2J1YmJsZSYmKGRlbGV0ZSBhLl9zdWJtaXRfYnViYmxlLHRoaXMucGFyZW50Tm9kZSYmIWEuaXNUcmlnZ2VyJiZtLmV2ZW50LnNpbXVsYXRlKCJzdWJtaXQiLHRoaXMucGFyZW50Tm9kZSxhLCEwKSl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7cmV0dXJuIG0ubm9kZU5hbWUodGhpcywiZm9ybSIpPyExOnZvaWQgbS5ldmVudC5yZW1vdmUodGhpcywiLl9zdWJtaXQiKX19KSxrLmNoYW5nZUJ1YmJsZXN8fChtLmV2ZW50LnNwZWNpYWwuY2hhbmdlPXtzZXR1cDpmdW5jdGlvbigpe3JldHVybiBYLnRlc3QodGhpcy5ub2RlTmFtZSk/KCgiY2hlY2tib3giPT09dGhpcy50eXBlfHwicmFkaW8iPT09dGhpcy50eXBlKSYmKG0uZXZlbnQuYWRkKHRoaXMsInByb3BlcnR5Y2hhbmdlLl9jaGFuZ2UiLGZ1bmN0aW9uKGEpeyJjaGVja2VkIj09PWEub3JpZ2luYWxFdmVudC5wcm9wZXJ0eU5hbWUmJih0aGlzLl9qdXN0X2NoYW5nZWQ9ITApfSksbS5ldmVudC5hZGQodGhpcywiY2xpY2suX2NoYW5nZSIsZnVuY3Rpb24oYSl7dGhpcy5fanVzdF9jaGFuZ2VkJiYhYS5pc1RyaWdnZXImJih0aGlzLl9qdXN0X2NoYW5nZWQ9ITEpLG0uZXZlbnQuc2ltdWxhdGUoImNoYW5nZSIsdGhpcyxhLCEwKX0pKSwhMSk6dm9pZCBtLmV2ZW50LmFkZCh0aGlzLCJiZWZvcmVhY3RpdmF0ZS5fY2hhbmdlIixmdW5jdGlvbihhKXt2YXIgYj1hLnRhcmdldDtYLnRlc3QoYi5ub2RlTmFtZSkmJiFtLl9kYXRhKGIsImNoYW5nZUJ1YmJsZXMiKSYmKG0uZXZlbnQuYWRkKGIsImNoYW5nZS5fY2hhbmdlIixmdW5jdGlvbihhKXshdGhpcy5wYXJlbnROb2RlfHxhLmlzU2ltdWxhdGVkfHxhLmlzVHJpZ2dlcnx8bS5ldmVudC5zaW11bGF0ZSgiY2hhbmdlIix0aGlzLnBhcmVudE5vZGUsYSwhMCl9KSxtLl9kYXRhKGIsImNoYW5nZUJ1YmJsZXMiLCEwKSl9KX0saGFuZGxlOmZ1bmN0aW9uKGEpe3ZhciBiPWEudGFyZ2V0O3JldHVybiB0aGlzIT09Ynx8YS5pc1NpbXVsYXRlZHx8YS5pc1RyaWdnZXJ8fCJyYWRpbyIhPT1iLnR5cGUmJiJjaGVja2JveCIhPT1iLnR5cGU/YS5oYW5kbGVPYmouaGFuZGxlci5hcHBseSh0aGlzLGFyZ3VtZW50cyk6dm9pZCAwfSx0ZWFyZG93bjpmdW5jdGlvbigpe3JldHVybiBtLmV2ZW50LnJlbW92ZSh0aGlzLCIuX2NoYW5nZSIpLCFYLnRlc3QodGhpcy5ub2RlTmFtZSl9fSksay5mb2N1c2luQnViYmxlc3x8bS5lYWNoKHtmb2N1czoiZm9jdXNpbiIsYmx1cjoiZm9jdXNvdXQifSxmdW5jdGlvbihhLGIpe3ZhciBjPWZ1bmN0aW9uKGEpe20uZXZlbnQuc2ltdWxhdGUoYixhLnRhcmdldCxtLmV2ZW50LmZpeChhKSwhMCl9O20uZXZlbnQuc3BlY2lhbFtiXT17c2V0dXA6ZnVuY3Rpb24oKXt2YXIgZD10aGlzLm93bmVyRG9jdW1lbnR8fHRoaXMsZT1tLl9kYXRhKGQsYik7ZXx8ZC5hZGRFdmVudExpc3RlbmVyKGEsYywhMCksbS5fZGF0YShkLGIsKGV8fDApKzEpfSx0ZWFyZG93bjpmdW5jdGlvbigpe3ZhciBkPXRoaXMub3duZXJEb2N1bWVudHx8dGhpcyxlPW0uX2RhdGEoZCxiKS0xO2U/bS5fZGF0YShkLGIsZSk6KGQucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLGMsITApLG0uX3JlbW92ZURhdGEoZCxiKSl9fX0pLG0uZm4uZXh0ZW5kKHtvbjpmdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmLGc7aWYoIm9iamVjdCI9PXR5cGVvZiBhKXsic3RyaW5nIiE9dHlwZW9mIGImJihjPWN8fGIsYj12b2lkIDApO2ZvcihmIGluIGEpdGhpcy5vbihmLGIsYyxhW2ZdLGUpO3JldHVybiB0aGlzfWlmKG51bGw9PWMmJm51bGw9PWQ/KGQ9YixjPWI9dm9pZCAwKTpudWxsPT1kJiYoInN0cmluZyI9PXR5cGVvZiBiPyhkPWMsYz12b2lkIDApOihkPWMsYz1iLGI9dm9pZCAwKSksZD09PSExKWQ9YmE7ZWxzZSBpZighZClyZXR1cm4gdGhpcztyZXR1cm4gMT09PWUmJihnPWQsZD1mdW5jdGlvbihhKXtyZXR1cm4gbSgpLm9mZihhKSxnLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZC5ndWlkPWcuZ3VpZHx8KGcuZ3VpZD1tLmd1aWQrKykpLHRoaXMuZWFjaChmdW5jdGlvbigpe20uZXZlbnQuYWRkKHRoaXMsYSxkLGMsYil9KX0sb25lOmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiB0aGlzLm9uKGEsYixjLGQsMSl9LG9mZjpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZTtpZihhJiZhLnByZXZlbnREZWZhdWx0JiZhLmhhbmRsZU9iailyZXR1cm4gZD1hLmhhbmRsZU9iaixtKGEuZGVsZWdhdGVUYXJnZXQpLm9mZihkLm5hbWVzcGFjZT9kLm9yaWdUeXBlKyIuIitkLm5hbWVzcGFjZTpkLm9yaWdUeXBlLGQuc2VsZWN0b3IsZC5oYW5kbGVyKSx0aGlzO2lmKCJvYmplY3QiPT10eXBlb2YgYSl7Zm9yKGUgaW4gYSl0aGlzLm9mZihlLGIsYVtlXSk7cmV0dXJuIHRoaXN9cmV0dXJuKGI9PT0hMXx8ImZ1bmN0aW9uIj09dHlwZW9mIGIpJiYoYz1iLGI9dm9pZCAwKSxjPT09ITEmJihjPWJhKSx0aGlzLmVhY2goZnVuY3Rpb24oKXttLmV2ZW50LnJlbW92ZSh0aGlzLGEsYyxiKX0pfSx0cmlnZ2VyOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe20uZXZlbnQudHJpZ2dlcihhLGIsdGhpcyl9KX0sdHJpZ2dlckhhbmRsZXI6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzWzBdO3JldHVybiBjP20uZXZlbnQudHJpZ2dlcihhLGIsYywhMCk6dm9pZCAwfX0pO2Z1bmN0aW9uIGRhKGEpe3ZhciBiPWVhLnNwbGl0KCJ8IiksYz1hLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtpZihjLmNyZWF0ZUVsZW1lbnQpd2hpbGUoYi5sZW5ndGgpYy5jcmVhdGVFbGVtZW50KGIucG9wKCkpO3JldHVybiBjfXZhciBlYT0iYWJicnxhcnRpY2xlfGFzaWRlfGF1ZGlvfGJkaXxjYW52YXN8ZGF0YXxkYXRhbGlzdHxkZXRhaWxzfGZpZ2NhcHRpb258ZmlndXJlfGZvb3RlcnxoZWFkZXJ8aGdyb3VwfG1hcmt8bWV0ZXJ8bmF2fG91dHB1dHxwcm9ncmVzc3xzZWN0aW9ufHN1bW1hcnl8dGltZXx2aWRlbyIsZmE9LyBqUXVlcnlcZCs9Iig/Om51bGx8XGQrKSIvZyxnYT1uZXcgUmVnRXhwKCI8KD86IitlYSsiKVtcXHMvPl0iLCJpIiksaGE9L15ccysvLGlhPS88KD8hYXJlYXxicnxjb2x8ZW1iZWR8aHJ8aW1nfGlucHV0fGxpbmt8bWV0YXxwYXJhbSkoKFtcdzpdKylbXj5dKilcLz4vZ2ksamE9LzwoW1x3Ol0rKS8sa2E9Lzx0Ym9keS9pLGxhPS88fCYjP1x3KzsvLG1hPS88KD86c2NyaXB0fHN0eWxlfGxpbmspL2ksbmE9L2NoZWNrZWRccyooPzpbXj1dfD1ccyouY2hlY2tlZC4pL2ksb2E9L14kfFwvKD86amF2YXxlY21hKXNjcmlwdC9pLHBhPS9edHJ1ZVwvKC4qKS8scWE9L15ccyo8ISg/OlxbQ0RBVEFcW3wtLSl8KD86XF1cXXwtLSk+XHMqJC9nLHJhPXtvcHRpb246WzEsIjxzZWxlY3QgbXVsdGlwbGU9J211bHRpcGxlJz4iLCI8L3NlbGVjdD4iXSxsZWdlbmQ6WzEsIjxmaWVsZHNldD4iLCI8L2ZpZWxkc2V0PiJdLGFyZWE6WzEsIjxtYXA+IiwiPC9tYXA+Il0scGFyYW06WzEsIjxvYmplY3Q+IiwiPC9vYmplY3Q+Il0sdGhlYWQ6WzEsIjx0YWJsZT4iLCI8L3RhYmxlPiJdLHRyOlsyLCI8dGFibGU+PHRib2R5PiIsIjwvdGJvZHk+PC90YWJsZT4iXSxjb2w6WzIsIjx0YWJsZT48dGJvZHk+PC90Ym9keT48Y29sZ3JvdXA+IiwiPC9jb2xncm91cD48L3RhYmxlPiJdLHRkOlszLCI8dGFibGU+PHRib2R5Pjx0cj4iLCI8L3RyPjwvdGJvZHk+PC90YWJsZT4iXSxfZGVmYXVsdDprLmh0bWxTZXJpYWxpemU/WzAsIiIsIiJdOlsxLCJYPGRpdj4iLCI8L2Rpdj4iXX0sc2E9ZGEoeSksdGE9c2EuYXBwZW5kQ2hpbGQoeS5jcmVhdGVFbGVtZW50KCJkaXYiKSk7cmEub3B0Z3JvdXA9cmEub3B0aW9uLHJhLnRib2R5PXJhLnRmb290PXJhLmNvbGdyb3VwPXJhLmNhcHRpb249cmEudGhlYWQscmEudGg9cmEudGQ7ZnVuY3Rpb24gdWEoYSxiKXt2YXIgYyxkLGU9MCxmPXR5cGVvZiBhLmdldEVsZW1lbnRzQnlUYWdOYW1lIT09Sz9hLmdldEVsZW1lbnRzQnlUYWdOYW1lKGJ8fCIqIik6dHlwZW9mIGEucXVlcnlTZWxlY3RvckFsbCE9PUs/YS5xdWVyeVNlbGVjdG9yQWxsKGJ8fCIqIik6dm9pZCAwO2lmKCFmKWZvcihmPVtdLGM9YS5jaGlsZE5vZGVzfHxhO251bGwhPShkPWNbZV0pO2UrKykhYnx8bS5ub2RlTmFtZShkLGIpP2YucHVzaChkKTptLm1lcmdlKGYsdWEoZCxiKSk7cmV0dXJuIHZvaWQgMD09PWJ8fGImJm0ubm9kZU5hbWUoYSxiKT9tLm1lcmdlKFthXSxmKTpmfWZ1bmN0aW9uIHZhKGEpe1cudGVzdChhLnR5cGUpJiYoYS5kZWZhdWx0Q2hlY2tlZD1hLmNoZWNrZWQpfWZ1bmN0aW9uIHdhKGEsYil7cmV0dXJuIG0ubm9kZU5hbWUoYSwidGFibGUiKSYmbS5ub2RlTmFtZSgxMSE9PWIubm9kZVR5cGU/YjpiLmZpcnN0Q2hpbGQsInRyIik/YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgidGJvZHkiKVswXXx8YS5hcHBlbmRDaGlsZChhLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGJvZHkiKSk6YX1mdW5jdGlvbiB4YShhKXtyZXR1cm4gYS50eXBlPShudWxsIT09bS5maW5kLmF0dHIoYSwidHlwZSIpKSsiLyIrYS50eXBlLGF9ZnVuY3Rpb24geWEoYSl7dmFyIGI9cGEuZXhlYyhhLnR5cGUpO3JldHVybiBiP2EudHlwZT1iWzFdOmEucmVtb3ZlQXR0cmlidXRlKCJ0eXBlIiksYX1mdW5jdGlvbiB6YShhLGIpe2Zvcih2YXIgYyxkPTA7bnVsbCE9KGM9YVtkXSk7ZCsrKW0uX2RhdGEoYywiZ2xvYmFsRXZhbCIsIWJ8fG0uX2RhdGEoYltkXSwiZ2xvYmFsRXZhbCIpKX1mdW5jdGlvbiBBYShhLGIpe2lmKDE9PT1iLm5vZGVUeXBlJiZtLmhhc0RhdGEoYSkpe3ZhciBjLGQsZSxmPW0uX2RhdGEoYSksZz1tLl9kYXRhKGIsZiksaD1mLmV2ZW50cztpZihoKXtkZWxldGUgZy5oYW5kbGUsZy5ldmVudHM9e307Zm9yKGMgaW4gaClmb3IoZD0wLGU9aFtjXS5sZW5ndGg7ZT5kO2QrKyltLmV2ZW50LmFkZChiLGMsaFtjXVtkXSl9Zy5kYXRhJiYoZy5kYXRhPW0uZXh0ZW5kKHt9LGcuZGF0YSkpfX1mdW5jdGlvbiBCYShhLGIpe3ZhciBjLGQsZTtpZigxPT09Yi5ub2RlVHlwZSl7aWYoYz1iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksIWsubm9DbG9uZUV2ZW50JiZiW20uZXhwYW5kb10pe2U9bS5fZGF0YShiKTtmb3IoZCBpbiBlLmV2ZW50cyltLnJlbW92ZUV2ZW50KGIsZCxlLmhhbmRsZSk7Yi5yZW1vdmVBdHRyaWJ1dGUobS5leHBhbmRvKX0ic2NyaXB0Ij09PWMmJmIudGV4dCE9PWEudGV4dD8oeGEoYikudGV4dD1hLnRleHQseWEoYikpOiJvYmplY3QiPT09Yz8oYi5wYXJlbnROb2RlJiYoYi5vdXRlckhUTUw9YS5vdXRlckhUTUwpLGsuaHRtbDVDbG9uZSYmYS5pbm5lckhUTUwmJiFtLnRyaW0oYi5pbm5lckhUTUwpJiYoYi5pbm5lckhUTUw9YS5pbm5lckhUTUwpKToiaW5wdXQiPT09YyYmVy50ZXN0KGEudHlwZSk/KGIuZGVmYXVsdENoZWNrZWQ9Yi5jaGVja2VkPWEuY2hlY2tlZCxiLnZhbHVlIT09YS52YWx1ZSYmKGIudmFsdWU9YS52YWx1ZSkpOiJvcHRpb24iPT09Yz9iLmRlZmF1bHRTZWxlY3RlZD1iLnNlbGVjdGVkPWEuZGVmYXVsdFNlbGVjdGVkOigiaW5wdXQiPT09Y3x8InRleHRhcmVhIj09PWMpJiYoYi5kZWZhdWx0VmFsdWU9YS5kZWZhdWx0VmFsdWUpfX1tLmV4dGVuZCh7Y2xvbmU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZixnLGgsaT1tLmNvbnRhaW5zKGEub3duZXJEb2N1bWVudCxhKTtpZihrLmh0bWw1Q2xvbmV8fG0uaXNYTUxEb2MoYSl8fCFnYS50ZXN0KCI8IithLm5vZGVOYW1lKyI+Iik/Zj1hLmNsb25lTm9kZSghMCk6KHRhLmlubmVySFRNTD1hLm91dGVySFRNTCx0YS5yZW1vdmVDaGlsZChmPXRhLmZpcnN0Q2hpbGQpKSwhKGsubm9DbG9uZUV2ZW50JiZrLm5vQ2xvbmVDaGVja2VkfHwxIT09YS5ub2RlVHlwZSYmMTEhPT1hLm5vZGVUeXBlfHxtLmlzWE1MRG9jKGEpKSlmb3IoZD11YShmKSxoPXVhKGEpLGc9MDtudWxsIT0oZT1oW2ddKTsrK2cpZFtnXSYmQmEoZSxkW2ddKTtpZihiKWlmKGMpZm9yKGg9aHx8dWEoYSksZD1kfHx1YShmKSxnPTA7bnVsbCE9KGU9aFtnXSk7ZysrKUFhKGUsZFtnXSk7ZWxzZSBBYShhLGYpO3JldHVybiBkPXVhKGYsInNjcmlwdCIpLGQubGVuZ3RoPjAmJnphKGQsIWkmJnVhKGEsInNjcmlwdCIpKSxkPWg9ZT1udWxsLGZ9LGJ1aWxkRnJhZ21lbnQ6ZnVuY3Rpb24oYSxiLGMsZCl7Zm9yKHZhciBlLGYsZyxoLGksaixsLG49YS5sZW5ndGgsbz1kYShiKSxwPVtdLHE9MDtuPnE7cSsrKWlmKGY9YVtxXSxmfHwwPT09ZilpZigib2JqZWN0Ij09PW0udHlwZShmKSltLm1lcmdlKHAsZi5ub2RlVHlwZT9bZl06Zik7ZWxzZSBpZihsYS50ZXN0KGYpKXtoPWh8fG8uYXBwZW5kQ2hpbGQoYi5jcmVhdGVFbGVtZW50KCJkaXYiKSksaT0oamEuZXhlYyhmKXx8WyIiLCIiXSlbMV0udG9Mb3dlckNhc2UoKSxsPXJhW2ldfHxyYS5fZGVmYXVsdCxoLmlubmVySFRNTD1sWzFdK2YucmVwbGFjZShpYSwiPCQxPjwvJDI+IikrbFsyXSxlPWxbMF07d2hpbGUoZS0tKWg9aC5sYXN0Q2hpbGQ7aWYoIWsubGVhZGluZ1doaXRlc3BhY2UmJmhhLnRlc3QoZikmJnAucHVzaChiLmNyZWF0ZVRleHROb2RlKGhhLmV4ZWMoZilbMF0pKSwhay50Ym9keSl7Zj0idGFibGUiIT09aXx8a2EudGVzdChmKT8iPHRhYmxlPiIhPT1sWzFdfHxrYS50ZXN0KGYpPzA6aDpoLmZpcnN0Q2hpbGQsZT1mJiZmLmNoaWxkTm9kZXMubGVuZ3RoO3doaWxlKGUtLSltLm5vZGVOYW1lKGo9Zi5jaGlsZE5vZGVzW2VdLCJ0Ym9keSIpJiYhai5jaGlsZE5vZGVzLmxlbmd0aCYmZi5yZW1vdmVDaGlsZChqKX1tLm1lcmdlKHAsaC5jaGlsZE5vZGVzKSxoLnRleHRDb250ZW50PSIiO3doaWxlKGguZmlyc3RDaGlsZCloLnJlbW92ZUNoaWxkKGguZmlyc3RDaGlsZCk7aD1vLmxhc3RDaGlsZH1lbHNlIHAucHVzaChiLmNyZWF0ZVRleHROb2RlKGYpKTtoJiZvLnJlbW92ZUNoaWxkKGgpLGsuYXBwZW5kQ2hlY2tlZHx8bS5ncmVwKHVhKHAsImlucHV0IiksdmEpLHE9MDt3aGlsZShmPXBbcSsrXSlpZigoIWR8fC0xPT09bS5pbkFycmF5KGYsZCkpJiYoZz1tLmNvbnRhaW5zKGYub3duZXJEb2N1bWVudCxmKSxoPXVhKG8uYXBwZW5kQ2hpbGQoZiksInNjcmlwdCIpLGcmJnphKGgpLGMpKXtlPTA7d2hpbGUoZj1oW2UrK10pb2EudGVzdChmLnR5cGV8fCIiKSYmYy5wdXNoKGYpfXJldHVybiBoPW51bGwsb30sY2xlYW5EYXRhOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBkLGUsZixnLGg9MCxpPW0uZXhwYW5kbyxqPW0uY2FjaGUsbD1rLmRlbGV0ZUV4cGFuZG8sbj1tLmV2ZW50LnNwZWNpYWw7bnVsbCE9KGQ9YVtoXSk7aCsrKWlmKChifHxtLmFjY2VwdERhdGEoZCkpJiYoZj1kW2ldLGc9ZiYmaltmXSkpe2lmKGcuZXZlbnRzKWZvcihlIGluIGcuZXZlbnRzKW5bZV0/bS5ldmVudC5yZW1vdmUoZCxlKTptLnJlbW92ZUV2ZW50KGQsZSxnLmhhbmRsZSk7altmXSYmKGRlbGV0ZSBqW2ZdLGw/ZGVsZXRlIGRbaV06dHlwZW9mIGQucmVtb3ZlQXR0cmlidXRlIT09Sz9kLnJlbW92ZUF0dHJpYnV0ZShpKTpkW2ldPW51bGwsYy5wdXNoKGYpKX19fSksbS5mbi5leHRlbmQoe3RleHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIFYodGhpcyxmdW5jdGlvbihhKXtyZXR1cm4gdm9pZCAwPT09YT9tLnRleHQodGhpcyk6dGhpcy5lbXB0eSgpLmFwcGVuZCgodGhpc1swXSYmdGhpc1swXS5vd25lckRvY3VtZW50fHx5KS5jcmVhdGVUZXh0Tm9kZShhKSl9LG51bGwsYSxhcmd1bWVudHMubGVuZ3RoKX0sYXBwZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLGZ1bmN0aW9uKGEpe2lmKDE9PT10aGlzLm5vZGVUeXBlfHwxMT09PXRoaXMubm9kZVR5cGV8fDk9PT10aGlzLm5vZGVUeXBlKXt2YXIgYj13YSh0aGlzLGEpO2IuYXBwZW5kQ2hpbGQoYSl9fSl9LHByZXBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kb21NYW5pcChhcmd1bWVudHMsZnVuY3Rpb24oYSl7aWYoMT09PXRoaXMubm9kZVR5cGV8fDExPT09dGhpcy5ub2RlVHlwZXx8OT09PXRoaXMubm9kZVR5cGUpe3ZhciBiPXdhKHRoaXMsYSk7Yi5pbnNlcnRCZWZvcmUoYSxiLmZpcnN0Q2hpbGQpfX0pfSxiZWZvcmU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kb21NYW5pcChhcmd1bWVudHMsZnVuY3Rpb24oYSl7dGhpcy5wYXJlbnROb2RlJiZ0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGEsdGhpcyl9KX0sYWZ0ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kb21NYW5pcChhcmd1bWVudHMsZnVuY3Rpb24oYSl7dGhpcy5wYXJlbnROb2RlJiZ0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGEsdGhpcy5uZXh0U2libGluZyl9KX0scmVtb3ZlOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjLGQ9YT9tLmZpbHRlcihhLHRoaXMpOnRoaXMsZT0wO251bGwhPShjPWRbZV0pO2UrKylifHwxIT09Yy5ub2RlVHlwZXx8bS5jbGVhbkRhdGEodWEoYykpLGMucGFyZW50Tm9kZSYmKGImJm0uY29udGFpbnMoYy5vd25lckRvY3VtZW50LGMpJiZ6YSh1YShjLCJzY3JpcHQiKSksYy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGMpKTtyZXR1cm4gdGhpc30sZW1wdHk6ZnVuY3Rpb24oKXtmb3IodmFyIGEsYj0wO251bGwhPShhPXRoaXNbYl0pO2IrKyl7MT09PWEubm9kZVR5cGUmJm0uY2xlYW5EYXRhKHVhKGEsITEpKTt3aGlsZShhLmZpcnN0Q2hpbGQpYS5yZW1vdmVDaGlsZChhLmZpcnN0Q2hpbGQpO2Eub3B0aW9ucyYmbS5ub2RlTmFtZShhLCJzZWxlY3QiKSYmKGEub3B0aW9ucy5sZW5ndGg9MCl9cmV0dXJuIHRoaXN9LGNsb25lOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9bnVsbD09YT8hMTphLGI9bnVsbD09Yj9hOmIsdGhpcy5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gbS5jbG9uZSh0aGlzLGEsYil9KX0saHRtbDpmdW5jdGlvbihhKXtyZXR1cm4gVih0aGlzLGZ1bmN0aW9uKGEpe3ZhciBiPXRoaXNbMF18fHt9LGM9MCxkPXRoaXMubGVuZ3RoO2lmKHZvaWQgMD09PWEpcmV0dXJuIDE9PT1iLm5vZGVUeXBlP2IuaW5uZXJIVE1MLnJlcGxhY2UoZmEsIiIpOnZvaWQgMDtpZighKCJzdHJpbmciIT10eXBlb2YgYXx8bWEudGVzdChhKXx8IWsuaHRtbFNlcmlhbGl6ZSYmZ2EudGVzdChhKXx8IWsubGVhZGluZ1doaXRlc3BhY2UmJmhhLnRlc3QoYSl8fHJhWyhqYS5leGVjKGEpfHxbIiIsIiJdKVsxXS50b0xvd2VyQ2FzZSgpXSkpe2E9YS5yZXBsYWNlKGlhLCI8JDE+PC8kMj4iKTt0cnl7Zm9yKDtkPmM7YysrKWI9dGhpc1tjXXx8e30sMT09PWIubm9kZVR5cGUmJihtLmNsZWFuRGF0YSh1YShiLCExKSksYi5pbm5lckhUTUw9YSk7Yj0wfWNhdGNoKGUpe319YiYmdGhpcy5lbXB0eSgpLmFwcGVuZChhKX0sbnVsbCxhLGFyZ3VtZW50cy5sZW5ndGgpfSxyZXBsYWNlV2l0aDpmdW5jdGlvbigpe3ZhciBhPWFyZ3VtZW50c1swXTtyZXR1cm4gdGhpcy5kb21NYW5pcChhcmd1bWVudHMsZnVuY3Rpb24oYil7YT10aGlzLnBhcmVudE5vZGUsbS5jbGVhbkRhdGEodWEodGhpcykpLGEmJmEucmVwbGFjZUNoaWxkKGIsdGhpcyl9KSxhJiYoYS5sZW5ndGh8fGEubm9kZVR5cGUpP3RoaXM6dGhpcy5yZW1vdmUoKX0sZGV0YWNoOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnJlbW92ZShhLCEwKX0sZG9tTWFuaXA6ZnVuY3Rpb24oYSxiKXthPWUuYXBwbHkoW10sYSk7dmFyIGMsZCxmLGcsaCxpLGo9MCxsPXRoaXMubGVuZ3RoLG49dGhpcyxvPWwtMSxwPWFbMF0scT1tLmlzRnVuY3Rpb24ocCk7aWYocXx8bD4xJiYic3RyaW5nIj09dHlwZW9mIHAmJiFrLmNoZWNrQ2xvbmUmJm5hLnRlc3QocCkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihjKXt2YXIgZD1uLmVxKGMpO3EmJihhWzBdPXAuY2FsbCh0aGlzLGMsZC5odG1sKCkpKSxkLmRvbU1hbmlwKGEsYil9KTtpZihsJiYoaT1tLmJ1aWxkRnJhZ21lbnQoYSx0aGlzWzBdLm93bmVyRG9jdW1lbnQsITEsdGhpcyksYz1pLmZpcnN0Q2hpbGQsMT09PWkuY2hpbGROb2Rlcy5sZW5ndGgmJihpPWMpLGMpKXtmb3IoZz1tLm1hcCh1YShpLCJzY3JpcHQiKSx4YSksZj1nLmxlbmd0aDtsPmo7aisrKWQ9aSxqIT09byYmKGQ9bS5jbG9uZShkLCEwLCEwKSxmJiZtLm1lcmdlKGcsdWEoZCwic2NyaXB0IikpKSxiLmNhbGwodGhpc1tqXSxkLGopO2lmKGYpZm9yKGg9Z1tnLmxlbmd0aC0xXS5vd25lckRvY3VtZW50LG0ubWFwKGcseWEpLGo9MDtmPmo7aisrKWQ9Z1tqXSxvYS50ZXN0KGQudHlwZXx8IiIpJiYhbS5fZGF0YShkLCJnbG9iYWxFdmFsIikmJm0uY29udGFpbnMoaCxkKSYmKGQuc3JjP20uX2V2YWxVcmwmJm0uX2V2YWxVcmwoZC5zcmMpOm0uZ2xvYmFsRXZhbCgoZC50ZXh0fHxkLnRleHRDb250ZW50fHxkLmlubmVySFRNTHx8IiIpLnJlcGxhY2UocWEsIiIpKSk7aT1jPW51bGx9cmV0dXJuIHRoaXN9fSksbS5lYWNoKHthcHBlbmRUbzoiYXBwZW5kIixwcmVwZW5kVG86InByZXBlbmQiLGluc2VydEJlZm9yZToiYmVmb3JlIixpbnNlcnRBZnRlcjoiYWZ0ZXIiLHJlcGxhY2VBbGw6InJlcGxhY2VXaXRoIn0sZnVuY3Rpb24oYSxiKXttLmZuW2FdPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYyxkPTAsZT1bXSxnPW0oYSksaD1nLmxlbmd0aC0xO2g+PWQ7ZCsrKWM9ZD09PWg/dGhpczp0aGlzLmNsb25lKCEwKSxtKGdbZF0pW2JdKGMpLGYuYXBwbHkoZSxjLmdldCgpKTtyZXR1cm4gdGhpcy5wdXNoU3RhY2soZSl9fSk7dmFyIENhLERhPXt9O2Z1bmN0aW9uIEVhKGIsYyl7dmFyIGQsZT1tKGMuY3JlYXRlRWxlbWVudChiKSkuYXBwZW5kVG8oYy5ib2R5KSxmPWEuZ2V0RGVmYXVsdENvbXB1dGVkU3R5bGUmJihkPWEuZ2V0RGVmYXVsdENvbXB1dGVkU3R5bGUoZVswXSkpP2QuZGlzcGxheTptLmNzcyhlWzBdLCJkaXNwbGF5Iik7cmV0dXJuIGUuZGV0YWNoKCksZn1mdW5jdGlvbiBGYShhKXt2YXIgYj15LGM9RGFbYV07cmV0dXJuIGN8fChjPUVhKGEsYiksIm5vbmUiIT09YyYmY3x8KENhPShDYXx8bSgiPGlmcmFtZSBmcmFtZWJvcmRlcj0nMCcgd2lkdGg9JzAnIGhlaWdodD0nMCcvPiIpKS5hcHBlbmRUbyhiLmRvY3VtZW50RWxlbWVudCksYj0oQ2FbMF0uY29udGVudFdpbmRvd3x8Q2FbMF0uY29udGVudERvY3VtZW50KS5kb2N1bWVudCxiLndyaXRlKCksYi5jbG9zZSgpLGM9RWEoYSxiKSxDYS5kZXRhY2goKSksRGFbYV09YyksY30hZnVuY3Rpb24oKXt2YXIgYTtrLnNocmlua1dyYXBCbG9ja3M9ZnVuY3Rpb24oKXtpZihudWxsIT1hKXJldHVybiBhO2E9ITE7dmFyIGIsYyxkO3JldHVybiBjPXkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImJvZHkiKVswXSxjJiZjLnN0eWxlPyhiPXkuY3JlYXRlRWxlbWVudCgiZGl2IiksZD15LmNyZWF0ZUVsZW1lbnQoImRpdiIpLGQuc3R5bGUuY3NzVGV4dD0icG9zaXRpb246YWJzb2x1dGU7Ym9yZGVyOjA7d2lkdGg6MDtoZWlnaHQ6MDt0b3A6MDtsZWZ0Oi05OTk5cHgiLGMuYXBwZW5kQ2hpbGQoZCkuYXBwZW5kQ2hpbGQoYiksdHlwZW9mIGIuc3R5bGUuem9vbSE9PUsmJihiLnN0eWxlLmNzc1RleHQ9Ii13ZWJraXQtYm94LXNpemluZzpjb250ZW50LWJveDstbW96LWJveC1zaXppbmc6Y29udGVudC1ib3g7Ym94LXNpemluZzpjb250ZW50LWJveDtkaXNwbGF5OmJsb2NrO21hcmdpbjowO2JvcmRlcjowO3BhZGRpbmc6MXB4O3dpZHRoOjFweDt6b29tOjEiLGIuYXBwZW5kQ2hpbGQoeS5jcmVhdGVFbGVtZW50KCJkaXYiKSkuc3R5bGUud2lkdGg9IjVweCIsYT0zIT09Yi5vZmZzZXRXaWR0aCksYy5yZW1vdmVDaGlsZChkKSxhKTp2b2lkIDB9fSgpO3ZhciBHYT0vXm1hcmdpbi8sSGE9bmV3IFJlZ0V4cCgiXigiK1MrIikoPyFweClbYS16JV0rJCIsImkiKSxJYSxKYSxLYT0vXih0b3B8cmlnaHR8Ym90dG9tfGxlZnQpJC87YS5nZXRDb21wdXRlZFN0eWxlPyhJYT1mdW5jdGlvbihiKXtyZXR1cm4gYi5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3Lm9wZW5lcj9iLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShiLG51bGwpOmEuZ2V0Q29tcHV0ZWRTdHlsZShiLG51bGwpfSxKYT1mdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmLGcsaD1hLnN0eWxlO3JldHVybiBjPWN8fElhKGEpLGc9Yz9jLmdldFByb3BlcnR5VmFsdWUoYil8fGNbYl06dm9pZCAwLGMmJigiIiE9PWd8fG0uY29udGFpbnMoYS5vd25lckRvY3VtZW50LGEpfHwoZz1tLnN0eWxlKGEsYikpLEhhLnRlc3QoZykmJkdhLnRlc3QoYikmJihkPWgud2lkdGgsZT1oLm1pbldpZHRoLGY9aC5tYXhXaWR0aCxoLm1pbldpZHRoPWgubWF4V2lkdGg9aC53aWR0aD1nLGc9Yy53aWR0aCxoLndpZHRoPWQsaC5taW5XaWR0aD1lLGgubWF4V2lkdGg9ZikpLHZvaWQgMD09PWc/ZzpnKyIifSk6eS5kb2N1bWVudEVsZW1lbnQuY3VycmVudFN0eWxlJiYoSWE9ZnVuY3Rpb24oYSl7cmV0dXJuIGEuY3VycmVudFN0eWxlfSxKYT1mdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmLGcsaD1hLnN0eWxlO3JldHVybiBjPWN8fElhKGEpLGc9Yz9jW2JdOnZvaWQgMCxudWxsPT1nJiZoJiZoW2JdJiYoZz1oW2JdKSxIYS50ZXN0KGcpJiYhS2EudGVzdChiKSYmKGQ9aC5sZWZ0LGU9YS5ydW50aW1lU3R5bGUsZj1lJiZlLmxlZnQsZiYmKGUubGVmdD1hLmN1cnJlbnRTdHlsZS5sZWZ0KSxoLmxlZnQ9ImZvbnRTaXplIj09PWI/IjFlbSI6ZyxnPWgucGl4ZWxMZWZ0KyJweCIsaC5sZWZ0PWQsZiYmKGUubGVmdD1mKSksdm9pZCAwPT09Zz9nOmcrIiJ8fCJhdXRvIn0pO2Z1bmN0aW9uIExhKGEsYil7cmV0dXJue2dldDpmdW5jdGlvbigpe3ZhciBjPWEoKTtpZihudWxsIT1jKXJldHVybiBjP3ZvaWQgZGVsZXRlIHRoaXMuZ2V0Oih0aGlzLmdldD1iKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fX0hZnVuY3Rpb24oKXt2YXIgYixjLGQsZSxmLGcsaDtpZihiPXkuY3JlYXRlRWxlbWVudCgiZGl2IiksYi5pbm5lckhUTUw9IiAgPGxpbmsvPjx0YWJsZT48L3RhYmxlPjxhIGhyZWY9Jy9hJz5hPC9hPjxpbnB1dCB0eXBlPSdjaGVja2JveCcvPiIsZD1iLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJhIilbMF0sYz1kJiZkLnN0eWxlKXtjLmNzc1RleHQ9ImZsb2F0OmxlZnQ7b3BhY2l0eTouNSIsay5vcGFjaXR5PSIwLjUiPT09Yy5vcGFjaXR5LGsuY3NzRmxvYXQ9ISFjLmNzc0Zsb2F0LGIuc3R5bGUuYmFja2dyb3VuZENsaXA9ImNvbnRlbnQtYm94IixiLmNsb25lTm9kZSghMCkuc3R5bGUuYmFja2dyb3VuZENsaXA9IiIsay5jbGVhckNsb25lU3R5bGU9ImNvbnRlbnQtYm94Ij09PWIuc3R5bGUuYmFja2dyb3VuZENsaXAsay5ib3hTaXppbmc9IiI9PT1jLmJveFNpemluZ3x8IiI9PT1jLk1vekJveFNpemluZ3x8IiI9PT1jLldlYmtpdEJveFNpemluZyxtLmV4dGVuZChrLHtyZWxpYWJsZUhpZGRlbk9mZnNldHM6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09ZyYmaSgpLGd9LGJveFNpemluZ1JlbGlhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PWYmJmkoKSxmfSxwaXhlbFBvc2l0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PWUmJmkoKSxlfSxyZWxpYWJsZU1hcmdpblJpZ2h0OmZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PWgmJmkoKSxofX0pO2Z1bmN0aW9uIGkoKXt2YXIgYixjLGQsaTtjPXkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImJvZHkiKVswXSxjJiZjLnN0eWxlJiYoYj15LmNyZWF0ZUVsZW1lbnQoImRpdiIpLGQ9eS5jcmVhdGVFbGVtZW50KCJkaXYiKSxkLnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOmFic29sdXRlO2JvcmRlcjowO3dpZHRoOjA7aGVpZ2h0OjA7dG9wOjA7bGVmdDotOTk5OXB4IixjLmFwcGVuZENoaWxkKGQpLmFwcGVuZENoaWxkKGIpLGIuc3R5bGUuY3NzVGV4dD0iLXdlYmtpdC1ib3gtc2l6aW5nOmJvcmRlci1ib3g7LW1vei1ib3gtc2l6aW5nOmJvcmRlci1ib3g7Ym94LXNpemluZzpib3JkZXItYm94O2Rpc3BsYXk6YmxvY2s7bWFyZ2luLXRvcDoxJTt0b3A6MSU7Ym9yZGVyOjFweDtwYWRkaW5nOjFweDt3aWR0aDo0cHg7cG9zaXRpb246YWJzb2x1dGUiLGU9Zj0hMSxoPSEwLGEuZ2V0Q29tcHV0ZWRTdHlsZSYmKGU9IjElIiE9PShhLmdldENvbXB1dGVkU3R5bGUoYixudWxsKXx8e30pLnRvcCxmPSI0cHgiPT09KGEuZ2V0Q29tcHV0ZWRTdHlsZShiLG51bGwpfHx7d2lkdGg6IjRweCJ9KS53aWR0aCxpPWIuYXBwZW5kQ2hpbGQoeS5jcmVhdGVFbGVtZW50KCJkaXYiKSksaS5zdHlsZS5jc3NUZXh0PWIuc3R5bGUuY3NzVGV4dD0iLXdlYmtpdC1ib3gtc2l6aW5nOmNvbnRlbnQtYm94Oy1tb3otYm94LXNpemluZzpjb250ZW50LWJveDtib3gtc2l6aW5nOmNvbnRlbnQtYm94O2Rpc3BsYXk6YmxvY2s7bWFyZ2luOjA7Ym9yZGVyOjA7cGFkZGluZzowIixpLnN0eWxlLm1hcmdpblJpZ2h0PWkuc3R5bGUud2lkdGg9IjAiLGIuc3R5bGUud2lkdGg9IjFweCIsaD0hcGFyc2VGbG9hdCgoYS5nZXRDb21wdXRlZFN0eWxlKGksbnVsbCl8fHt9KS5tYXJnaW5SaWdodCksYi5yZW1vdmVDaGlsZChpKSksYi5pbm5lckhUTUw9Ijx0YWJsZT48dHI+PHRkPjwvdGQ+PHRkPnQ8L3RkPjwvdHI+PC90YWJsZT4iLGk9Yi5nZXRFbGVtZW50c0J5VGFnTmFtZSgidGQiKSxpWzBdLnN0eWxlLmNzc1RleHQ9Im1hcmdpbjowO2JvcmRlcjowO3BhZGRpbmc6MDtkaXNwbGF5Om5vbmUiLGc9MD09PWlbMF0ub2Zmc2V0SGVpZ2h0LGcmJihpWzBdLnN0eWxlLmRpc3BsYXk9IiIsaVsxXS5zdHlsZS5kaXNwbGF5PSJub25lIixnPTA9PT1pWzBdLm9mZnNldEhlaWdodCksYy5yZW1vdmVDaGlsZChkKSl9fX0oKSxtLnN3YXA9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGUsZixnPXt9O2ZvcihmIGluIGIpZ1tmXT1hLnN0eWxlW2ZdLGEuc3R5bGVbZl09YltmXTtlPWMuYXBwbHkoYSxkfHxbXSk7Zm9yKGYgaW4gYilhLnN0eWxlW2ZdPWdbZl07cmV0dXJuIGV9O3ZhciBNYT0vYWxwaGFcKFteKV0qXCkvaSxOYT0vb3BhY2l0eVxzKj1ccyooW14pXSopLyxPYT0vXihub25lfHRhYmxlKD8hLWNbZWFdKS4rKS8sUGE9bmV3IFJlZ0V4cCgiXigiK1MrIikoLiopJCIsImkiKSxRYT1uZXcgUmVnRXhwKCJeKFsrLV0pPSgiK1MrIikiLCJpIiksUmE9e3Bvc2l0aW9uOiJhYnNvbHV0ZSIsdmlzaWJpbGl0eToiaGlkZGVuIixkaXNwbGF5OiJibG9jayJ9LFNhPXtsZXR0ZXJTcGFjaW5nOiIwIixmb250V2VpZ2h0OiI0MDAifSxUYT1bIldlYmtpdCIsIk8iLCJNb3oiLCJtcyJdO2Z1bmN0aW9uIFVhKGEsYil7aWYoYiBpbiBhKXJldHVybiBiO3ZhciBjPWIuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrYi5zbGljZSgxKSxkPWIsZT1UYS5sZW5ndGg7d2hpbGUoZS0tKWlmKGI9VGFbZV0rYyxiIGluIGEpcmV0dXJuIGI7cmV0dXJuIGR9ZnVuY3Rpb24gVmEoYSxiKXtmb3IodmFyIGMsZCxlLGY9W10sZz0wLGg9YS5sZW5ndGg7aD5nO2crKylkPWFbZ10sZC5zdHlsZSYmKGZbZ109bS5fZGF0YShkLCJvbGRkaXNwbGF5IiksYz1kLnN0eWxlLmRpc3BsYXksYj8oZltnXXx8Im5vbmUiIT09Y3x8KGQuc3R5bGUuZGlzcGxheT0iIiksIiI9PT1kLnN0eWxlLmRpc3BsYXkmJlUoZCkmJihmW2ddPW0uX2RhdGEoZCwib2xkZGlzcGxheSIsRmEoZC5ub2RlTmFtZSkpKSk6KGU9VShkKSwoYyYmIm5vbmUiIT09Y3x8IWUpJiZtLl9kYXRhKGQsIm9sZGRpc3BsYXkiLGU/YzptLmNzcyhkLCJkaXNwbGF5IikpKSk7Zm9yKGc9MDtoPmc7ZysrKWQ9YVtnXSxkLnN0eWxlJiYoYiYmIm5vbmUiIT09ZC5zdHlsZS5kaXNwbGF5JiYiIiE9PWQuc3R5bGUuZGlzcGxheXx8KGQuc3R5bGUuZGlzcGxheT1iP2ZbZ118fCIiOiJub25lIikpO3JldHVybiBhfWZ1bmN0aW9uIFdhKGEsYixjKXt2YXIgZD1QYS5leGVjKGIpO3JldHVybiBkP01hdGgubWF4KDAsZFsxXS0oY3x8MCkpKyhkWzJdfHwicHgiKTpifWZ1bmN0aW9uIFhhKGEsYixjLGQsZSl7Zm9yKHZhciBmPWM9PT0oZD8iYm9yZGVyIjoiY29udGVudCIpPzQ6IndpZHRoIj09PWI/MTowLGc9MDs0PmY7Zis9MikibWFyZ2luIj09PWMmJihnKz1tLmNzcyhhLGMrVFtmXSwhMCxlKSksZD8oImNvbnRlbnQiPT09YyYmKGctPW0uY3NzKGEsInBhZGRpbmciK1RbZl0sITAsZSkpLCJtYXJnaW4iIT09YyYmKGctPW0uY3NzKGEsImJvcmRlciIrVFtmXSsiV2lkdGgiLCEwLGUpKSk6KGcrPW0uY3NzKGEsInBhZGRpbmciK1RbZl0sITAsZSksInBhZGRpbmciIT09YyYmKGcrPW0uY3NzKGEsImJvcmRlciIrVFtmXSsiV2lkdGgiLCEwLGUpKSk7cmV0dXJuIGd9ZnVuY3Rpb24gWWEoYSxiLGMpe3ZhciBkPSEwLGU9IndpZHRoIj09PWI/YS5vZmZzZXRXaWR0aDphLm9mZnNldEhlaWdodCxmPUlhKGEpLGc9ay5ib3hTaXppbmcmJiJib3JkZXItYm94Ij09PW0uY3NzKGEsImJveFNpemluZyIsITEsZik7aWYoMD49ZXx8bnVsbD09ZSl7aWYoZT1KYShhLGIsZiksKDA+ZXx8bnVsbD09ZSkmJihlPWEuc3R5bGVbYl0pLEhhLnRlc3QoZSkpcmV0dXJuIGU7ZD1nJiYoay5ib3hTaXppbmdSZWxpYWJsZSgpfHxlPT09YS5zdHlsZVtiXSksZT1wYXJzZUZsb2F0KGUpfHwwfXJldHVybiBlK1hhKGEsYixjfHwoZz8iYm9yZGVyIjoiY29udGVudCIpLGQsZikrInB4In1tLmV4dGVuZCh7Y3NzSG9va3M6e29wYWNpdHk6e2dldDpmdW5jdGlvbihhLGIpe2lmKGIpe3ZhciBjPUphKGEsIm9wYWNpdHkiKTtyZXR1cm4iIj09PWM/IjEiOmN9fX19LGNzc051bWJlcjp7Y29sdW1uQ291bnQ6ITAsZmlsbE9wYWNpdHk6ITAsZmxleEdyb3c6ITAsZmxleFNocmluazohMCxmb250V2VpZ2h0OiEwLGxpbmVIZWlnaHQ6ITAsb3BhY2l0eTohMCxvcmRlcjohMCxvcnBoYW5zOiEwLHdpZG93czohMCx6SW5kZXg6ITAsem9vbTohMH0sY3NzUHJvcHM6eyJmbG9hdCI6ay5jc3NGbG9hdD8iY3NzRmxvYXQiOiJzdHlsZUZsb2F0In0sc3R5bGU6ZnVuY3Rpb24oYSxiLGMsZCl7aWYoYSYmMyE9PWEubm9kZVR5cGUmJjghPT1hLm5vZGVUeXBlJiZhLnN0eWxlKXt2YXIgZSxmLGcsaD1tLmNhbWVsQ2FzZShiKSxpPWEuc3R5bGU7aWYoYj1tLmNzc1Byb3BzW2hdfHwobS5jc3NQcm9wc1toXT1VYShpLGgpKSxnPW0uY3NzSG9va3NbYl18fG0uY3NzSG9va3NbaF0sdm9pZCAwPT09YylyZXR1cm4gZyYmImdldCJpbiBnJiZ2b2lkIDAhPT0oZT1nLmdldChhLCExLGQpKT9lOmlbYl07aWYoZj10eXBlb2YgYywic3RyaW5nIj09PWYmJihlPVFhLmV4ZWMoYykpJiYoYz0oZVsxXSsxKSplWzJdK3BhcnNlRmxvYXQobS5jc3MoYSxiKSksZj0ibnVtYmVyIiksbnVsbCE9YyYmYz09PWMmJigibnVtYmVyIiE9PWZ8fG0uY3NzTnVtYmVyW2hdfHwoYys9InB4Iiksay5jbGVhckNsb25lU3R5bGV8fCIiIT09Y3x8MCE9PWIuaW5kZXhPZigiYmFja2dyb3VuZCIpfHwoaVtiXT0iaW5oZXJpdCIpLCEoZyYmInNldCJpbiBnJiZ2b2lkIDA9PT0oYz1nLnNldChhLGMsZCkpKSkpdHJ5e2lbYl09Y31jYXRjaChqKXt9fX0sY3NzOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlLGYsZyxoPW0uY2FtZWxDYXNlKGIpO3JldHVybiBiPW0uY3NzUHJvcHNbaF18fChtLmNzc1Byb3BzW2hdPVVhKGEuc3R5bGUsaCkpLGc9bS5jc3NIb29rc1tiXXx8bS5jc3NIb29rc1toXSxnJiYiZ2V0ImluIGcmJihmPWcuZ2V0KGEsITAsYykpLHZvaWQgMD09PWYmJihmPUphKGEsYixkKSksIm5vcm1hbCI9PT1mJiZiIGluIFNhJiYoZj1TYVtiXSksIiI9PT1jfHxjPyhlPXBhcnNlRmxvYXQoZiksYz09PSEwfHxtLmlzTnVtZXJpYyhlKT9lfHwwOmYpOmZ9fSksbS5lYWNoKFsiaGVpZ2h0Iiwid2lkdGgiXSxmdW5jdGlvbihhLGIpe20uY3NzSG9va3NbYl09e2dldDpmdW5jdGlvbihhLGMsZCl7cmV0dXJuIGM/T2EudGVzdChtLmNzcyhhLCJkaXNwbGF5IikpJiYwPT09YS5vZmZzZXRXaWR0aD9tLnN3YXAoYSxSYSxmdW5jdGlvbigpe3JldHVybiBZYShhLGIsZCl9KTpZYShhLGIsZCk6dm9pZCAwfSxzZXQ6ZnVuY3Rpb24oYSxjLGQpe3ZhciBlPWQmJklhKGEpO3JldHVybiBXYShhLGMsZD9YYShhLGIsZCxrLmJveFNpemluZyYmImJvcmRlci1ib3giPT09bS5jc3MoYSwiYm94U2l6aW5nIiwhMSxlKSxlKTowKX19fSksay5vcGFjaXR5fHwobS5jc3NIb29rcy5vcGFjaXR5PXtnZXQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gTmEudGVzdCgoYiYmYS5jdXJyZW50U3R5bGU/YS5jdXJyZW50U3R5bGUuZmlsdGVyOmEuc3R5bGUuZmlsdGVyKXx8IiIpPy4wMSpwYXJzZUZsb2F0KFJlZ0V4cC4kMSkrIiI6Yj8iMSI6IiJ9LHNldDpmdW5jdGlvbihhLGIpe3ZhciBjPWEuc3R5bGUsZD1hLmN1cnJlbnRTdHlsZSxlPW0uaXNOdW1lcmljKGIpPyJhbHBoYShvcGFjaXR5PSIrMTAwKmIrIikiOiIiLGY9ZCYmZC5maWx0ZXJ8fGMuZmlsdGVyfHwiIjtjLnpvb209MSwoYj49MXx8IiI9PT1iKSYmIiI9PT1tLnRyaW0oZi5yZXBsYWNlKE1hLCIiKSkmJmMucmVtb3ZlQXR0cmlidXRlJiYoYy5yZW1vdmVBdHRyaWJ1dGUoImZpbHRlciIpLCIiPT09Ynx8ZCYmIWQuZmlsdGVyKXx8KGMuZmlsdGVyPU1hLnRlc3QoZik/Zi5yZXBsYWNlKE1hLGUpOmYrIiAiK2UpfX0pLG0uY3NzSG9va3MubWFyZ2luUmlnaHQ9TGEoay5yZWxpYWJsZU1hcmdpblJpZ2h0LGZ1bmN0aW9uKGEsYil7cmV0dXJuIGI/bS5zd2FwKGEse2Rpc3BsYXk6ImlubGluZS1ibG9jayJ9LEphLFthLCJtYXJnaW5SaWdodCJdKTp2b2lkIDB9KSxtLmVhY2goe21hcmdpbjoiIixwYWRkaW5nOiIiLGJvcmRlcjoiV2lkdGgifSxmdW5jdGlvbihhLGIpe20uY3NzSG9va3NbYStiXT17ZXhwYW5kOmZ1bmN0aW9uKGMpe2Zvcih2YXIgZD0wLGU9e30sZj0ic3RyaW5nIj09dHlwZW9mIGM/Yy5zcGxpdCgiICIpOltjXTs0PmQ7ZCsrKWVbYStUW2RdK2JdPWZbZF18fGZbZC0yXXx8ZlswXTtyZXR1cm4gZX19LEdhLnRlc3QoYSl8fChtLmNzc0hvb2tzW2ErYl0uc2V0PVdhKX0pLG0uZm4uZXh0ZW5kKHtjc3M6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gVih0aGlzLGZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGY9e30sZz0wO2lmKG0uaXNBcnJheShiKSl7Zm9yKGQ9SWEoYSksZT1iLmxlbmd0aDtlPmc7ZysrKWZbYltnXV09bS5jc3MoYSxiW2ddLCExLGQpO3JldHVybiBmfXJldHVybiB2b2lkIDAhPT1jP20uc3R5bGUoYSxiLGMpOm0uY3NzKGEsYil9LGEsYixhcmd1bWVudHMubGVuZ3RoPjEpfSxzaG93OmZ1bmN0aW9uKCl7cmV0dXJuIFZhKHRoaXMsITApfSxoaWRlOmZ1bmN0aW9uKCl7cmV0dXJuIFZhKHRoaXMpfSx0b2dnbGU6ZnVuY3Rpb24oYSl7cmV0dXJuImJvb2xlYW4iPT10eXBlb2YgYT9hP3RoaXMuc2hvdygpOnRoaXMuaGlkZSgpOnRoaXMuZWFjaChmdW5jdGlvbigpe1UodGhpcyk/bSh0aGlzKS5zaG93KCk6bSh0aGlzKS5oaWRlKCl9KX19KTtmdW5jdGlvbiBaYShhLGIsYyxkLGUpewpyZXR1cm4gbmV3IFphLnByb3RvdHlwZS5pbml0KGEsYixjLGQsZSl9bS5Ud2Vlbj1aYSxaYS5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOlphLGluaXQ6ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3RoaXMuZWxlbT1hLHRoaXMucHJvcD1jLHRoaXMuZWFzaW5nPWV8fCJzd2luZyIsdGhpcy5vcHRpb25zPWIsdGhpcy5zdGFydD10aGlzLm5vdz10aGlzLmN1cigpLHRoaXMuZW5kPWQsdGhpcy51bml0PWZ8fChtLmNzc051bWJlcltjXT8iIjoicHgiKX0sY3VyOmZ1bmN0aW9uKCl7dmFyIGE9WmEucHJvcEhvb2tzW3RoaXMucHJvcF07cmV0dXJuIGEmJmEuZ2V0P2EuZ2V0KHRoaXMpOlphLnByb3BIb29rcy5fZGVmYXVsdC5nZXQodGhpcyl9LHJ1bjpmdW5jdGlvbihhKXt2YXIgYixjPVphLnByb3BIb29rc1t0aGlzLnByb3BdO3JldHVybiB0aGlzLm9wdGlvbnMuZHVyYXRpb24/dGhpcy5wb3M9Yj1tLmVhc2luZ1t0aGlzLmVhc2luZ10oYSx0aGlzLm9wdGlvbnMuZHVyYXRpb24qYSwwLDEsdGhpcy5vcHRpb25zLmR1cmF0aW9uKTp0aGlzLnBvcz1iPWEsdGhpcy5ub3c9KHRoaXMuZW5kLXRoaXMuc3RhcnQpKmIrdGhpcy5zdGFydCx0aGlzLm9wdGlvbnMuc3RlcCYmdGhpcy5vcHRpb25zLnN0ZXAuY2FsbCh0aGlzLmVsZW0sdGhpcy5ub3csdGhpcyksYyYmYy5zZXQ/Yy5zZXQodGhpcyk6WmEucHJvcEhvb2tzLl9kZWZhdWx0LnNldCh0aGlzKSx0aGlzfX0sWmEucHJvdG90eXBlLmluaXQucHJvdG90eXBlPVphLnByb3RvdHlwZSxaYS5wcm9wSG9va3M9e19kZWZhdWx0OntnZXQ6ZnVuY3Rpb24oYSl7dmFyIGI7cmV0dXJuIG51bGw9PWEuZWxlbVthLnByb3BdfHxhLmVsZW0uc3R5bGUmJm51bGwhPWEuZWxlbS5zdHlsZVthLnByb3BdPyhiPW0uY3NzKGEuZWxlbSxhLnByb3AsIiIpLGImJiJhdXRvIiE9PWI/YjowKTphLmVsZW1bYS5wcm9wXX0sc2V0OmZ1bmN0aW9uKGEpe20uZnguc3RlcFthLnByb3BdP20uZnguc3RlcFthLnByb3BdKGEpOmEuZWxlbS5zdHlsZSYmKG51bGwhPWEuZWxlbS5zdHlsZVttLmNzc1Byb3BzW2EucHJvcF1dfHxtLmNzc0hvb2tzW2EucHJvcF0pP20uc3R5bGUoYS5lbGVtLGEucHJvcCxhLm5vdythLnVuaXQpOmEuZWxlbVthLnByb3BdPWEubm93fX19LFphLnByb3BIb29rcy5zY3JvbGxUb3A9WmEucHJvcEhvb2tzLnNjcm9sbExlZnQ9e3NldDpmdW5jdGlvbihhKXthLmVsZW0ubm9kZVR5cGUmJmEuZWxlbS5wYXJlbnROb2RlJiYoYS5lbGVtW2EucHJvcF09YS5ub3cpfX0sbS5lYXNpbmc9e2xpbmVhcjpmdW5jdGlvbihhKXtyZXR1cm4gYX0sc3dpbmc6ZnVuY3Rpb24oYSl7cmV0dXJuLjUtTWF0aC5jb3MoYSpNYXRoLlBJKS8yfX0sbS5meD1aYS5wcm90b3R5cGUuaW5pdCxtLmZ4LnN0ZXA9e307dmFyICRhLF9hLGFiPS9eKD86dG9nZ2xlfHNob3d8aGlkZSkkLyxiYj1uZXcgUmVnRXhwKCJeKD86KFsrLV0pPXwpKCIrUysiKShbYS16JV0qKSQiLCJpIiksY2I9L3F1ZXVlSG9va3MkLyxkYj1baWJdLGViPXsiKiI6W2Z1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5jcmVhdGVUd2VlbihhLGIpLGQ9Yy5jdXIoKSxlPWJiLmV4ZWMoYiksZj1lJiZlWzNdfHwobS5jc3NOdW1iZXJbYV0/IiI6InB4IiksZz0obS5jc3NOdW1iZXJbYV18fCJweCIhPT1mJiYrZCkmJmJiLmV4ZWMobS5jc3MoYy5lbGVtLGEpKSxoPTEsaT0yMDtpZihnJiZnWzNdIT09Zil7Zj1mfHxnWzNdLGU9ZXx8W10sZz0rZHx8MTtkbyBoPWh8fCIuNSIsZy89aCxtLnN0eWxlKGMuZWxlbSxhLGcrZik7d2hpbGUoaCE9PShoPWMuY3VyKCkvZCkmJjEhPT1oJiYtLWkpfXJldHVybiBlJiYoZz1jLnN0YXJ0PStnfHwrZHx8MCxjLnVuaXQ9ZixjLmVuZD1lWzFdP2crKGVbMV0rMSkqZVsyXTorZVsyXSksY31dfTtmdW5jdGlvbiBmYigpe3JldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7JGE9dm9pZCAwfSksJGE9bS5ub3coKX1mdW5jdGlvbiBnYihhLGIpe3ZhciBjLGQ9e2hlaWdodDphfSxlPTA7Zm9yKGI9Yj8xOjA7ND5lO2UrPTItYiljPVRbZV0sZFsibWFyZ2luIitjXT1kWyJwYWRkaW5nIitjXT1hO3JldHVybiBiJiYoZC5vcGFjaXR5PWQud2lkdGg9YSksZH1mdW5jdGlvbiBoYihhLGIsYyl7Zm9yKHZhciBkLGU9KGViW2JdfHxbXSkuY29uY2F0KGViWyIqIl0pLGY9MCxnPWUubGVuZ3RoO2c+ZjtmKyspaWYoZD1lW2ZdLmNhbGwoYyxiLGEpKXJldHVybiBkfWZ1bmN0aW9uIGliKGEsYixjKXt2YXIgZCxlLGYsZyxoLGksaixsLG49dGhpcyxvPXt9LHA9YS5zdHlsZSxxPWEubm9kZVR5cGUmJlUoYSkscj1tLl9kYXRhKGEsImZ4c2hvdyIpO2MucXVldWV8fChoPW0uX3F1ZXVlSG9va3MoYSwiZngiKSxudWxsPT1oLnVucXVldWVkJiYoaC51bnF1ZXVlZD0wLGk9aC5lbXB0eS5maXJlLGguZW1wdHkuZmlyZT1mdW5jdGlvbigpe2gudW5xdWV1ZWR8fGkoKX0pLGgudW5xdWV1ZWQrKyxuLmFsd2F5cyhmdW5jdGlvbigpe24uYWx3YXlzKGZ1bmN0aW9uKCl7aC51bnF1ZXVlZC0tLG0ucXVldWUoYSwiZngiKS5sZW5ndGh8fGguZW1wdHkuZmlyZSgpfSl9KSksMT09PWEubm9kZVR5cGUmJigiaGVpZ2h0ImluIGJ8fCJ3aWR0aCJpbiBiKSYmKGMub3ZlcmZsb3c9W3Aub3ZlcmZsb3cscC5vdmVyZmxvd1gscC5vdmVyZmxvd1ldLGo9bS5jc3MoYSwiZGlzcGxheSIpLGw9Im5vbmUiPT09aj9tLl9kYXRhKGEsIm9sZGRpc3BsYXkiKXx8RmEoYS5ub2RlTmFtZSk6aiwiaW5saW5lIj09PWwmJiJub25lIj09PW0uY3NzKGEsImZsb2F0IikmJihrLmlubGluZUJsb2NrTmVlZHNMYXlvdXQmJiJpbmxpbmUiIT09RmEoYS5ub2RlTmFtZSk/cC56b29tPTE6cC5kaXNwbGF5PSJpbmxpbmUtYmxvY2siKSksYy5vdmVyZmxvdyYmKHAub3ZlcmZsb3c9ImhpZGRlbiIsay5zaHJpbmtXcmFwQmxvY2tzKCl8fG4uYWx3YXlzKGZ1bmN0aW9uKCl7cC5vdmVyZmxvdz1jLm92ZXJmbG93WzBdLHAub3ZlcmZsb3dYPWMub3ZlcmZsb3dbMV0scC5vdmVyZmxvd1k9Yy5vdmVyZmxvd1syXX0pKTtmb3IoZCBpbiBiKWlmKGU9YltkXSxhYi5leGVjKGUpKXtpZihkZWxldGUgYltkXSxmPWZ8fCJ0b2dnbGUiPT09ZSxlPT09KHE/ImhpZGUiOiJzaG93Iikpe2lmKCJzaG93IiE9PWV8fCFyfHx2b2lkIDA9PT1yW2RdKWNvbnRpbnVlO3E9ITB9b1tkXT1yJiZyW2RdfHxtLnN0eWxlKGEsZCl9ZWxzZSBqPXZvaWQgMDtpZihtLmlzRW1wdHlPYmplY3QobykpImlubGluZSI9PT0oIm5vbmUiPT09aj9GYShhLm5vZGVOYW1lKTpqKSYmKHAuZGlzcGxheT1qKTtlbHNle3I/ImhpZGRlbiJpbiByJiYocT1yLmhpZGRlbik6cj1tLl9kYXRhKGEsImZ4c2hvdyIse30pLGYmJihyLmhpZGRlbj0hcSkscT9tKGEpLnNob3coKTpuLmRvbmUoZnVuY3Rpb24oKXttKGEpLmhpZGUoKX0pLG4uZG9uZShmdW5jdGlvbigpe3ZhciBiO20uX3JlbW92ZURhdGEoYSwiZnhzaG93Iik7Zm9yKGIgaW4gbyltLnN0eWxlKGEsYixvW2JdKX0pO2ZvcihkIGluIG8pZz1oYihxP3JbZF06MCxkLG4pLGQgaW4gcnx8KHJbZF09Zy5zdGFydCxxJiYoZy5lbmQ9Zy5zdGFydCxnLnN0YXJ0PSJ3aWR0aCI9PT1kfHwiaGVpZ2h0Ij09PWQ/MTowKSl9fWZ1bmN0aW9uIGpiKGEsYil7dmFyIGMsZCxlLGYsZztmb3IoYyBpbiBhKWlmKGQ9bS5jYW1lbENhc2UoYyksZT1iW2RdLGY9YVtjXSxtLmlzQXJyYXkoZikmJihlPWZbMV0sZj1hW2NdPWZbMF0pLGMhPT1kJiYoYVtkXT1mLGRlbGV0ZSBhW2NdKSxnPW0uY3NzSG9va3NbZF0sZyYmImV4cGFuZCJpbiBnKXtmPWcuZXhwYW5kKGYpLGRlbGV0ZSBhW2RdO2ZvcihjIGluIGYpYyBpbiBhfHwoYVtjXT1mW2NdLGJbY109ZSl9ZWxzZSBiW2RdPWV9ZnVuY3Rpb24ga2IoYSxiLGMpe3ZhciBkLGUsZj0wLGc9ZGIubGVuZ3RoLGg9bS5EZWZlcnJlZCgpLmFsd2F5cyhmdW5jdGlvbigpe2RlbGV0ZSBpLmVsZW19KSxpPWZ1bmN0aW9uKCl7aWYoZSlyZXR1cm4hMTtmb3IodmFyIGI9JGF8fGZiKCksYz1NYXRoLm1heCgwLGouc3RhcnRUaW1lK2ouZHVyYXRpb24tYiksZD1jL2ouZHVyYXRpb258fDAsZj0xLWQsZz0wLGk9ai50d2VlbnMubGVuZ3RoO2k+ZztnKyspai50d2VlbnNbZ10ucnVuKGYpO3JldHVybiBoLm5vdGlmeVdpdGgoYSxbaixmLGNdKSwxPmYmJmk/YzooaC5yZXNvbHZlV2l0aChhLFtqXSksITEpfSxqPWgucHJvbWlzZSh7ZWxlbTphLHByb3BzOm0uZXh0ZW5kKHt9LGIpLG9wdHM6bS5leHRlbmQoITAse3NwZWNpYWxFYXNpbmc6e319LGMpLG9yaWdpbmFsUHJvcGVydGllczpiLG9yaWdpbmFsT3B0aW9uczpjLHN0YXJ0VGltZTokYXx8ZmIoKSxkdXJhdGlvbjpjLmR1cmF0aW9uLHR3ZWVuczpbXSxjcmVhdGVUd2VlbjpmdW5jdGlvbihiLGMpe3ZhciBkPW0uVHdlZW4oYSxqLm9wdHMsYixjLGoub3B0cy5zcGVjaWFsRWFzaW5nW2JdfHxqLm9wdHMuZWFzaW5nKTtyZXR1cm4gai50d2VlbnMucHVzaChkKSxkfSxzdG9wOmZ1bmN0aW9uKGIpe3ZhciBjPTAsZD1iP2oudHdlZW5zLmxlbmd0aDowO2lmKGUpcmV0dXJuIHRoaXM7Zm9yKGU9ITA7ZD5jO2MrKylqLnR3ZWVuc1tjXS5ydW4oMSk7cmV0dXJuIGI/aC5yZXNvbHZlV2l0aChhLFtqLGJdKTpoLnJlamVjdFdpdGgoYSxbaixiXSksdGhpc319KSxrPWoucHJvcHM7Zm9yKGpiKGssai5vcHRzLnNwZWNpYWxFYXNpbmcpO2c+ZjtmKyspaWYoZD1kYltmXS5jYWxsKGosYSxrLGoub3B0cykpcmV0dXJuIGQ7cmV0dXJuIG0ubWFwKGssaGIsaiksbS5pc0Z1bmN0aW9uKGoub3B0cy5zdGFydCkmJmoub3B0cy5zdGFydC5jYWxsKGEsaiksbS5meC50aW1lcihtLmV4dGVuZChpLHtlbGVtOmEsYW5pbTpqLHF1ZXVlOmoub3B0cy5xdWV1ZX0pKSxqLnByb2dyZXNzKGoub3B0cy5wcm9ncmVzcykuZG9uZShqLm9wdHMuZG9uZSxqLm9wdHMuY29tcGxldGUpLmZhaWwoai5vcHRzLmZhaWwpLmFsd2F5cyhqLm9wdHMuYWx3YXlzKX1tLkFuaW1hdGlvbj1tLmV4dGVuZChrYix7dHdlZW5lcjpmdW5jdGlvbihhLGIpe20uaXNGdW5jdGlvbihhKT8oYj1hLGE9WyIqIl0pOmE9YS5zcGxpdCgiICIpO2Zvcih2YXIgYyxkPTAsZT1hLmxlbmd0aDtlPmQ7ZCsrKWM9YVtkXSxlYltjXT1lYltjXXx8W10sZWJbY10udW5zaGlmdChiKX0scHJlZmlsdGVyOmZ1bmN0aW9uKGEsYil7Yj9kYi51bnNoaWZ0KGEpOmRiLnB1c2goYSl9fSksbS5zcGVlZD1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9YSYmIm9iamVjdCI9PXR5cGVvZiBhP20uZXh0ZW5kKHt9LGEpOntjb21wbGV0ZTpjfHwhYyYmYnx8bS5pc0Z1bmN0aW9uKGEpJiZhLGR1cmF0aW9uOmEsZWFzaW5nOmMmJmJ8fGImJiFtLmlzRnVuY3Rpb24oYikmJmJ9O3JldHVybiBkLmR1cmF0aW9uPW0uZngub2ZmPzA6Im51bWJlciI9PXR5cGVvZiBkLmR1cmF0aW9uP2QuZHVyYXRpb246ZC5kdXJhdGlvbiBpbiBtLmZ4LnNwZWVkcz9tLmZ4LnNwZWVkc1tkLmR1cmF0aW9uXTptLmZ4LnNwZWVkcy5fZGVmYXVsdCwobnVsbD09ZC5xdWV1ZXx8ZC5xdWV1ZT09PSEwKSYmKGQucXVldWU9ImZ4IiksZC5vbGQ9ZC5jb21wbGV0ZSxkLmNvbXBsZXRlPWZ1bmN0aW9uKCl7bS5pc0Z1bmN0aW9uKGQub2xkKSYmZC5vbGQuY2FsbCh0aGlzKSxkLnF1ZXVlJiZtLmRlcXVldWUodGhpcyxkLnF1ZXVlKX0sZH0sbS5mbi5leHRlbmQoe2ZhZGVUbzpmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gdGhpcy5maWx0ZXIoVSkuY3NzKCJvcGFjaXR5IiwwKS5zaG93KCkuZW5kKCkuYW5pbWF0ZSh7b3BhY2l0eTpifSxhLGMsZCl9LGFuaW1hdGU6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9bS5pc0VtcHR5T2JqZWN0KGEpLGY9bS5zcGVlZChiLGMsZCksZz1mdW5jdGlvbigpe3ZhciBiPWtiKHRoaXMsbS5leHRlbmQoe30sYSksZik7KGV8fG0uX2RhdGEodGhpcywiZmluaXNoIikpJiZiLnN0b3AoITApfTtyZXR1cm4gZy5maW5pc2g9ZyxlfHxmLnF1ZXVlPT09ITE/dGhpcy5lYWNoKGcpOnRoaXMucXVldWUoZi5xdWV1ZSxnKX0sc3RvcDpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9ZnVuY3Rpb24oYSl7dmFyIGI9YS5zdG9wO2RlbGV0ZSBhLnN0b3AsYihjKX07cmV0dXJuInN0cmluZyIhPXR5cGVvZiBhJiYoYz1iLGI9YSxhPXZvaWQgMCksYiYmYSE9PSExJiZ0aGlzLnF1ZXVlKGF8fCJmeCIsW10pLHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBiPSEwLGU9bnVsbCE9YSYmYSsicXVldWVIb29rcyIsZj1tLnRpbWVycyxnPW0uX2RhdGEodGhpcyk7aWYoZSlnW2VdJiZnW2VdLnN0b3AmJmQoZ1tlXSk7ZWxzZSBmb3IoZSBpbiBnKWdbZV0mJmdbZV0uc3RvcCYmY2IudGVzdChlKSYmZChnW2VdKTtmb3IoZT1mLmxlbmd0aDtlLS07KWZbZV0uZWxlbSE9PXRoaXN8fG51bGwhPWEmJmZbZV0ucXVldWUhPT1hfHwoZltlXS5hbmltLnN0b3AoYyksYj0hMSxmLnNwbGljZShlLDEpKTsoYnx8IWMpJiZtLmRlcXVldWUodGhpcyxhKX0pfSxmaW5pc2g6ZnVuY3Rpb24oYSl7cmV0dXJuIGEhPT0hMSYmKGE9YXx8ImZ4IiksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGIsYz1tLl9kYXRhKHRoaXMpLGQ9Y1thKyJxdWV1ZSJdLGU9Y1thKyJxdWV1ZUhvb2tzIl0sZj1tLnRpbWVycyxnPWQ/ZC5sZW5ndGg6MDtmb3IoYy5maW5pc2g9ITAsbS5xdWV1ZSh0aGlzLGEsW10pLGUmJmUuc3RvcCYmZS5zdG9wLmNhbGwodGhpcywhMCksYj1mLmxlbmd0aDtiLS07KWZbYl0uZWxlbT09PXRoaXMmJmZbYl0ucXVldWU9PT1hJiYoZltiXS5hbmltLnN0b3AoITApLGYuc3BsaWNlKGIsMSkpO2ZvcihiPTA7Zz5iO2IrKylkW2JdJiZkW2JdLmZpbmlzaCYmZFtiXS5maW5pc2guY2FsbCh0aGlzKTtkZWxldGUgYy5maW5pc2h9KX19KSxtLmVhY2goWyJ0b2dnbGUiLCJzaG93IiwiaGlkZSJdLGZ1bmN0aW9uKGEsYil7dmFyIGM9bS5mbltiXTttLmZuW2JdPWZ1bmN0aW9uKGEsZCxlKXtyZXR1cm4gbnVsbD09YXx8ImJvb2xlYW4iPT10eXBlb2YgYT9jLmFwcGx5KHRoaXMsYXJndW1lbnRzKTp0aGlzLmFuaW1hdGUoZ2IoYiwhMCksYSxkLGUpfX0pLG0uZWFjaCh7c2xpZGVEb3duOmdiKCJzaG93Iiksc2xpZGVVcDpnYigiaGlkZSIpLHNsaWRlVG9nZ2xlOmdiKCJ0b2dnbGUiKSxmYWRlSW46e29wYWNpdHk6InNob3cifSxmYWRlT3V0OntvcGFjaXR5OiJoaWRlIn0sZmFkZVRvZ2dsZTp7b3BhY2l0eToidG9nZ2xlIn19LGZ1bmN0aW9uKGEsYil7bS5mblthXT1mdW5jdGlvbihhLGMsZCl7cmV0dXJuIHRoaXMuYW5pbWF0ZShiLGEsYyxkKX19KSxtLnRpbWVycz1bXSxtLmZ4LnRpY2s9ZnVuY3Rpb24oKXt2YXIgYSxiPW0udGltZXJzLGM9MDtmb3IoJGE9bS5ub3coKTtjPGIubGVuZ3RoO2MrKylhPWJbY10sYSgpfHxiW2NdIT09YXx8Yi5zcGxpY2UoYy0tLDEpO2IubGVuZ3RofHxtLmZ4LnN0b3AoKSwkYT12b2lkIDB9LG0uZngudGltZXI9ZnVuY3Rpb24oYSl7bS50aW1lcnMucHVzaChhKSxhKCk/bS5meC5zdGFydCgpOm0udGltZXJzLnBvcCgpfSxtLmZ4LmludGVydmFsPTEzLG0uZnguc3RhcnQ9ZnVuY3Rpb24oKXtfYXx8KF9hPXNldEludGVydmFsKG0uZngudGljayxtLmZ4LmludGVydmFsKSl9LG0uZnguc3RvcD1mdW5jdGlvbigpe2NsZWFySW50ZXJ2YWwoX2EpLF9hPW51bGx9LG0uZnguc3BlZWRzPXtzbG93OjYwMCxmYXN0OjIwMCxfZGVmYXVsdDo0MDB9LG0uZm4uZGVsYXk9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT1tLmZ4P20uZnguc3BlZWRzW2FdfHxhOmEsYj1ifHwiZngiLHRoaXMucXVldWUoYixmdW5jdGlvbihiLGMpe3ZhciBkPXNldFRpbWVvdXQoYixhKTtjLnN0b3A9ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQoZCl9fSl9LGZ1bmN0aW9uKCl7dmFyIGEsYixjLGQsZTtiPXkuY3JlYXRlRWxlbWVudCgiZGl2IiksYi5zZXRBdHRyaWJ1dGUoImNsYXNzTmFtZSIsInQiKSxiLmlubmVySFRNTD0iICA8bGluay8+PHRhYmxlPjwvdGFibGU+PGEgaHJlZj0nL2EnPmE8L2E+PGlucHV0IHR5cGU9J2NoZWNrYm94Jy8+IixkPWIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImEiKVswXSxjPXkuY3JlYXRlRWxlbWVudCgic2VsZWN0IiksZT1jLmFwcGVuZENoaWxkKHkuY3JlYXRlRWxlbWVudCgib3B0aW9uIikpLGE9Yi5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaW5wdXQiKVswXSxkLnN0eWxlLmNzc1RleHQ9InRvcDoxcHgiLGsuZ2V0U2V0QXR0cmlidXRlPSJ0IiE9PWIuY2xhc3NOYW1lLGsuc3R5bGU9L3RvcC8udGVzdChkLmdldEF0dHJpYnV0ZSgic3R5bGUiKSksay5ocmVmTm9ybWFsaXplZD0iL2EiPT09ZC5nZXRBdHRyaWJ1dGUoImhyZWYiKSxrLmNoZWNrT249ISFhLnZhbHVlLGsub3B0U2VsZWN0ZWQ9ZS5zZWxlY3RlZCxrLmVuY3R5cGU9ISF5LmNyZWF0ZUVsZW1lbnQoImZvcm0iKS5lbmN0eXBlLGMuZGlzYWJsZWQ9ITAsay5vcHREaXNhYmxlZD0hZS5kaXNhYmxlZCxhPXkuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSxhLnNldEF0dHJpYnV0ZSgidmFsdWUiLCIiKSxrLmlucHV0PSIiPT09YS5nZXRBdHRyaWJ1dGUoInZhbHVlIiksYS52YWx1ZT0idCIsYS5zZXRBdHRyaWJ1dGUoInR5cGUiLCJyYWRpbyIpLGsucmFkaW9WYWx1ZT0idCI9PT1hLnZhbHVlfSgpO3ZhciBsYj0vXHIvZzttLmZuLmV4dGVuZCh7dmFsOmZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlPXRoaXNbMF07e2lmKGFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIGQ9bS5pc0Z1bmN0aW9uKGEpLHRoaXMuZWFjaChmdW5jdGlvbihjKXt2YXIgZTsxPT09dGhpcy5ub2RlVHlwZSYmKGU9ZD9hLmNhbGwodGhpcyxjLG0odGhpcykudmFsKCkpOmEsbnVsbD09ZT9lPSIiOiJudW1iZXIiPT10eXBlb2YgZT9lKz0iIjptLmlzQXJyYXkoZSkmJihlPW0ubWFwKGUsZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PWE/IiI6YSsiIn0pKSxiPW0udmFsSG9va3NbdGhpcy50eXBlXXx8bS52YWxIb29rc1t0aGlzLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldLGImJiJzZXQiaW4gYiYmdm9pZCAwIT09Yi5zZXQodGhpcyxlLCJ2YWx1ZSIpfHwodGhpcy52YWx1ZT1lKSl9KTtpZihlKXJldHVybiBiPW0udmFsSG9va3NbZS50eXBlXXx8bS52YWxIb29rc1tlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldLGImJiJnZXQiaW4gYiYmdm9pZCAwIT09KGM9Yi5nZXQoZSwidmFsdWUiKSk/YzooYz1lLnZhbHVlLCJzdHJpbmciPT10eXBlb2YgYz9jLnJlcGxhY2UobGIsIiIpOm51bGw9PWM/IiI6Yyl9fX0pLG0uZXh0ZW5kKHt2YWxIb29rczp7b3B0aW9uOntnZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9bS5maW5kLmF0dHIoYSwidmFsdWUiKTtyZXR1cm4gbnVsbCE9Yj9iOm0udHJpbShtLnRleHQoYSkpfX0sc2VsZWN0OntnZXQ6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiLGMsZD1hLm9wdGlvbnMsZT1hLnNlbGVjdGVkSW5kZXgsZj0ic2VsZWN0LW9uZSI9PT1hLnR5cGV8fDA+ZSxnPWY/bnVsbDpbXSxoPWY/ZSsxOmQubGVuZ3RoLGk9MD5lP2g6Zj9lOjA7aD5pO2krKylpZihjPWRbaV0sISghYy5zZWxlY3RlZCYmaSE9PWV8fChrLm9wdERpc2FibGVkP2MuZGlzYWJsZWQ6bnVsbCE9PWMuZ2V0QXR0cmlidXRlKCJkaXNhYmxlZCIpKXx8Yy5wYXJlbnROb2RlLmRpc2FibGVkJiZtLm5vZGVOYW1lKGMucGFyZW50Tm9kZSwib3B0Z3JvdXAiKSkpe2lmKGI9bShjKS52YWwoKSxmKXJldHVybiBiO2cucHVzaChiKX1yZXR1cm4gZ30sc2V0OmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlPWEub3B0aW9ucyxmPW0ubWFrZUFycmF5KGIpLGc9ZS5sZW5ndGg7d2hpbGUoZy0tKWlmKGQ9ZVtnXSxtLmluQXJyYXkobS52YWxIb29rcy5vcHRpb24uZ2V0KGQpLGYpPj0wKXRyeXtkLnNlbGVjdGVkPWM9ITB9Y2F0Y2goaCl7ZC5zY3JvbGxIZWlnaHR9ZWxzZSBkLnNlbGVjdGVkPSExO3JldHVybiBjfHwoYS5zZWxlY3RlZEluZGV4PS0xKSxlfX19fSksbS5lYWNoKFsicmFkaW8iLCJjaGVja2JveCJdLGZ1bmN0aW9uKCl7bS52YWxIb29rc1t0aGlzXT17c2V0OmZ1bmN0aW9uKGEsYil7cmV0dXJuIG0uaXNBcnJheShiKT9hLmNoZWNrZWQ9bS5pbkFycmF5KG0oYSkudmFsKCksYik+PTA6dm9pZCAwfX0say5jaGVja09ufHwobS52YWxIb29rc1t0aGlzXS5nZXQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PT1hLmdldEF0dHJpYnV0ZSgidmFsdWUiKT8ib24iOmEudmFsdWV9KX0pO3ZhciBtYixuYixvYj1tLmV4cHIuYXR0ckhhbmRsZSxwYj0vXig/OmNoZWNrZWR8c2VsZWN0ZWQpJC9pLHFiPWsuZ2V0U2V0QXR0cmlidXRlLHJiPWsuaW5wdXQ7bS5mbi5leHRlbmQoe2F0dHI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gVih0aGlzLG0uYXR0cixhLGIsYXJndW1lbnRzLmxlbmd0aD4xKX0scmVtb3ZlQXR0cjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7bS5yZW1vdmVBdHRyKHRoaXMsYSl9KX19KSxtLmV4dGVuZCh7YXR0cjpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmPWEubm9kZVR5cGU7aWYoYSYmMyE9PWYmJjghPT1mJiYyIT09ZilyZXR1cm4gdHlwZW9mIGEuZ2V0QXR0cmlidXRlPT09Sz9tLnByb3AoYSxiLGMpOigxPT09ZiYmbS5pc1hNTERvYyhhKXx8KGI9Yi50b0xvd2VyQ2FzZSgpLGQ9bS5hdHRySG9va3NbYl18fChtLmV4cHIubWF0Y2guYm9vbC50ZXN0KGIpP25iOm1iKSksdm9pZCAwPT09Yz9kJiYiZ2V0ImluIGQmJm51bGwhPT0oZT1kLmdldChhLGIpKT9lOihlPW0uZmluZC5hdHRyKGEsYiksbnVsbD09ZT92b2lkIDA6ZSk6bnVsbCE9PWM/ZCYmInNldCJpbiBkJiZ2b2lkIDAhPT0oZT1kLnNldChhLGMsYikpP2U6KGEuc2V0QXR0cmlidXRlKGIsYysiIiksYyk6dm9pZCBtLnJlbW92ZUF0dHIoYSxiKSl9LHJlbW92ZUF0dHI6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGU9MCxmPWImJmIubWF0Y2goRSk7aWYoZiYmMT09PWEubm9kZVR5cGUpd2hpbGUoYz1mW2UrK10pZD1tLnByb3BGaXhbY118fGMsbS5leHByLm1hdGNoLmJvb2wudGVzdChjKT9yYiYmcWJ8fCFwYi50ZXN0KGMpP2FbZF09ITE6YVttLmNhbWVsQ2FzZSgiZGVmYXVsdC0iK2MpXT1hW2RdPSExOm0uYXR0cihhLGMsIiIpLGEucmVtb3ZlQXR0cmlidXRlKHFiP2M6ZCl9LGF0dHJIb29rczp7dHlwZTp7c2V0OmZ1bmN0aW9uKGEsYil7aWYoIWsucmFkaW9WYWx1ZSYmInJhZGlvIj09PWImJm0ubm9kZU5hbWUoYSwiaW5wdXQiKSl7dmFyIGM9YS52YWx1ZTtyZXR1cm4gYS5zZXRBdHRyaWJ1dGUoInR5cGUiLGIpLGMmJihhLnZhbHVlPWMpLGJ9fX19fSksbmI9e3NldDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGI9PT0hMT9tLnJlbW92ZUF0dHIoYSxjKTpyYiYmcWJ8fCFwYi50ZXN0KGMpP2Euc2V0QXR0cmlidXRlKCFxYiYmbS5wcm9wRml4W2NdfHxjLGMpOmFbbS5jYW1lbENhc2UoImRlZmF1bHQtIitjKV09YVtjXT0hMCxjfX0sbS5lYWNoKG0uZXhwci5tYXRjaC5ib29sLnNvdXJjZS5tYXRjaCgvXHcrL2cpLGZ1bmN0aW9uKGEsYil7dmFyIGM9b2JbYl18fG0uZmluZC5hdHRyO29iW2JdPXJiJiZxYnx8IXBiLnRlc3QoYik/ZnVuY3Rpb24oYSxiLGQpe3ZhciBlLGY7cmV0dXJuIGR8fChmPW9iW2JdLG9iW2JdPWUsZT1udWxsIT1jKGEsYixkKT9iLnRvTG93ZXJDYXNlKCk6bnVsbCxvYltiXT1mKSxlfTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGM/dm9pZCAwOmFbbS5jYW1lbENhc2UoImRlZmF1bHQtIitiKV0/Yi50b0xvd2VyQ2FzZSgpOm51bGx9fSkscmImJnFifHwobS5hdHRySG9va3MudmFsdWU9e3NldDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIG0ubm9kZU5hbWUoYSwiaW5wdXQiKT92b2lkKGEuZGVmYXVsdFZhbHVlPWIpOm1iJiZtYi5zZXQoYSxiLGMpfX0pLHFifHwobWI9e3NldDpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9YS5nZXRBdHRyaWJ1dGVOb2RlKGMpO3JldHVybiBkfHxhLnNldEF0dHJpYnV0ZU5vZGUoZD1hLm93bmVyRG9jdW1lbnQuY3JlYXRlQXR0cmlidXRlKGMpKSxkLnZhbHVlPWIrPSIiLCJ2YWx1ZSI9PT1jfHxiPT09YS5nZXRBdHRyaWJ1dGUoYyk/Yjp2b2lkIDB9fSxvYi5pZD1vYi5uYW1lPW9iLmNvb3Jkcz1mdW5jdGlvbihhLGIsYyl7dmFyIGQ7cmV0dXJuIGM/dm9pZCAwOihkPWEuZ2V0QXR0cmlidXRlTm9kZShiKSkmJiIiIT09ZC52YWx1ZT9kLnZhbHVlOm51bGx9LG0udmFsSG9va3MuYnV0dG9uPXtnZXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmdldEF0dHJpYnV0ZU5vZGUoYik7cmV0dXJuIGMmJmMuc3BlY2lmaWVkP2MudmFsdWU6dm9pZCAwfSxzZXQ6bWIuc2V0fSxtLmF0dHJIb29rcy5jb250ZW50ZWRpdGFibGU9e3NldDpmdW5jdGlvbihhLGIsYyl7bWIuc2V0KGEsIiI9PT1iPyExOmIsYyl9fSxtLmVhY2goWyJ3aWR0aCIsImhlaWdodCJdLGZ1bmN0aW9uKGEsYil7bS5hdHRySG9va3NbYl09e3NldDpmdW5jdGlvbihhLGMpe3JldHVybiIiPT09Yz8oYS5zZXRBdHRyaWJ1dGUoYiwiYXV0byIpLGMpOnZvaWQgMH19fSkpLGsuc3R5bGV8fChtLmF0dHJIb29rcy5zdHlsZT17Z2V0OmZ1bmN0aW9uKGEpe3JldHVybiBhLnN0eWxlLmNzc1RleHR8fHZvaWQgMH0sc2V0OmZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuc3R5bGUuY3NzVGV4dD1iKyIifX0pO3ZhciBzYj0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b258b2JqZWN0KSQvaSx0Yj0vXig/OmF8YXJlYSkkL2k7bS5mbi5leHRlbmQoe3Byb3A6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gVih0aGlzLG0ucHJvcCxhLGIsYXJndW1lbnRzLmxlbmd0aD4xKX0scmVtb3ZlUHJvcDpmdW5jdGlvbihhKXtyZXR1cm4gYT1tLnByb3BGaXhbYV18fGEsdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dHJ5e3RoaXNbYV09dm9pZCAwLGRlbGV0ZSB0aGlzW2FdfWNhdGNoKGIpe319KX19KSxtLmV4dGVuZCh7cHJvcEZpeDp7ImZvciI6Imh0bWxGb3IiLCJjbGFzcyI6ImNsYXNzTmFtZSJ9LHByb3A6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZixnPWEubm9kZVR5cGU7aWYoYSYmMyE9PWcmJjghPT1nJiYyIT09ZylyZXR1cm4gZj0xIT09Z3x8IW0uaXNYTUxEb2MoYSksZiYmKGI9bS5wcm9wRml4W2JdfHxiLGU9bS5wcm9wSG9va3NbYl0pLHZvaWQgMCE9PWM/ZSYmInNldCJpbiBlJiZ2b2lkIDAhPT0oZD1lLnNldChhLGMsYikpP2Q6YVtiXT1jOmUmJiJnZXQiaW4gZSYmbnVsbCE9PShkPWUuZ2V0KGEsYikpP2Q6YVtiXX0scHJvcEhvb2tzOnt0YWJJbmRleDp7Z2V0OmZ1bmN0aW9uKGEpe3ZhciBiPW0uZmluZC5hdHRyKGEsInRhYmluZGV4Iik7cmV0dXJuIGI/cGFyc2VJbnQoYiwxMCk6c2IudGVzdChhLm5vZGVOYW1lKXx8dGIudGVzdChhLm5vZGVOYW1lKSYmYS5ocmVmPzA6LTF9fX19KSxrLmhyZWZOb3JtYWxpemVkfHxtLmVhY2goWyJocmVmIiwic3JjIl0sZnVuY3Rpb24oYSxiKXttLnByb3BIb29rc1tiXT17Z2V0OmZ1bmN0aW9uKGEpe3JldHVybiBhLmdldEF0dHJpYnV0ZShiLDQpfX19KSxrLm9wdFNlbGVjdGVkfHwobS5wcm9wSG9va3Muc2VsZWN0ZWQ9e2dldDpmdW5jdGlvbihhKXt2YXIgYj1hLnBhcmVudE5vZGU7cmV0dXJuIGImJihiLnNlbGVjdGVkSW5kZXgsYi5wYXJlbnROb2RlJiZiLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCksbnVsbH19KSxtLmVhY2goWyJ0YWJJbmRleCIsInJlYWRPbmx5IiwibWF4TGVuZ3RoIiwiY2VsbFNwYWNpbmciLCJjZWxsUGFkZGluZyIsInJvd1NwYW4iLCJjb2xTcGFuIiwidXNlTWFwIiwiZnJhbWVCb3JkZXIiLCJjb250ZW50RWRpdGFibGUiXSxmdW5jdGlvbigpe20ucHJvcEZpeFt0aGlzLnRvTG93ZXJDYXNlKCldPXRoaXN9KSxrLmVuY3R5cGV8fChtLnByb3BGaXguZW5jdHlwZT0iZW5jb2RpbmciKTt2YXIgdWI9L1tcdFxyXG5cZl0vZzttLmZuLmV4dGVuZCh7YWRkQ2xhc3M6ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGUsZixnLGg9MCxpPXRoaXMubGVuZ3RoLGo9InN0cmluZyI9PXR5cGVvZiBhJiZhO2lmKG0uaXNGdW5jdGlvbihhKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGIpe20odGhpcykuYWRkQ2xhc3MoYS5jYWxsKHRoaXMsYix0aGlzLmNsYXNzTmFtZSkpfSk7aWYoailmb3IoYj0oYXx8IiIpLm1hdGNoKEUpfHxbXTtpPmg7aCsrKWlmKGM9dGhpc1toXSxkPTE9PT1jLm5vZGVUeXBlJiYoYy5jbGFzc05hbWU/KCIgIitjLmNsYXNzTmFtZSsiICIpLnJlcGxhY2UodWIsIiAiKToiICIpKXtmPTA7d2hpbGUoZT1iW2YrK10pZC5pbmRleE9mKCIgIitlKyIgIik8MCYmKGQrPWUrIiAiKTtnPW0udHJpbShkKSxjLmNsYXNzTmFtZSE9PWcmJihjLmNsYXNzTmFtZT1nKX1yZXR1cm4gdGhpc30scmVtb3ZlQ2xhc3M6ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGUsZixnLGg9MCxpPXRoaXMubGVuZ3RoLGo9MD09PWFyZ3VtZW50cy5sZW5ndGh8fCJzdHJpbmciPT10eXBlb2YgYSYmYTtpZihtLmlzRnVuY3Rpb24oYSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihiKXttKHRoaXMpLnJlbW92ZUNsYXNzKGEuY2FsbCh0aGlzLGIsdGhpcy5jbGFzc05hbWUpKX0pO2lmKGopZm9yKGI9KGF8fCIiKS5tYXRjaChFKXx8W107aT5oO2grKylpZihjPXRoaXNbaF0sZD0xPT09Yy5ub2RlVHlwZSYmKGMuY2xhc3NOYW1lPygiICIrYy5jbGFzc05hbWUrIiAiKS5yZXBsYWNlKHViLCIgIik6IiIpKXtmPTA7d2hpbGUoZT1iW2YrK10pd2hpbGUoZC5pbmRleE9mKCIgIitlKyIgIik+PTApZD1kLnJlcGxhY2UoIiAiK2UrIiAiLCIgIik7Zz1hP20udHJpbShkKToiIixjLmNsYXNzTmFtZSE9PWcmJihjLmNsYXNzTmFtZT1nKX1yZXR1cm4gdGhpc30sdG9nZ2xlQ2xhc3M6ZnVuY3Rpb24oYSxiKXt2YXIgYz10eXBlb2YgYTtyZXR1cm4iYm9vbGVhbiI9PXR5cGVvZiBiJiYic3RyaW5nIj09PWM/Yj90aGlzLmFkZENsYXNzKGEpOnRoaXMucmVtb3ZlQ2xhc3MoYSk6dGhpcy5lYWNoKG0uaXNGdW5jdGlvbihhKT9mdW5jdGlvbihjKXttKHRoaXMpLnRvZ2dsZUNsYXNzKGEuY2FsbCh0aGlzLGMsdGhpcy5jbGFzc05hbWUsYiksYil9OmZ1bmN0aW9uKCl7aWYoInN0cmluZyI9PT1jKXt2YXIgYixkPTAsZT1tKHRoaXMpLGY9YS5tYXRjaChFKXx8W107d2hpbGUoYj1mW2QrK10pZS5oYXNDbGFzcyhiKT9lLnJlbW92ZUNsYXNzKGIpOmUuYWRkQ2xhc3MoYil9ZWxzZShjPT09S3x8ImJvb2xlYW4iPT09YykmJih0aGlzLmNsYXNzTmFtZSYmbS5fZGF0YSh0aGlzLCJfX2NsYXNzTmFtZV9fIix0aGlzLmNsYXNzTmFtZSksdGhpcy5jbGFzc05hbWU9dGhpcy5jbGFzc05hbWV8fGE9PT0hMT8iIjptLl9kYXRhKHRoaXMsIl9fY2xhc3NOYW1lX18iKXx8IiIpfSl9LGhhc0NsYXNzOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0iICIrYSsiICIsYz0wLGQ9dGhpcy5sZW5ndGg7ZD5jO2MrKylpZigxPT09dGhpc1tjXS5ub2RlVHlwZSYmKCIgIit0aGlzW2NdLmNsYXNzTmFtZSsiICIpLnJlcGxhY2UodWIsIiAiKS5pbmRleE9mKGIpPj0wKXJldHVybiEwO3JldHVybiExfX0pLG0uZWFjaCgiYmx1ciBmb2N1cyBmb2N1c2luIGZvY3Vzb3V0IGxvYWQgcmVzaXplIHNjcm9sbCB1bmxvYWQgY2xpY2sgZGJsY2xpY2sgbW91c2Vkb3duIG1vdXNldXAgbW91c2Vtb3ZlIG1vdXNlb3ZlciBtb3VzZW91dCBtb3VzZWVudGVyIG1vdXNlbGVhdmUgY2hhbmdlIHNlbGVjdCBzdWJtaXQga2V5ZG93biBrZXlwcmVzcyBrZXl1cCBlcnJvciBjb250ZXh0bWVudSIuc3BsaXQoIiAiKSxmdW5jdGlvbihhLGIpe20uZm5bYl09ZnVuY3Rpb24oYSxjKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD4wP3RoaXMub24oYixudWxsLGEsYyk6dGhpcy50cmlnZ2VyKGIpfX0pLG0uZm4uZXh0ZW5kKHtob3ZlcjpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLm1vdXNlZW50ZXIoYSkubW91c2VsZWF2ZShifHxhKX0sYmluZDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIHRoaXMub24oYSxudWxsLGIsYyl9LHVuYmluZDpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLm9mZihhLG51bGwsYil9LGRlbGVnYXRlOmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiB0aGlzLm9uKGIsYSxjLGQpfSx1bmRlbGVnYXRlOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gMT09PWFyZ3VtZW50cy5sZW5ndGg/dGhpcy5vZmYoYSwiKioiKTp0aGlzLm9mZihiLGF8fCIqKiIsYyl9fSk7dmFyIHZiPW0ubm93KCksd2I9L1w/Lyx4Yj0vKCwpfChcW3x7KXwofXxdKXwiKD86W14iXFxcclxuXXxcXFsiXFxcL2JmbnJ0XXxcXHVbXGRhLWZBLUZdezR9KSoiXHMqOj98dHJ1ZXxmYWxzZXxudWxsfC0/KD8hMFxkKVxkKyg/OlwuXGQrfCkoPzpbZUVdWystXT9cZCt8KS9nO20ucGFyc2VKU09OPWZ1bmN0aW9uKGIpe2lmKGEuSlNPTiYmYS5KU09OLnBhcnNlKXJldHVybiBhLkpTT04ucGFyc2UoYisiIik7dmFyIGMsZD1udWxsLGU9bS50cmltKGIrIiIpO3JldHVybiBlJiYhbS50cmltKGUucmVwbGFjZSh4YixmdW5jdGlvbihhLGIsZSxmKXtyZXR1cm4gYyYmYiYmKGQ9MCksMD09PWQ/YTooYz1lfHxiLGQrPSFmLSFlLCIiKX0pKT9GdW5jdGlvbigicmV0dXJuICIrZSkoKTptLmVycm9yKCJJbnZhbGlkIEpTT046ICIrYil9LG0ucGFyc2VYTUw9ZnVuY3Rpb24oYil7dmFyIGMsZDtpZighYnx8InN0cmluZyIhPXR5cGVvZiBiKXJldHVybiBudWxsO3RyeXthLkRPTVBhcnNlcj8oZD1uZXcgRE9NUGFyc2VyLGM9ZC5wYXJzZUZyb21TdHJpbmcoYiwidGV4dC94bWwiKSk6KGM9bmV3IEFjdGl2ZVhPYmplY3QoIk1pY3Jvc29mdC5YTUxET00iKSxjLmFzeW5jPSJmYWxzZSIsYy5sb2FkWE1MKGIpKX1jYXRjaChlKXtjPXZvaWQgMH1yZXR1cm4gYyYmYy5kb2N1bWVudEVsZW1lbnQmJiFjLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJwYXJzZXJlcnJvciIpLmxlbmd0aHx8bS5lcnJvcigiSW52YWxpZCBYTUw6ICIrYiksY307dmFyIHliLHpiLEFiPS8jLiokLyxCYj0vKFs/Jl0pXz1bXiZdKi8sQ2I9L14oLio/KTpbIFx0XSooW15cclxuXSopXHI/JC9nbSxEYj0vXig/OmFib3V0fGFwcHxhcHAtc3RvcmFnZXwuKy1leHRlbnNpb258ZmlsZXxyZXN8d2lkZ2V0KTokLyxFYj0vXig/OkdFVHxIRUFEKSQvLEZiPS9eXC9cLy8sR2I9L14oW1x3ListXSs6KSg/OlwvXC8oPzpbXlwvPyNdKkB8KShbXlwvPyM6XSopKD86OihcZCspfCl8KS8sSGI9e30sSWI9e30sSmI9IiovIi5jb25jYXQoIioiKTt0cnl7emI9bG9jYXRpb24uaHJlZn1jYXRjaChLYil7emI9eS5jcmVhdGVFbGVtZW50KCJhIiksemIuaHJlZj0iIix6Yj16Yi5ocmVmfXliPUdiLmV4ZWMoemIudG9Mb3dlckNhc2UoKSl8fFtdO2Z1bmN0aW9uIExiKGEpe3JldHVybiBmdW5jdGlvbihiLGMpeyJzdHJpbmciIT10eXBlb2YgYiYmKGM9YixiPSIqIik7dmFyIGQsZT0wLGY9Yi50b0xvd2VyQ2FzZSgpLm1hdGNoKEUpfHxbXTtpZihtLmlzRnVuY3Rpb24oYykpd2hpbGUoZD1mW2UrK10pIisiPT09ZC5jaGFyQXQoMCk/KGQ9ZC5zbGljZSgxKXx8IioiLChhW2RdPWFbZF18fFtdKS51bnNoaWZ0KGMpKTooYVtkXT1hW2RdfHxbXSkucHVzaChjKX19ZnVuY3Rpb24gTWIoYSxiLGMsZCl7dmFyIGU9e30sZj1hPT09SWI7ZnVuY3Rpb24gZyhoKXt2YXIgaTtyZXR1cm4gZVtoXT0hMCxtLmVhY2goYVtoXXx8W10sZnVuY3Rpb24oYSxoKXt2YXIgaj1oKGIsYyxkKTtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIGp8fGZ8fGVbal0/Zj8hKGk9aik6dm9pZCAwOihiLmRhdGFUeXBlcy51bnNoaWZ0KGopLGcoaiksITEpfSksaX1yZXR1cm4gZyhiLmRhdGFUeXBlc1swXSl8fCFlWyIqIl0mJmcoIioiKX1mdW5jdGlvbiBOYihhLGIpe3ZhciBjLGQsZT1tLmFqYXhTZXR0aW5ncy5mbGF0T3B0aW9uc3x8e307Zm9yKGQgaW4gYil2b2lkIDAhPT1iW2RdJiYoKGVbZF0/YTpjfHwoYz17fSkpW2RdPWJbZF0pO3JldHVybiBjJiZtLmV4dGVuZCghMCxhLGMpLGF9ZnVuY3Rpb24gT2IoYSxiLGMpe3ZhciBkLGUsZixnLGg9YS5jb250ZW50cyxpPWEuZGF0YVR5cGVzO3doaWxlKCIqIj09PWlbMF0paS5zaGlmdCgpLHZvaWQgMD09PWUmJihlPWEubWltZVR5cGV8fGIuZ2V0UmVzcG9uc2VIZWFkZXIoIkNvbnRlbnQtVHlwZSIpKTtpZihlKWZvcihnIGluIGgpaWYoaFtnXSYmaFtnXS50ZXN0KGUpKXtpLnVuc2hpZnQoZyk7YnJlYWt9aWYoaVswXWluIGMpZj1pWzBdO2Vsc2V7Zm9yKGcgaW4gYyl7aWYoIWlbMF18fGEuY29udmVydGVyc1tnKyIgIitpWzBdXSl7Zj1nO2JyZWFrfWR8fChkPWcpfWY9Znx8ZH1yZXR1cm4gZj8oZiE9PWlbMF0mJmkudW5zaGlmdChmKSxjW2ZdKTp2b2lkIDB9ZnVuY3Rpb24gUGIoYSxiLGMsZCl7dmFyIGUsZixnLGgsaSxqPXt9LGs9YS5kYXRhVHlwZXMuc2xpY2UoKTtpZihrWzFdKWZvcihnIGluIGEuY29udmVydGVycylqW2cudG9Mb3dlckNhc2UoKV09YS5jb252ZXJ0ZXJzW2ddO2Y9ay5zaGlmdCgpO3doaWxlKGYpaWYoYS5yZXNwb25zZUZpZWxkc1tmXSYmKGNbYS5yZXNwb25zZUZpZWxkc1tmXV09YiksIWkmJmQmJmEuZGF0YUZpbHRlciYmKGI9YS5kYXRhRmlsdGVyKGIsYS5kYXRhVHlwZSkpLGk9ZixmPWsuc2hpZnQoKSlpZigiKiI9PT1mKWY9aTtlbHNlIGlmKCIqIiE9PWkmJmkhPT1mKXtpZihnPWpbaSsiICIrZl18fGpbIiogIitmXSwhZylmb3IoZSBpbiBqKWlmKGg9ZS5zcGxpdCgiICIpLGhbMV09PT1mJiYoZz1qW2krIiAiK2hbMF1dfHxqWyIqICIraFswXV0pKXtnPT09ITA/Zz1qW2VdOmpbZV0hPT0hMCYmKGY9aFswXSxrLnVuc2hpZnQoaFsxXSkpO2JyZWFrfWlmKGchPT0hMClpZihnJiZhWyJ0aHJvd3MiXSliPWcoYik7ZWxzZSB0cnl7Yj1nKGIpfWNhdGNoKGwpe3JldHVybntzdGF0ZToicGFyc2VyZXJyb3IiLGVycm9yOmc/bDoiTm8gY29udmVyc2lvbiBmcm9tICIraSsiIHRvICIrZn19fXJldHVybntzdGF0ZToic3VjY2VzcyIsZGF0YTpifX1tLmV4dGVuZCh7YWN0aXZlOjAsbGFzdE1vZGlmaWVkOnt9LGV0YWc6e30sYWpheFNldHRpbmdzOnt1cmw6emIsdHlwZToiR0VUIixpc0xvY2FsOkRiLnRlc3QoeWJbMV0pLGdsb2JhbDohMCxwcm9jZXNzRGF0YTohMCxhc3luYzohMCxjb250ZW50VHlwZToiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkOyBjaGFyc2V0PVVURi04IixhY2NlcHRzOnsiKiI6SmIsdGV4dDoidGV4dC9wbGFpbiIsaHRtbDoidGV4dC9odG1sIix4bWw6ImFwcGxpY2F0aW9uL3htbCwgdGV4dC94bWwiLGpzb246ImFwcGxpY2F0aW9uL2pzb24sIHRleHQvamF2YXNjcmlwdCJ9LGNvbnRlbnRzOnt4bWw6L3htbC8saHRtbDovaHRtbC8sanNvbjovanNvbi99LHJlc3BvbnNlRmllbGRzOnt4bWw6InJlc3BvbnNlWE1MIix0ZXh0OiJyZXNwb25zZVRleHQiLGpzb246InJlc3BvbnNlSlNPTiJ9LGNvbnZlcnRlcnM6eyIqIHRleHQiOlN0cmluZywidGV4dCBodG1sIjohMCwidGV4dCBqc29uIjptLnBhcnNlSlNPTiwidGV4dCB4bWwiOm0ucGFyc2VYTUx9LGZsYXRPcHRpb25zOnt1cmw6ITAsY29udGV4dDohMH19LGFqYXhTZXR1cDpmdW5jdGlvbihhLGIpe3JldHVybiBiP05iKE5iKGEsbS5hamF4U2V0dGluZ3MpLGIpOk5iKG0uYWpheFNldHRpbmdzLGEpfSxhamF4UHJlZmlsdGVyOkxiKEhiKSxhamF4VHJhbnNwb3J0OkxiKEliKSxhamF4OmZ1bmN0aW9uKGEsYil7Im9iamVjdCI9PXR5cGVvZiBhJiYoYj1hLGE9dm9pZCAwKSxiPWJ8fHt9O3ZhciBjLGQsZSxmLGcsaCxpLGosaz1tLmFqYXhTZXR1cCh7fSxiKSxsPWsuY29udGV4dHx8ayxuPWsuY29udGV4dCYmKGwubm9kZVR5cGV8fGwuanF1ZXJ5KT9tKGwpOm0uZXZlbnQsbz1tLkRlZmVycmVkKCkscD1tLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSxxPWsuc3RhdHVzQ29kZXx8e30scj17fSxzPXt9LHQ9MCx1PSJjYW5jZWxlZCIsdj17cmVhZHlTdGF0ZTowLGdldFJlc3BvbnNlSGVhZGVyOmZ1bmN0aW9uKGEpe3ZhciBiO2lmKDI9PT10KXtpZighail7aj17fTt3aGlsZShiPUNiLmV4ZWMoZikpaltiWzFdLnRvTG93ZXJDYXNlKCldPWJbMl19Yj1qW2EudG9Mb3dlckNhc2UoKV19cmV0dXJuIG51bGw9PWI/bnVsbDpifSxnZXRBbGxSZXNwb25zZUhlYWRlcnM6ZnVuY3Rpb24oKXtyZXR1cm4gMj09PXQ/ZjpudWxsfSxzZXRSZXF1ZXN0SGVhZGVyOmZ1bmN0aW9uKGEsYil7dmFyIGM9YS50b0xvd2VyQ2FzZSgpO3JldHVybiB0fHwoYT1zW2NdPXNbY118fGEsclthXT1iKSx0aGlzfSxvdmVycmlkZU1pbWVUeXBlOmZ1bmN0aW9uKGEpe3JldHVybiB0fHwoay5taW1lVHlwZT1hKSx0aGlzfSxzdGF0dXNDb2RlOmZ1bmN0aW9uKGEpe3ZhciBiO2lmKGEpaWYoMj50KWZvcihiIGluIGEpcVtiXT1bcVtiXSxhW2JdXTtlbHNlIHYuYWx3YXlzKGFbdi5zdGF0dXNdKTtyZXR1cm4gdGhpc30sYWJvcnQ6ZnVuY3Rpb24oYSl7dmFyIGI9YXx8dTtyZXR1cm4gaSYmaS5hYm9ydChiKSx4KDAsYiksdGhpc319O2lmKG8ucHJvbWlzZSh2KS5jb21wbGV0ZT1wLmFkZCx2LnN1Y2Nlc3M9di5kb25lLHYuZXJyb3I9di5mYWlsLGsudXJsPSgoYXx8ay51cmx8fHpiKSsiIikucmVwbGFjZShBYiwiIikucmVwbGFjZShGYix5YlsxXSsiLy8iKSxrLnR5cGU9Yi5tZXRob2R8fGIudHlwZXx8ay5tZXRob2R8fGsudHlwZSxrLmRhdGFUeXBlcz1tLnRyaW0oay5kYXRhVHlwZXx8IioiKS50b0xvd2VyQ2FzZSgpLm1hdGNoKEUpfHxbIiJdLG51bGw9PWsuY3Jvc3NEb21haW4mJihjPUdiLmV4ZWMoay51cmwudG9Mb3dlckNhc2UoKSksay5jcm9zc0RvbWFpbj0hKCFjfHxjWzFdPT09eWJbMV0mJmNbMl09PT15YlsyXSYmKGNbM118fCgiaHR0cDoiPT09Y1sxXT8iODAiOiI0NDMiKSk9PT0oeWJbM118fCgiaHR0cDoiPT09eWJbMV0/IjgwIjoiNDQzIikpKSksay5kYXRhJiZrLnByb2Nlc3NEYXRhJiYic3RyaW5nIiE9dHlwZW9mIGsuZGF0YSYmKGsuZGF0YT1tLnBhcmFtKGsuZGF0YSxrLnRyYWRpdGlvbmFsKSksTWIoSGIsayxiLHYpLDI9PT10KXJldHVybiB2O2g9bS5ldmVudCYmay5nbG9iYWwsaCYmMD09PW0uYWN0aXZlKysmJm0uZXZlbnQudHJpZ2dlcigiYWpheFN0YXJ0Iiksay50eXBlPWsudHlwZS50b1VwcGVyQ2FzZSgpLGsuaGFzQ29udGVudD0hRWIudGVzdChrLnR5cGUpLGU9ay51cmwsay5oYXNDb250ZW50fHwoay5kYXRhJiYoZT1rLnVybCs9KHdiLnRlc3QoZSk/IiYiOiI/Iikray5kYXRhLGRlbGV0ZSBrLmRhdGEpLGsuY2FjaGU9PT0hMSYmKGsudXJsPUJiLnRlc3QoZSk/ZS5yZXBsYWNlKEJiLCIkMV89Iit2YisrKTplKyh3Yi50ZXN0KGUpPyImIjoiPyIpKyJfPSIrdmIrKykpLGsuaWZNb2RpZmllZCYmKG0ubGFzdE1vZGlmaWVkW2VdJiZ2LnNldFJlcXVlc3RIZWFkZXIoIklmLU1vZGlmaWVkLVNpbmNlIixtLmxhc3RNb2RpZmllZFtlXSksbS5ldGFnW2VdJiZ2LnNldFJlcXVlc3RIZWFkZXIoIklmLU5vbmUtTWF0Y2giLG0uZXRhZ1tlXSkpLChrLmRhdGEmJmsuaGFzQ29udGVudCYmay5jb250ZW50VHlwZSE9PSExfHxiLmNvbnRlbnRUeXBlKSYmdi5zZXRSZXF1ZXN0SGVhZGVyKCJDb250ZW50LVR5cGUiLGsuY29udGVudFR5cGUpLHYuc2V0UmVxdWVzdEhlYWRlcigiQWNjZXB0IixrLmRhdGFUeXBlc1swXSYmay5hY2NlcHRzW2suZGF0YVR5cGVzWzBdXT9rLmFjY2VwdHNbay5kYXRhVHlwZXNbMF1dKygiKiIhPT1rLmRhdGFUeXBlc1swXT8iLCAiK0piKyI7IHE9MC4wMSI6IiIpOmsuYWNjZXB0c1siKiJdKTtmb3IoZCBpbiBrLmhlYWRlcnMpdi5zZXRSZXF1ZXN0SGVhZGVyKGQsay5oZWFkZXJzW2RdKTtpZihrLmJlZm9yZVNlbmQmJihrLmJlZm9yZVNlbmQuY2FsbChsLHYsayk9PT0hMXx8Mj09PXQpKXJldHVybiB2LmFib3J0KCk7dT0iYWJvcnQiO2ZvcihkIGlue3N1Y2Nlc3M6MSxlcnJvcjoxLGNvbXBsZXRlOjF9KXZbZF0oa1tkXSk7aWYoaT1NYihJYixrLGIsdikpe3YucmVhZHlTdGF0ZT0xLGgmJm4udHJpZ2dlcigiYWpheFNlbmQiLFt2LGtdKSxrLmFzeW5jJiZrLnRpbWVvdXQ+MCYmKGc9c2V0VGltZW91dChmdW5jdGlvbigpe3YuYWJvcnQoInRpbWVvdXQiKX0say50aW1lb3V0KSk7dHJ5e3Q9MSxpLnNlbmQocix4KX1jYXRjaCh3KXtpZighKDI+dCkpdGhyb3cgdzt4KC0xLHcpfX1lbHNlIHgoLTEsIk5vIFRyYW5zcG9ydCIpO2Z1bmN0aW9uIHgoYSxiLGMsZCl7dmFyIGoscixzLHUsdyx4PWI7MiE9PXQmJih0PTIsZyYmY2xlYXJUaW1lb3V0KGcpLGk9dm9pZCAwLGY9ZHx8IiIsdi5yZWFkeVN0YXRlPWE+MD80OjAsaj1hPj0yMDAmJjMwMD5hfHwzMDQ9PT1hLGMmJih1PU9iKGssdixjKSksdT1QYihrLHUsdixqKSxqPyhrLmlmTW9kaWZpZWQmJih3PXYuZ2V0UmVzcG9uc2VIZWFkZXIoIkxhc3QtTW9kaWZpZWQiKSx3JiYobS5sYXN0TW9kaWZpZWRbZV09dyksdz12LmdldFJlc3BvbnNlSGVhZGVyKCJldGFnIiksdyYmKG0uZXRhZ1tlXT13KSksMjA0PT09YXx8IkhFQUQiPT09ay50eXBlP3g9Im5vY29udGVudCI6MzA0PT09YT94PSJub3Rtb2RpZmllZCI6KHg9dS5zdGF0ZSxyPXUuZGF0YSxzPXUuZXJyb3Isaj0hcykpOihzPXgsKGF8fCF4KSYmKHg9ImVycm9yIiwwPmEmJihhPTApKSksdi5zdGF0dXM9YSx2LnN0YXR1c1RleHQ9KGJ8fHgpKyIiLGo/by5yZXNvbHZlV2l0aChsLFtyLHgsdl0pOm8ucmVqZWN0V2l0aChsLFt2LHgsc10pLHYuc3RhdHVzQ29kZShxKSxxPXZvaWQgMCxoJiZuLnRyaWdnZXIoaj8iYWpheFN1Y2Nlc3MiOiJhamF4RXJyb3IiLFt2LGssaj9yOnNdKSxwLmZpcmVXaXRoKGwsW3YseF0pLGgmJihuLnRyaWdnZXIoImFqYXhDb21wbGV0ZSIsW3Ysa10pLC0tbS5hY3RpdmV8fG0uZXZlbnQudHJpZ2dlcigiYWpheFN0b3AiKSkpfXJldHVybiB2fSxnZXRKU09OOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gbS5nZXQoYSxiLGMsImpzb24iKX0sZ2V0U2NyaXB0OmZ1bmN0aW9uKGEsYil7cmV0dXJuIG0uZ2V0KGEsdm9pZCAwLGIsInNjcmlwdCIpfX0pLG0uZWFjaChbImdldCIsInBvc3QiXSxmdW5jdGlvbihhLGIpe21bYl09ZnVuY3Rpb24oYSxjLGQsZSl7cmV0dXJuIG0uaXNGdW5jdGlvbihjKSYmKGU9ZXx8ZCxkPWMsYz12b2lkIDApLG0uYWpheCh7dXJsOmEsdHlwZTpiLGRhdGFUeXBlOmUsZGF0YTpjLHN1Y2Nlc3M6ZH0pfX0pLG0uX2V2YWxVcmw9ZnVuY3Rpb24oYSl7cmV0dXJuIG0uYWpheCh7dXJsOmEsdHlwZToiR0VUIixkYXRhVHlwZToic2NyaXB0Iixhc3luYzohMSxnbG9iYWw6ITEsInRocm93cyI6ITB9KX0sbS5mbi5leHRlbmQoe3dyYXBBbGw6ZnVuY3Rpb24oYSl7aWYobS5pc0Z1bmN0aW9uKGEpKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYil7bSh0aGlzKS53cmFwQWxsKGEuY2FsbCh0aGlzLGIpKX0pO2lmKHRoaXNbMF0pe3ZhciBiPW0oYSx0aGlzWzBdLm93bmVyRG9jdW1lbnQpLmVxKDApLmNsb25lKCEwKTt0aGlzWzBdLnBhcmVudE5vZGUmJmIuaW5zZXJ0QmVmb3JlKHRoaXNbMF0pLGIubWFwKGZ1bmN0aW9uKCl7dmFyIGE9dGhpczt3aGlsZShhLmZpcnN0Q2hpbGQmJjE9PT1hLmZpcnN0Q2hpbGQubm9kZVR5cGUpYT1hLmZpcnN0Q2hpbGQ7cmV0dXJuIGF9KS5hcHBlbmQodGhpcyl9cmV0dXJuIHRoaXN9LHdyYXBJbm5lcjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lYWNoKG0uaXNGdW5jdGlvbihhKT9mdW5jdGlvbihiKXttKHRoaXMpLndyYXBJbm5lcihhLmNhbGwodGhpcyxiKSl9OmZ1bmN0aW9uKCl7dmFyIGI9bSh0aGlzKSxjPWIuY29udGVudHMoKTtjLmxlbmd0aD9jLndyYXBBbGwoYSk6Yi5hcHBlbmQoYSl9KX0sd3JhcDpmdW5jdGlvbihhKXt2YXIgYj1tLmlzRnVuY3Rpb24oYSk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihjKXttKHRoaXMpLndyYXBBbGwoYj9hLmNhbGwodGhpcyxjKTphKX0pfSx1bndyYXA6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXJlbnQoKS5lYWNoKGZ1bmN0aW9uKCl7bS5ub2RlTmFtZSh0aGlzLCJib2R5Iil8fG0odGhpcykucmVwbGFjZVdpdGgodGhpcy5jaGlsZE5vZGVzKX0pLmVuZCgpfX0pLG0uZXhwci5maWx0ZXJzLmhpZGRlbj1mdW5jdGlvbihhKXtyZXR1cm4gYS5vZmZzZXRXaWR0aDw9MCYmYS5vZmZzZXRIZWlnaHQ8PTB8fCFrLnJlbGlhYmxlSGlkZGVuT2Zmc2V0cygpJiYibm9uZSI9PT0oYS5zdHlsZSYmYS5zdHlsZS5kaXNwbGF5fHxtLmNzcyhhLCJkaXNwbGF5IikpfSxtLmV4cHIuZmlsdGVycy52aXNpYmxlPWZ1bmN0aW9uKGEpe3JldHVybiFtLmV4cHIuZmlsdGVycy5oaWRkZW4oYSl9O3ZhciBRYj0vJTIwL2csUmI9L1xbXF0kLyxTYj0vXHI/XG4vZyxUYj0vXig/OnN1Ym1pdHxidXR0b258aW1hZ2V8cmVzZXR8ZmlsZSkkL2ksVWI9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8a2V5Z2VuKS9pO2Z1bmN0aW9uIFZiKGEsYixjLGQpe3ZhciBlO2lmKG0uaXNBcnJheShiKSltLmVhY2goYixmdW5jdGlvbihiLGUpe2N8fFJiLnRlc3QoYSk/ZChhLGUpOlZiKGErIlsiKygib2JqZWN0Ij09dHlwZW9mIGU/YjoiIikrIl0iLGUsYyxkKX0pO2Vsc2UgaWYoY3x8Im9iamVjdCIhPT1tLnR5cGUoYikpZChhLGIpO2Vsc2UgZm9yKGUgaW4gYilWYihhKyJbIitlKyJdIixiW2VdLGMsZCl9bS5wYXJhbT1mdW5jdGlvbihhLGIpe3ZhciBjLGQ9W10sZT1mdW5jdGlvbihhLGIpe2I9bS5pc0Z1bmN0aW9uKGIpP2IoKTpudWxsPT1iPyIiOmIsZFtkLmxlbmd0aF09ZW5jb2RlVVJJQ29tcG9uZW50KGEpKyI9IitlbmNvZGVVUklDb21wb25lbnQoYil9O2lmKHZvaWQgMD09PWImJihiPW0uYWpheFNldHRpbmdzJiZtLmFqYXhTZXR0aW5ncy50cmFkaXRpb25hbCksbS5pc0FycmF5KGEpfHxhLmpxdWVyeSYmIW0uaXNQbGFpbk9iamVjdChhKSltLmVhY2goYSxmdW5jdGlvbigpe2UodGhpcy5uYW1lLHRoaXMudmFsdWUpfSk7ZWxzZSBmb3IoYyBpbiBhKVZiKGMsYVtjXSxiLGUpO3JldHVybiBkLmpvaW4oIiYiKS5yZXBsYWNlKFFiLCIrIil9LG0uZm4uZXh0ZW5kKHtzZXJpYWxpemU6ZnVuY3Rpb24oKXtyZXR1cm4gbS5wYXJhbSh0aGlzLnNlcmlhbGl6ZUFycmF5KCkpfSxzZXJpYWxpemVBcnJheTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbigpe3ZhciBhPW0ucHJvcCh0aGlzLCJlbGVtZW50cyIpO3JldHVybiBhP20ubWFrZUFycmF5KGEpOnRoaXN9KS5maWx0ZXIoZnVuY3Rpb24oKXt2YXIgYT10aGlzLnR5cGU7cmV0dXJuIHRoaXMubmFtZSYmIW0odGhpcykuaXMoIjpkaXNhYmxlZCIpJiZVYi50ZXN0KHRoaXMubm9kZU5hbWUpJiYhVGIudGVzdChhKSYmKHRoaXMuY2hlY2tlZHx8IVcudGVzdChhKSl9KS5tYXAoZnVuY3Rpb24oYSxiKXt2YXIgYz1tKHRoaXMpLnZhbCgpO3JldHVybiBudWxsPT1jP251bGw6bS5pc0FycmF5KGMpP20ubWFwKGMsZnVuY3Rpb24oYSl7cmV0dXJue25hbWU6Yi5uYW1lLHZhbHVlOmEucmVwbGFjZShTYiwiXHJcbiIpfX0pOntuYW1lOmIubmFtZSx2YWx1ZTpjLnJlcGxhY2UoU2IsIlxyXG4iKX19KS5nZXQoKX19KSxtLmFqYXhTZXR0aW5ncy54aHI9dm9pZCAwIT09YS5BY3RpdmVYT2JqZWN0P2Z1bmN0aW9uKCl7cmV0dXJuIXRoaXMuaXNMb2NhbCYmL14oZ2V0fHBvc3R8aGVhZHxwdXR8ZGVsZXRlfG9wdGlvbnMpJC9pLnRlc3QodGhpcy50eXBlKSYmWmIoKXx8JGIoKX06WmI7dmFyIFdiPTAsWGI9e30sWWI9bS5hamF4U2V0dGluZ3MueGhyKCk7YS5hdHRhY2hFdmVudCYmYS5hdHRhY2hFdmVudCgib251bmxvYWQiLGZ1bmN0aW9uKCl7Zm9yKHZhciBhIGluIFhiKVhiW2FdKHZvaWQgMCwhMCl9KSxrLmNvcnM9ISFZYiYmIndpdGhDcmVkZW50aWFscyJpbiBZYixZYj1rLmFqYXg9ISFZYixZYiYmbS5hamF4VHJhbnNwb3J0KGZ1bmN0aW9uKGEpe2lmKCFhLmNyb3NzRG9tYWlufHxrLmNvcnMpe3ZhciBiO3JldHVybntzZW5kOmZ1bmN0aW9uKGMsZCl7dmFyIGUsZj1hLnhocigpLGc9KytXYjtpZihmLm9wZW4oYS50eXBlLGEudXJsLGEuYXN5bmMsYS51c2VybmFtZSxhLnBhc3N3b3JkKSxhLnhockZpZWxkcylmb3IoZSBpbiBhLnhockZpZWxkcylmW2VdPWEueGhyRmllbGRzW2VdO2EubWltZVR5cGUmJmYub3ZlcnJpZGVNaW1lVHlwZSYmZi5vdmVycmlkZU1pbWVUeXBlKGEubWltZVR5cGUpLGEuY3Jvc3NEb21haW58fGNbIlgtUmVxdWVzdGVkLVdpdGgiXXx8KGNbIlgtUmVxdWVzdGVkLVdpdGgiXT0iWE1MSHR0cFJlcXVlc3QiKTtmb3IoZSBpbiBjKXZvaWQgMCE9PWNbZV0mJmYuc2V0UmVxdWVzdEhlYWRlcihlLGNbZV0rIiIpO2Yuc2VuZChhLmhhc0NvbnRlbnQmJmEuZGF0YXx8bnVsbCksYj1mdW5jdGlvbihjLGUpe3ZhciBoLGksajtpZihiJiYoZXx8ND09PWYucmVhZHlTdGF0ZSkpaWYoZGVsZXRlIFhiW2ddLGI9dm9pZCAwLGYub25yZWFkeXN0YXRlY2hhbmdlPW0ubm9vcCxlKTQhPT1mLnJlYWR5U3RhdGUmJmYuYWJvcnQoKTtlbHNle2o9e30saD1mLnN0YXR1cywic3RyaW5nIj09dHlwZW9mIGYucmVzcG9uc2VUZXh0JiYoai50ZXh0PWYucmVzcG9uc2VUZXh0KTt0cnl7aT1mLnN0YXR1c1RleHR9Y2F0Y2goayl7aT0iIn1ofHwhYS5pc0xvY2FsfHxhLmNyb3NzRG9tYWluPzEyMjM9PT1oJiYoaD0yMDQpOmg9ai50ZXh0PzIwMDo0MDR9aiYmZChoLGksaixmLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKX0sYS5hc3luYz80PT09Zi5yZWFkeVN0YXRlP3NldFRpbWVvdXQoYik6Zi5vbnJlYWR5c3RhdGVjaGFuZ2U9WGJbZ109YjpiKCl9LGFib3J0OmZ1bmN0aW9uKCl7YiYmYih2b2lkIDAsITApfX19fSk7ZnVuY3Rpb24gWmIoKXt0cnl7cmV0dXJuIG5ldyBhLlhNTEh0dHBSZXF1ZXN0fWNhdGNoKGIpe319ZnVuY3Rpb24gJGIoKXt0cnl7cmV0dXJuIG5ldyBhLkFjdGl2ZVhPYmplY3QoIk1pY3Jvc29mdC5YTUxIVFRQIil9Y2F0Y2goYil7fX1tLmFqYXhTZXR1cCh7YWNjZXB0czp7c2NyaXB0OiJ0ZXh0L2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2VjbWFzY3JpcHQsIGFwcGxpY2F0aW9uL3gtZWNtYXNjcmlwdCJ9LGNvbnRlbnRzOntzY3JpcHQ6Lyg/OmphdmF8ZWNtYSlzY3JpcHQvfSxjb252ZXJ0ZXJzOnsidGV4dCBzY3JpcHQiOmZ1bmN0aW9uKGEpe3JldHVybiBtLmdsb2JhbEV2YWwoYSksYX19fSksbS5hamF4UHJlZmlsdGVyKCJzY3JpcHQiLGZ1bmN0aW9uKGEpe3ZvaWQgMD09PWEuY2FjaGUmJihhLmNhY2hlPSExKSxhLmNyb3NzRG9tYWluJiYoYS50eXBlPSJHRVQiLGEuZ2xvYmFsPSExKX0pLG0uYWpheFRyYW5zcG9ydCgic2NyaXB0IixmdW5jdGlvbihhKXtpZihhLmNyb3NzRG9tYWluKXt2YXIgYixjPXkuaGVhZHx8bSgiaGVhZCIpWzBdfHx5LmRvY3VtZW50RWxlbWVudDtyZXR1cm57c2VuZDpmdW5jdGlvbihkLGUpe2I9eS5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKSxiLmFzeW5jPSEwLGEuc2NyaXB0Q2hhcnNldCYmKGIuY2hhcnNldD1hLnNjcmlwdENoYXJzZXQpLGIuc3JjPWEudXJsLGIub25sb2FkPWIub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKGEsYyl7KGN8fCFiLnJlYWR5U3RhdGV8fC9sb2FkZWR8Y29tcGxldGUvLnRlc3QoYi5yZWFkeVN0YXRlKSkmJihiLm9ubG9hZD1iLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLGIucGFyZW50Tm9kZSYmYi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpLGI9bnVsbCxjfHxlKDIwMCwic3VjY2VzcyIpKX0sYy5pbnNlcnRCZWZvcmUoYixjLmZpcnN0Q2hpbGQpfSxhYm9ydDpmdW5jdGlvbigpe2ImJmIub25sb2FkKHZvaWQgMCwhMCl9fX19KTt2YXIgX2I9W10sYWM9Lyg9KVw/KD89JnwkKXxcP1w/LzttLmFqYXhTZXR1cCh7anNvbnA6ImNhbGxiYWNrIixqc29ucENhbGxiYWNrOmZ1bmN0aW9uKCl7dmFyIGE9X2IucG9wKCl8fG0uZXhwYW5kbysiXyIrdmIrKztyZXR1cm4gdGhpc1thXT0hMCxhfX0pLG0uYWpheFByZWZpbHRlcigianNvbiBqc29ucCIsZnVuY3Rpb24oYixjLGQpe3ZhciBlLGYsZyxoPWIuanNvbnAhPT0hMSYmKGFjLnRlc3QoYi51cmwpPyJ1cmwiOiJzdHJpbmciPT10eXBlb2YgYi5kYXRhJiYhKGIuY29udGVudFR5cGV8fCIiKS5pbmRleE9mKCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiKSYmYWMudGVzdChiLmRhdGEpJiYiZGF0YSIpO3JldHVybiBofHwianNvbnAiPT09Yi5kYXRhVHlwZXNbMF0/KGU9Yi5qc29ucENhbGxiYWNrPW0uaXNGdW5jdGlvbihiLmpzb25wQ2FsbGJhY2spP2IuanNvbnBDYWxsYmFjaygpOmIuanNvbnBDYWxsYmFjayxoP2JbaF09YltoXS5yZXBsYWNlKGFjLCIkMSIrZSk6Yi5qc29ucCE9PSExJiYoYi51cmwrPSh3Yi50ZXN0KGIudXJsKT8iJiI6Ij8iKStiLmpzb25wKyI9IitlKSxiLmNvbnZlcnRlcnNbInNjcmlwdCBqc29uIl09ZnVuY3Rpb24oKXtyZXR1cm4gZ3x8bS5lcnJvcihlKyIgd2FzIG5vdCBjYWxsZWQiKSxnWzBdfSxiLmRhdGFUeXBlc1swXT0ianNvbiIsZj1hW2VdLGFbZV09ZnVuY3Rpb24oKXtnPWFyZ3VtZW50c30sZC5hbHdheXMoZnVuY3Rpb24oKXthW2VdPWYsYltlXSYmKGIuanNvbnBDYWxsYmFjaz1jLmpzb25wQ2FsbGJhY2ssX2IucHVzaChlKSksZyYmbS5pc0Z1bmN0aW9uKGYpJiZmKGdbMF0pLGc9Zj12b2lkIDB9KSwic2NyaXB0Iik6dm9pZCAwfSksbS5wYXJzZUhUTUw9ZnVuY3Rpb24oYSxiLGMpe2lmKCFhfHwic3RyaW5nIiE9dHlwZW9mIGEpcmV0dXJuIG51bGw7ImJvb2xlYW4iPT10eXBlb2YgYiYmKGM9YixiPSExKSxiPWJ8fHk7dmFyIGQ9dS5leGVjKGEpLGU9IWMmJltdO3JldHVybiBkP1tiLmNyZWF0ZUVsZW1lbnQoZFsxXSldOihkPW0uYnVpbGRGcmFnbWVudChbYV0sYixlKSxlJiZlLmxlbmd0aCYmbShlKS5yZW1vdmUoKSxtLm1lcmdlKFtdLGQuY2hpbGROb2RlcykpfTt2YXIgYmM9bS5mbi5sb2FkO20uZm4ubG9hZD1mdW5jdGlvbihhLGIsYyl7aWYoInN0cmluZyIhPXR5cGVvZiBhJiZiYylyZXR1cm4gYmMuYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciBkLGUsZixnPXRoaXMsaD1hLmluZGV4T2YoIiAiKTtyZXR1cm4gaD49MCYmKGQ9bS50cmltKGEuc2xpY2UoaCxhLmxlbmd0aCkpLGE9YS5zbGljZSgwLGgpKSxtLmlzRnVuY3Rpb24oYik/KGM9YixiPXZvaWQgMCk6YiYmIm9iamVjdCI9PXR5cGVvZiBiJiYoZj0iUE9TVCIpLGcubGVuZ3RoPjAmJm0uYWpheCh7dXJsOmEsdHlwZTpmLGRhdGFUeXBlOiJodG1sIixkYXRhOmJ9KS5kb25lKGZ1bmN0aW9uKGEpe2U9YXJndW1lbnRzLGcuaHRtbChkP20oIjxkaXY+IikuYXBwZW5kKG0ucGFyc2VIVE1MKGEpKS5maW5kKGQpOmEpfSkuY29tcGxldGUoYyYmZnVuY3Rpb24oYSxiKXtnLmVhY2goYyxlfHxbYS5yZXNwb25zZVRleHQsYixhXSl9KSx0aGlzfSxtLmVhY2goWyJhamF4U3RhcnQiLCJhamF4U3RvcCIsImFqYXhDb21wbGV0ZSIsImFqYXhFcnJvciIsImFqYXhTdWNjZXNzIiwiYWpheFNlbmQiXSxmdW5jdGlvbihhLGIpe20uZm5bYl09ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMub24oYixhKX19KSxtLmV4cHIuZmlsdGVycy5hbmltYXRlZD1mdW5jdGlvbihhKXtyZXR1cm4gbS5ncmVwKG0udGltZXJzLGZ1bmN0aW9uKGIpe3JldHVybiBhPT09Yi5lbGVtfSkubGVuZ3RofTt2YXIgY2M9YS5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7ZnVuY3Rpb24gZGMoYSl7cmV0dXJuIG0uaXNXaW5kb3coYSk/YTo5PT09YS5ub2RlVHlwZT9hLmRlZmF1bHRWaWV3fHxhLnBhcmVudFdpbmRvdzohMX1tLm9mZnNldD17c2V0T2Zmc2V0OmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGYsZyxoLGksaixrPW0uY3NzKGEsInBvc2l0aW9uIiksbD1tKGEpLG49e307InN0YXRpYyI9PT1rJiYoYS5zdHlsZS5wb3NpdGlvbj0icmVsYXRpdmUiKSxoPWwub2Zmc2V0KCksZj1tLmNzcyhhLCJ0b3AiKSxpPW0uY3NzKGEsImxlZnQiKSxqPSgiYWJzb2x1dGUiPT09a3x8ImZpeGVkIj09PWspJiZtLmluQXJyYXkoImF1dG8iLFtmLGldKT4tMSxqPyhkPWwucG9zaXRpb24oKSxnPWQudG9wLGU9ZC5sZWZ0KTooZz1wYXJzZUZsb2F0KGYpfHwwLGU9cGFyc2VGbG9hdChpKXx8MCksbS5pc0Z1bmN0aW9uKGIpJiYoYj1iLmNhbGwoYSxjLGgpKSxudWxsIT1iLnRvcCYmKG4udG9wPWIudG9wLWgudG9wK2cpLG51bGwhPWIubGVmdCYmKG4ubGVmdD1iLmxlZnQtaC5sZWZ0K2UpLCJ1c2luZyJpbiBiP2IudXNpbmcuY2FsbChhLG4pOmwuY3NzKG4pfX0sbS5mbi5leHRlbmQoe29mZnNldDpmdW5jdGlvbihhKXtpZihhcmd1bWVudHMubGVuZ3RoKXJldHVybiB2b2lkIDA9PT1hP3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKGIpe20ub2Zmc2V0LnNldE9mZnNldCh0aGlzLGEsYil9KTt2YXIgYixjLGQ9e3RvcDowLGxlZnQ6MH0sZT10aGlzWzBdLGY9ZSYmZS5vd25lckRvY3VtZW50O2lmKGYpcmV0dXJuIGI9Zi5kb2N1bWVudEVsZW1lbnQsbS5jb250YWlucyhiLGUpPyh0eXBlb2YgZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QhPT1LJiYoZD1lLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKSxjPWRjKGYpLHt0b3A6ZC50b3ArKGMucGFnZVlPZmZzZXR8fGIuc2Nyb2xsVG9wKS0oYi5jbGllbnRUb3B8fDApLGxlZnQ6ZC5sZWZ0KyhjLnBhZ2VYT2Zmc2V0fHxiLnNjcm9sbExlZnQpLShiLmNsaWVudExlZnR8fDApfSk6ZH0scG9zaXRpb246ZnVuY3Rpb24oKXtpZih0aGlzWzBdKXt2YXIgYSxiLGM9e3RvcDowLGxlZnQ6MH0sZD10aGlzWzBdO3JldHVybiJmaXhlZCI9PT1tLmNzcyhkLCJwb3NpdGlvbiIpP2I9ZC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTooYT10aGlzLm9mZnNldFBhcmVudCgpLGI9dGhpcy5vZmZzZXQoKSxtLm5vZGVOYW1lKGFbMF0sImh0bWwiKXx8KGM9YS5vZmZzZXQoKSksYy50b3ArPW0uY3NzKGFbMF0sImJvcmRlclRvcFdpZHRoIiwhMCksYy5sZWZ0Kz1tLmNzcyhhWzBdLCJib3JkZXJMZWZ0V2lkdGgiLCEwKSkse3RvcDpiLnRvcC1jLnRvcC1tLmNzcyhkLCJtYXJnaW5Ub3AiLCEwKSxsZWZ0OmIubGVmdC1jLmxlZnQtbS5jc3MoZCwibWFyZ2luTGVmdCIsITApfX19LG9mZnNldFBhcmVudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbigpe3ZhciBhPXRoaXMub2Zmc2V0UGFyZW50fHxjYzt3aGlsZShhJiYhbS5ub2RlTmFtZShhLCJodG1sIikmJiJzdGF0aWMiPT09bS5jc3MoYSwicG9zaXRpb24iKSlhPWEub2Zmc2V0UGFyZW50O3JldHVybiBhfHxjY30pfX0pLG0uZWFjaCh7c2Nyb2xsTGVmdDoicGFnZVhPZmZzZXQiLHNjcm9sbFRvcDoicGFnZVlPZmZzZXQifSxmdW5jdGlvbihhLGIpe3ZhciBjPS9ZLy50ZXN0KGIpO20uZm5bYV09ZnVuY3Rpb24oZCl7cmV0dXJuIFYodGhpcyxmdW5jdGlvbihhLGQsZSl7dmFyIGY9ZGMoYSk7cmV0dXJuIHZvaWQgMD09PWU/Zj9iIGluIGY/ZltiXTpmLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudFtkXTphW2RdOnZvaWQoZj9mLnNjcm9sbFRvKGM/bShmKS5zY3JvbGxMZWZ0KCk6ZSxjP2U6bShmKS5zY3JvbGxUb3AoKSk6YVtkXT1lKX0sYSxkLGFyZ3VtZW50cy5sZW5ndGgsbnVsbCl9fSksbS5lYWNoKFsidG9wIiwibGVmdCJdLGZ1bmN0aW9uKGEsYil7bS5jc3NIb29rc1tiXT1MYShrLnBpeGVsUG9zaXRpb24sZnVuY3Rpb24oYSxjKXtyZXR1cm4gYz8oYz1KYShhLGIpLEhhLnRlc3QoYyk/bShhKS5wb3NpdGlvbigpW2JdKyJweCI6Yyk6dm9pZCAwfSl9KSxtLmVhY2goe0hlaWdodDoiaGVpZ2h0IixXaWR0aDoid2lkdGgifSxmdW5jdGlvbihhLGIpe20uZWFjaCh7cGFkZGluZzoiaW5uZXIiK2EsY29udGVudDpiLCIiOiJvdXRlciIrYX0sZnVuY3Rpb24oYyxkKXttLmZuW2RdPWZ1bmN0aW9uKGQsZSl7dmFyIGY9YXJndW1lbnRzLmxlbmd0aCYmKGN8fCJib29sZWFuIiE9dHlwZW9mIGQpLGc9Y3x8KGQ9PT0hMHx8ZT09PSEwPyJtYXJnaW4iOiJib3JkZXIiKTtyZXR1cm4gVih0aGlzLGZ1bmN0aW9uKGIsYyxkKXt2YXIgZTtyZXR1cm4gbS5pc1dpbmRvdyhiKT9iLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudFsiY2xpZW50IithXTo5PT09Yi5ub2RlVHlwZT8oZT1iLmRvY3VtZW50RWxlbWVudCxNYXRoLm1heChiLmJvZHlbInNjcm9sbCIrYV0sZVsic2Nyb2xsIithXSxiLmJvZHlbIm9mZnNldCIrYV0sZVsib2Zmc2V0IithXSxlWyJjbGllbnQiK2FdKSk6dm9pZCAwPT09ZD9tLmNzcyhiLGMsZyk6bS5zdHlsZShiLGMsZCxnKX0sYixmP2Q6dm9pZCAwLGYsbnVsbCl9fSl9KSxtLmZuLnNpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sZW5ndGh9LG0uZm4uYW5kU2VsZj1tLmZuLmFkZEJhY2ssImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZCYmZGVmaW5lKCJqcXVlcnkiLFtdLGZ1bmN0aW9uKCl7cmV0dXJuIG19KTt2YXIgZWM9YS5qUXVlcnksZmM9YS4kO3JldHVybiBtLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oYil7cmV0dXJuIGEuJD09PW0mJihhLiQ9ZmMpLGImJmEualF1ZXJ5PT09bSYmKGEualF1ZXJ5PWVjKSxtfSx0eXBlb2YgYj09PUsmJihhLmpRdWVyeT1hLiQ9bSksbX0pOwo="></script>
<link href="data:text/css;charset=utf-8,%0A%2Econtainer%2Dfluid%2Ecrosstalk%2Dbscols%20%7B%0Amargin%2Dleft%3A%20%2D30px%3B%0Amargin%2Dright%3A%20%2D30px%3B%0Awhite%2Dspace%3A%20normal%3B%0A%7D%0A%0Abody%20%3E%20%2Econtainer%2Dfluid%2Ecrosstalk%2Dbscols%20%7B%0Amargin%2Dleft%3A%20auto%3B%0Amargin%2Dright%3A%20auto%3B%0A%7D%0A%2Ecrosstalk%2Dinput%2Dcheckboxgroup%20%2Ecrosstalk%2Doptions%2Dgroup%20%2Ecrosstalk%2Doptions%2Dcolumn%20%7B%0Adisplay%3A%20inline%2Dblock%3B%0Apadding%2Dright%3A%2012px%3B%0Avertical%2Dalign%3A%20top%3B%0A%7D%0A%40media%20only%20screen%20and%20%28max%2Dwidth%3A480px%29%20%7B%0A%2Ecrosstalk%2Dinput%2Dcheckboxgroup%20%2Ecrosstalk%2Doptions%2Dgroup%20%2Ecrosstalk%2Doptions%2Dcolumn%20%7B%0Adisplay%3A%20block%3B%0Apadding%2Dright%3A%20inherit%3B%0A%7D%0A%7D%0A" rel="stylesheet" />
<script src="data:application/x-javascript;base64,IWZ1bmN0aW9uIGEoYixjLGQpe2Z1bmN0aW9uIGUoZyxoKXtpZighY1tnXSl7aWYoIWJbZ10pe3ZhciBpPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFoJiZpKXJldHVybiBpKGcsITApO2lmKGYpcmV0dXJuIGYoZywhMCk7dmFyIGo9bmV3IEVycm9yKCJDYW5ub3QgZmluZCBtb2R1bGUgJyIrZysiJyIpO3Rocm93IGouY29kZT0iTU9EVUxFX05PVF9GT1VORCIsan12YXIgaz1jW2ddPXtleHBvcnRzOnt9fTtiW2ddWzBdLmNhbGwoay5leHBvcnRzLGZ1bmN0aW9uKGEpe3ZhciBjPWJbZ11bMV1bYV07cmV0dXJuIGUoYz9jOmEpfSxrLGsuZXhwb3J0cyxhLGIsYyxkKX1yZXR1cm4gY1tnXS5leHBvcnRzfWZvcih2YXIgZj0iZnVuY3Rpb24iPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxnPTA7ZzxkLmxlbmd0aDtnKyspZShkW2ddKTtyZXR1cm4gZX0oezE6W2Z1bmN0aW9uKGEsYixjKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gZChhLGIpe2lmKCEoYSBpbnN0YW5jZW9mIGIpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShjLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxiKXtmb3IodmFyIGM9MDtjPGIubGVuZ3RoO2MrKyl7dmFyIGQ9YltjXTtkLmVudW1lcmFibGU9ZC5lbnVtZXJhYmxlfHwhMSxkLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gZCYmKGQud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLGQua2V5LGQpfX1yZXR1cm4gZnVuY3Rpb24oYixjLGQpe3JldHVybiBjJiZhKGIucHJvdG90eXBlLGMpLGQmJmEoYixkKSxifX0oKSxmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe2QodGhpcyxhKSx0aGlzLl90eXBlcz17fSx0aGlzLl9zZXE9MH1yZXR1cm4gZShhLFt7a2V5OiJvbiIsdmFsdWU6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLl90eXBlc1thXTtjfHwoYz10aGlzLl90eXBlc1thXT17fSk7dmFyIGQ9InN1YiIrdGhpcy5fc2VxKys7cmV0dXJuIGNbZF09YixkfX0se2tleToib2ZmIix2YWx1ZTpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuX3R5cGVzW2FdO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBiKXtmb3IodmFyIGQgaW4gYylpZihjLmhhc093blByb3BlcnR5KGQpJiZjW2RdPT09YilyZXR1cm4gZGVsZXRlIGNbZF0sZDtyZXR1cm4hMX1pZigic3RyaW5nIj09dHlwZW9mIGIpcmV0dXJuISghY3x8IWNbYl0pJiYoZGVsZXRlIGNbYl0sYik7dGhyb3cgbmV3IEVycm9yKCJVbmV4cGVjdGVkIHR5cGUgZm9yIGxpc3RlbmVyIil9fSx7a2V5OiJ0cmlnZ2VyIix2YWx1ZTpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5fdHlwZXNbYV07Zm9yKHZhciBlIGluIGQpZC5oYXNPd25Qcm9wZXJ0eShlKSYmZFtlXS5jYWxsKGMsYil9fV0pLGF9KCk7Yy5kZWZhdWx0PWZ9LHt9XSwyOltmdW5jdGlvbihhLGIsYyl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGQoYSl7aWYoYSYmYS5fX2VzTW9kdWxlKXJldHVybiBhO3ZhciBiPXt9O2lmKG51bGwhPWEpZm9yKHZhciBjIGluIGEpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsYykmJihiW2NdPWFbY10pO3JldHVybiBiLmRlZmF1bHQ9YSxifWZ1bmN0aW9uIGUoYSl7cmV0dXJuIGEmJmEuX19lc01vZHVsZT9hOntkZWZhdWx0OmF9fWZ1bmN0aW9uIGYoYSxiKXtpZighKGEgaW5zdGFuY2VvZiBiKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKX1mdW5jdGlvbiBnKGEpe3ZhciBiPWEudmFyKCJmaWx0ZXJzZXQiKSxjPWIuZ2V0KCk7cmV0dXJuIGN8fChjPW5ldyBtLmRlZmF1bHQsYi5zZXQoYykpLGN9ZnVuY3Rpb24gaCgpe3JldHVybiByKyt9T2JqZWN0LmRlZmluZVByb3BlcnR5KGMsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGMuRmlsdGVySGFuZGxlPXZvaWQgMDt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxiKXtmb3IodmFyIGM9MDtjPGIubGVuZ3RoO2MrKyl7dmFyIGQ9YltjXTtkLmVudW1lcmFibGU9ZC5lbnVtZXJhYmxlfHwhMSxkLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gZCYmKGQud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLGQua2V5LGQpfX1yZXR1cm4gZnVuY3Rpb24oYixjLGQpe3JldHVybiBjJiZhKGIucHJvdG90eXBlLGMpLGQmJmEoYixkKSxifX0oKSxqPWEoIi4vZXZlbnRzIiksaz1lKGopLGw9YSgiLi9maWx0ZXJzZXQiKSxtPWUobCksbj1hKCIuL2dyb3VwIiksbz1lKG4pLHA9YSgiLi91dGlsIikscT1kKHApLHI9MTtjLkZpbHRlckhhbmRsZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYixjKXtmKHRoaXMsYSksdGhpcy5fZXZlbnRSZWxheT1uZXcgay5kZWZhdWx0LHRoaXMuX2VtaXR0ZXI9bmV3IHEuU3Vic2NyaXB0aW9uVHJhY2tlcih0aGlzLl9ldmVudFJlbGF5KSx0aGlzLl9ncm91cD1udWxsLHRoaXMuX2ZpbHRlclNldD1udWxsLHRoaXMuX2ZpbHRlclZhcj1udWxsLHRoaXMuX3Zhck9uQ2hhbmdlU3ViPW51bGwsdGhpcy5fZXh0cmFJbmZvPXEuZXh0ZW5kKHtzZW5kZXI6dGhpc30sYyksdGhpcy5faWQ9ImZpbHRlciIraCgpLHRoaXMuc2V0R3JvdXAoYil9cmV0dXJuIGkoYSxbe2tleToic2V0R3JvdXAiLHZhbHVlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7aWYodGhpcy5fZ3JvdXAhPT1hJiYodGhpcy5fZ3JvdXB8fGEpJiYodGhpcy5fZmlsdGVyVmFyJiYodGhpcy5fZmlsdGVyVmFyLm9mZigiY2hhbmdlIix0aGlzLl92YXJPbkNoYW5nZVN1YiksdGhpcy5jbGVhcigpLHRoaXMuX3Zhck9uQ2hhbmdlU3ViPW51bGwsdGhpcy5fZmlsdGVyVmFyPW51bGwsdGhpcy5fZmlsdGVyU2V0PW51bGwpLHRoaXMuX2dyb3VwPWEsYSkpe2E9KDAsby5kZWZhdWx0KShhKSx0aGlzLl9maWx0ZXJTZXQ9ZyhhKSx0aGlzLl9maWx0ZXJWYXI9KDAsby5kZWZhdWx0KShhKS52YXIoImZpbHRlciIpO3ZhciBjPXRoaXMuX2ZpbHRlclZhci5vbigiY2hhbmdlIixmdW5jdGlvbihhKXtiLl9ldmVudFJlbGF5LnRyaWdnZXIoImNoYW5nZSIsYSxiKX0pO3RoaXMuX3Zhck9uQ2hhbmdlU3ViPWN9fX0se2tleToiX21lcmdlRXh0cmFJbmZvIix2YWx1ZTpmdW5jdGlvbihhKXtyZXR1cm4gcS5leHRlbmQoe30sdGhpcy5fZXh0cmFJbmZvP3RoaXMuX2V4dHJhSW5mbzpudWxsLGE/YTpudWxsKX19LHtrZXk6ImNsb3NlIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX2VtaXR0ZXIucmVtb3ZlQWxsTGlzdGVuZXJzKCksdGhpcy5jbGVhcigpLHRoaXMuc2V0R3JvdXAobnVsbCl9fSx7a2V5OiJjbGVhciIsdmFsdWU6ZnVuY3Rpb24oYSl7dGhpcy5fZmlsdGVyU2V0JiYodGhpcy5fZmlsdGVyU2V0LmNsZWFyKHRoaXMuX2lkKSx0aGlzLl9vbkNoYW5nZShhKSl9fSx7a2V5OiJzZXQiLHZhbHVlOmZ1bmN0aW9uKGEsYil7dGhpcy5fZmlsdGVyU2V0JiYodGhpcy5fZmlsdGVyU2V0LnVwZGF0ZSh0aGlzLl9pZCxhKSx0aGlzLl9vbkNoYW5nZShiKSl9fSx7a2V5OiJvbiIsdmFsdWU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5fZW1pdHRlci5vbihhLGIpfX0se2tleToib2ZmIix2YWx1ZTpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLl9lbWl0dGVyLm9mZihhLGIpfX0se2tleToiX29uQ2hhbmdlIix2YWx1ZTpmdW5jdGlvbihhKXt0aGlzLl9maWx0ZXJTZXQmJnRoaXMuX2ZpbHRlclZhci5zZXQodGhpcy5fZmlsdGVyU2V0LnZhbHVlLHRoaXMuX21lcmdlRXh0cmFJbmZvKGEpKX19LHtrZXk6ImZpbHRlcmVkS2V5cyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZpbHRlclNldD90aGlzLl9maWx0ZXJTZXQudmFsdWU6bnVsbH19XSksYX0oKX0seyIuL2V2ZW50cyI6MSwiLi9maWx0ZXJzZXQiOjMsIi4vZ3JvdXAiOjQsIi4vdXRpbCI6MTF9XSwzOltmdW5jdGlvbihhLGIsYyl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGQoYSxiKXtpZighKGEgaW5zdGFuY2VvZiBiKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKX1mdW5jdGlvbiBlKGEsYil7cmV0dXJuIGE9PT1iPzA6YTxiPy0xOmE+Yj8xOnZvaWQgMH1PYmplY3QuZGVmaW5lUHJvcGVydHkoYywiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIGY9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYil7Zm9yKHZhciBjPTA7YzxiLmxlbmd0aDtjKyspe3ZhciBkPWJbY107ZC5lbnVtZXJhYmxlPWQuZW51bWVyYWJsZXx8ITEsZC5jb25maWd1cmFibGU9ITAsInZhbHVlImluIGQmJihkLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxkLmtleSxkKX19cmV0dXJuIGZ1bmN0aW9uKGIsYyxkKXtyZXR1cm4gYyYmYShiLnByb3RvdHlwZSxjKSxkJiZhKGIsZCksYn19KCksZz1hKCIuL3V0aWwiKSxoPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe2QodGhpcyxhKSx0aGlzLnJlc2V0KCl9cmV0dXJuIGYoYSxbe2tleToicmVzZXQiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5faGFuZGxlcz17fSx0aGlzLl9rZXlzPXt9LHRoaXMuX3ZhbHVlPW51bGwsdGhpcy5fYWN0aXZlSGFuZGxlcz0wfX0se2tleToidXBkYXRlIix2YWx1ZTpmdW5jdGlvbihhLGIpe251bGwhPT1iJiYoYj1iLnNsaWNlKDApLGIuc29ydChlKSk7dmFyIGM9KDAsZy5kaWZmU29ydGVkTGlzdHMpKHRoaXMuX2hhbmRsZXNbYV0sYiksZD1jLmFkZGVkLGY9Yy5yZW1vdmVkO3RoaXMuX2hhbmRsZXNbYV09Yjtmb3IodmFyIGg9MDtoPGQubGVuZ3RoO2grKyl0aGlzLl9rZXlzW2RbaF1dPSh0aGlzLl9rZXlzW2RbaF1dfHwwKSsxO2Zvcih2YXIgaT0wO2k8Zi5sZW5ndGg7aSsrKXRoaXMuX2tleXNbZltpXV0tLTt0aGlzLl91cGRhdGVWYWx1ZShiKX19LHtrZXk6Il91cGRhdGVWYWx1ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgYT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06dGhpcy5fYWxsS2V5cyxiPU9iamVjdC5rZXlzKHRoaXMuX2hhbmRsZXMpLmxlbmd0aDtpZigwPT09Yil0aGlzLl92YWx1ZT1udWxsO2Vsc2V7dGhpcy5fdmFsdWU9W107Zm9yKHZhciBjPTA7YzxhLmxlbmd0aDtjKyspe3ZhciBkPXRoaXMuX2tleXNbYVtjXV07ZD09PWImJnRoaXMuX3ZhbHVlLnB1c2goYVtjXSl9fX19LHtrZXk6ImNsZWFyIix2YWx1ZTpmdW5jdGlvbihhKXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIHRoaXMuX2hhbmRsZXNbYV0pe3ZhciBiPXRoaXMuX2hhbmRsZXNbYV07Ynx8KGI9W10pO2Zvcih2YXIgYz0wO2M8Yi5sZW5ndGg7YysrKXRoaXMuX2tleXNbYltjXV0tLTtkZWxldGUgdGhpcy5faGFuZGxlc1thXSx0aGlzLl91cGRhdGVWYWx1ZSgpfX19LHtrZXk6InZhbHVlIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdmFsdWV9fSx7a2V5OiJfYWxsS2V5cyIsZ2V0OmZ1bmN0aW9uKCl7dmFyIGE9T2JqZWN0LmtleXModGhpcy5fa2V5cyk7cmV0dXJuIGEuc29ydChlKSxhfX1dKSxhfSgpO2MuZGVmYXVsdD1ofSx7Ii4vdXRpbCI6MTF9XSw0OltmdW5jdGlvbihhLGIsYyl7KGZ1bmN0aW9uKGIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBkKGEpe3JldHVybiBhJiZhLl9fZXNNb2R1bGU/YTp7ZGVmYXVsdDphfX1mdW5jdGlvbiBlKGEsYil7aWYoIShhIGluc3RhbmNlb2YgYikpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIil9ZnVuY3Rpb24gZihhKXtpZihhJiYic3RyaW5nIj09dHlwZW9mIGEpcmV0dXJuIGsuaGFzT3duUHJvcGVydHkoYSl8fChrW2FdPW5ldyBsKGEpKSxrW2FdO2lmKCJvYmplY3QiPT09KCJ1bmRlZmluZWQiPT10eXBlb2YgYT8idW5kZWZpbmVkIjpoKGEpKSYmYS5fdmFycyYmYS52YXIpcmV0dXJuIGE7aWYoQXJyYXkuaXNBcnJheShhKSYmMT09YS5sZW5ndGgmJiJzdHJpbmciPT10eXBlb2YgYVswXSlyZXR1cm4gZihhWzBdKTt0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgZ3JvdXBOYW1lIGFyZ3VtZW50Iil9T2JqZWN0LmRlZmluZVByb3BlcnR5KGMsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBnPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGIpe2Zvcih2YXIgYz0wO2M8Yi5sZW5ndGg7YysrKXt2YXIgZD1iW2NdO2QuZW51bWVyYWJsZT1kLmVudW1lcmFibGV8fCExLGQuY29uZmlndXJhYmxlPSEwLCJ2YWx1ZSJpbiBkJiYoZC53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGEsZC5rZXksZCl9fXJldHVybiBmdW5jdGlvbihiLGMsZCl7cmV0dXJuIGMmJmEoYi5wcm90b3R5cGUsYyksZCYmYShiLGQpLGJ9fSgpLGg9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oYSl7cmV0dXJuIHR5cGVvZiBhfTpmdW5jdGlvbihhKXtyZXR1cm4gYSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmYS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmYSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGF9O2MuZGVmYXVsdD1mO3ZhciBpPWEoIi4vdmFyIiksaj1kKGkpO2IuX19jcm9zc3RhbGtfZ3JvdXBzPWIuX19jcm9zc3RhbGtfZ3JvdXBzfHx7fTt2YXIgaz1iLl9fY3Jvc3N0YWxrX2dyb3VwcyxsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShiKXtlKHRoaXMsYSksdGhpcy5uYW1lPWIsdGhpcy5fdmFycz17fX1yZXR1cm4gZyhhLFt7a2V5OiJ2YXIiLHZhbHVlOmZ1bmN0aW9uKGEpe2lmKCFhfHwic3RyaW5nIiE9dHlwZW9mIGEpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIHZhciBuYW1lIik7cmV0dXJuIHRoaXMuX3ZhcnMuaGFzT3duUHJvcGVydHkoYSl8fCh0aGlzLl92YXJzW2FdPW5ldyBqLmRlZmF1bHQodGhpcyxhKSksdGhpcy5fdmFyc1thXX19LHtrZXk6ImhhcyIsdmFsdWU6ZnVuY3Rpb24oYSl7aWYoIWF8fCJzdHJpbmciIT10eXBlb2YgYSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgdmFyIG5hbWUiKTtyZXR1cm4gdGhpcy5fdmFycy5oYXNPd25Qcm9wZXJ0eShhKX19XSksYX0oKX0pLmNhbGwodGhpcywidW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0seyIuL3ZhciI6MTJ9XSw1OltmdW5jdGlvbihhLGIsYyl7KGZ1bmN0aW9uKGIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBkKGEpe3JldHVybiBhJiZhLl9fZXNNb2R1bGU/YTp7ZGVmYXVsdDphfX1mdW5jdGlvbiBlKGEpe3JldHVybiBrLnZhcihhKX1mdW5jdGlvbiBmKGEpe3JldHVybiBrLmhhcyhhKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoYywiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIGc9YSgiLi9ncm91cCIpLGg9ZChnKSxpPWEoIi4vc2VsZWN0aW9uIiksaj1hKCIuL2ZpbHRlciIpO2EoIi4vaW5wdXQiKSxhKCIuL2lucHV0X3NlbGVjdGl6ZSIpLGEoIi4vaW5wdXRfY2hlY2tib3hncm91cCIpLGEoIi4vaW5wdXRfc2xpZGVyIik7dmFyIGs9KDAsaC5kZWZhdWx0KSgiZGVmYXVsdCIpO2IuU2hpbnkmJmIuU2hpbnkuYWRkQ3VzdG9tTWVzc2FnZUhhbmRsZXIoInVwZGF0ZS1jbGllbnQtdmFsdWUiLGZ1bmN0aW9uKGEpeyJzdHJpbmciPT10eXBlb2YgYS5ncm91cD8oMCxoLmRlZmF1bHQpKGEuZ3JvdXApLnZhcihhLm5hbWUpLnNldChhLnZhbHVlKTplKGEubmFtZSkuc2V0KGEudmFsdWUpfSk7dmFyIGw9e2dyb3VwOmguZGVmYXVsdCx2YXI6ZSxoYXM6ZixTZWxlY3Rpb25IYW5kbGU6aS5TZWxlY3Rpb25IYW5kbGUsRmlsdGVySGFuZGxlOmouRmlsdGVySGFuZGxlfTtjLmRlZmF1bHQ9bCxiLmNyb3NzdGFsaz1sfSkuY2FsbCh0aGlzLCJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGY/c2VsZjoidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSx7Ii4vZmlsdGVyIjoyLCIuL2dyb3VwIjo0LCIuL2lucHV0Ijo2LCIuL2lucHV0X2NoZWNrYm94Z3JvdXAiOjcsIi4vaW5wdXRfc2VsZWN0aXplIjo4LCIuL2lucHV0X3NsaWRlciI6OSwiLi9zZWxlY3Rpb24iOjEwfV0sNjpbZnVuY3Rpb24oYSxiLGMpeyhmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihiKXtpW2IuY2xhc3NOYW1lXT1iLGEuZG9jdW1lbnQmJiJjb21wbGV0ZSIhPT1hLmRvY3VtZW50LnJlYWR5U3RhdGU/aChmdW5jdGlvbigpe2QoKX0pOmEuZG9jdW1lbnQmJnNldFRpbWVvdXQoZCwxMDApfWZ1bmN0aW9uIGQoKXtPYmplY3Qua2V5cyhpKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3ZhciBiPWlbYV07aCgiLiIrYi5jbGFzc05hbWUpLm5vdCgiLmNyb3NzdGFsay1pbnB1dC1ib3VuZCIpLmVhY2goZnVuY3Rpb24oYSxjKXtnKGIsYyl9KX0pfWZ1bmN0aW9uIGUoYSl7cmV0dXJuIGEucmVwbGFjZSgvKFshIiMkJSYnKCkqKywuXC86Ozw9Pj9AXFtcXFxdXmB7fH1+XSkvZywiXFwkMSIpfWZ1bmN0aW9uIGYoYSl7dmFyIGI9aChhKTtPYmplY3Qua2V5cyhpKS5mb3JFYWNoKGZ1bmN0aW9uKGMpe2lmKGIuaGFzQ2xhc3MoYykmJiFiLmhhc0NsYXNzKCJjcm9zc3RhbGstaW5wdXQtYm91bmQiKSl7dmFyIGQ9aVtjXTtnKGQsYSl9fSl9ZnVuY3Rpb24gZyhhLGIpe3ZhciBjPWgoYikuZmluZCgic2NyaXB0W3R5cGU9J2FwcGxpY2F0aW9uL2pzb24nXVtkYXRhLWZvcj0nIitlKGIuaWQpKyInXSIpLGQ9SlNPTi5wYXJzZShjWzBdLmlubmVyVGV4dCksZj1hLmZhY3RvcnkoYixkKTtoKGIpLmRhdGEoImNyb3NzdGFsay1pbnN0YW5jZSIsZiksaChiKS5hZGRDbGFzcygiY3Jvc3N0YWxrLWlucHV0LWJvdW5kIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KGMsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGMucmVnaXN0ZXI9Yjt2YXIgaD1hLmpRdWVyeSxpPXt9O2EuU2hpbnkmJiFmdW5jdGlvbigpe3ZhciBiPW5ldyBhLlNoaW55LklucHV0QmluZGluZyxjPWEualF1ZXJ5O2MuZXh0ZW5kKGIse2ZpbmQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGMoYSkuZmluZCgiLmNyb3NzdGFsay1pbnB1dCIpfSxpbml0aWFsaXplOmZ1bmN0aW9uKGEpe2MoYSkuaGFzQ2xhc3MoImNyb3NzdGFsay1pbnB1dC1ib3VuZCIpfHxmKGEpfSxnZXRJZDpmdW5jdGlvbihhKXtyZXR1cm4gYS5pZH0sZ2V0VmFsdWU6ZnVuY3Rpb24oYSl7fSxzZXRWYWx1ZTpmdW5jdGlvbihhLGIpe30scmVjZWl2ZU1lc3NhZ2U6ZnVuY3Rpb24oYSxiKXt9LHN1YnNjcmliZTpmdW5jdGlvbihhLGIpe2MoYSkuZGF0YSgiY3Jvc3N0YWxrLWluc3RhbmNlIikucmVzdW1lKCl9LHVuc3Vic2NyaWJlOmZ1bmN0aW9uKGEpe2MoYSkuZGF0YSgiY3Jvc3N0YWxrLWluc3RhbmNlIikuc3VzcGVuZCgpfX0pLGEuU2hpbnkuaW5wdXRCaW5kaW5ncy5yZWdpc3RlcihiLCJjcm9zc3RhbGsuaW5wdXRCaW5kaW5nIil9KCl9KS5jYWxsKHRoaXMsInVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOiJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSl9LHt9XSw3OltmdW5jdGlvbihhLGIsYyl7KGZ1bmN0aW9uKGIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBjKGEpe2lmKGEmJmEuX19lc01vZHVsZSlyZXR1cm4gYTt2YXIgYj17fTtpZihudWxsIT1hKWZvcih2YXIgYyBpbiBhKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhLGMpJiYoYltjXT1hW2NdKTtyZXR1cm4gYi5kZWZhdWx0PWEsYn12YXIgZD1hKCIuL2lucHV0IiksZT1jKGQpLGY9YSgiLi9maWx0ZXIiKSxnPWIualF1ZXJ5O2UucmVnaXN0ZXIoe2NsYXNzTmFtZToiY3Jvc3N0YWxrLWlucHV0LWNoZWNrYm94Z3JvdXAiLGZhY3Rvcnk6ZnVuY3Rpb24oYSxiKXt2YXIgYz1uZXcgZi5GaWx0ZXJIYW5kbGUoYi5ncm91cCksZD12b2lkIDAsZT1nKGEpO3JldHVybiBlLm9uKCJjaGFuZ2UiLCJpbnB1dFt0eXBlPSdjaGVja2JveCddIixmdW5jdGlvbigpe3ZhciBhPWUuZmluZCgiaW5wdXRbdHlwZT0nY2hlY2tib3gnXTpjaGVja2VkIik7MD09PWEubGVuZ3RoPyhkPW51bGwsYy5jbGVhcigpKTohZnVuY3Rpb24oKXt2YXIgZT17fTthLmVhY2goZnVuY3Rpb24oKXtiLm1hcFt0aGlzLnZhbHVlXS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2VbYV09ITB9KX0pO3ZhciBmPU9iamVjdC5rZXlzKGUpO2Yuc29ydCgpLGQ9ZixjLnNldChmKX0oKX0pLHtzdXNwZW5kOmZ1bmN0aW9uKCl7Yy5jbGVhcigpfSxyZXN1bWU6ZnVuY3Rpb24oKXtkJiZjLnNldChkKX19fX0pfSkuY2FsbCh0aGlzLCJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGY/c2VsZjoidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSx7Ii4vZmlsdGVyIjoyLCIuL2lucHV0Ijo2fV0sODpbZnVuY3Rpb24oYSxiLGMpeyhmdW5jdGlvbihiKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYyhhKXtpZihhJiZhLl9fZXNNb2R1bGUpcmV0dXJuIGE7dmFyIGI9e307aWYobnVsbCE9YSlmb3IodmFyIGMgaW4gYSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYSxjKSYmKGJbY109YVtjXSk7cmV0dXJuIGIuZGVmYXVsdD1hLGJ9dmFyIGQ9YSgiLi9pbnB1dCIpLGU9YyhkKSxmPWEoIi4vdXRpbCIpLGc9YyhmKSxoPWEoIi4vZmlsdGVyIiksaT1iLmpRdWVyeTtlLnJlZ2lzdGVyKHtjbGFzc05hbWU6ImNyb3NzdGFsay1pbnB1dC1zZWxlY3QiLGZhY3Rvcnk6ZnVuY3Rpb24oYSxiKXt2YXIgYz1be3ZhbHVlOiIiLGxhYmVsOiIoQWxsKSJ9XSxkPWcuZGF0YWZyYW1lVG9EMyhiLml0ZW1zKSxlPXtvcHRpb25zOmMuY29uY2F0KGQpLHZhbHVlRmllbGQ6InZhbHVlIixsYWJlbEZpZWxkOiJsYWJlbCIsc2VhcmNoRmllbGQ6ImxhYmVsIn0sZj1pKGEpLmZpbmQoInNlbGVjdCIpWzBdLGo9aShmKS5zZWxlY3RpemUoZSlbMF0uc2VsZWN0aXplLGs9bmV3IGguRmlsdGVySGFuZGxlKGIuZ3JvdXApLGw9dm9pZCAwO3JldHVybiBqLm9uKCJjaGFuZ2UiLGZ1bmN0aW9uKCl7MD09PWouaXRlbXMubGVuZ3RoPyhsPW51bGwsay5jbGVhcigpKTohZnVuY3Rpb24oKXt2YXIgYT17fTtqLml0ZW1zLmZvckVhY2goZnVuY3Rpb24oYyl7Yi5tYXBbY10uZm9yRWFjaChmdW5jdGlvbihiKXthW2JdPSEwfSl9KTt2YXIgYz1PYmplY3Qua2V5cyhhKTtjLnNvcnQoKSxsPWMsay5zZXQoYyl9KCl9KSx7c3VzcGVuZDpmdW5jdGlvbigpe2suY2xlYXIoKX0scmVzdW1lOmZ1bmN0aW9uKCl7bCYmay5zZXQobCl9fX19KX0pLmNhbGwodGhpcywidW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0seyIuL2ZpbHRlciI6MiwiLi9pbnB1dCI6NiwiLi91dGlsIjoxMX1dLDk6W2Z1bmN0aW9uKGEsYixjKXsoZnVuY3Rpb24oYil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGMoYSl7aWYoYSYmYS5fX2VzTW9kdWxlKXJldHVybiBhO3ZhciBiPXt9O2lmKG51bGwhPWEpZm9yKHZhciBjIGluIGEpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsYykmJihiW2NdPWFbY10pO3JldHVybiBiLmRlZmF1bHQ9YSxifWZ1bmN0aW9uIGQoYSxiKXtmb3IodmFyIGM9YS50b1N0cmluZygpO2MubGVuZ3RoPGI7KWM9IjAiK2M7cmV0dXJuIGN9ZnVuY3Rpb24gZShhKXtyZXR1cm4gYSBpbnN0YW5jZW9mIERhdGU/YS5nZXRVVENGdWxsWWVhcigpKyItIitkKGEuZ2V0VVRDTW9udGgoKSsxLDIpKyItIitkKGEuZ2V0VVRDRGF0ZSgpLDIpOm51bGx9dmFyIGY9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYil7dmFyIGM9W10sZD0hMCxlPSExLGY9dm9pZCAwO3RyeXtmb3IodmFyIGcsaD1hW1N5bWJvbC5pdGVyYXRvcl0oKTshKGQ9KGc9aC5uZXh0KCkpLmRvbmUpJiYoYy5wdXNoKGcudmFsdWUpLCFifHxjLmxlbmd0aCE9PWIpO2Q9ITApO31jYXRjaChhKXtlPSEwLGY9YX1maW5hbGx5e3RyeXshZCYmaC5yZXR1cm4mJmgucmV0dXJuKCl9ZmluYWxseXtpZihlKXRocm93IGZ9fXJldHVybiBjfXJldHVybiBmdW5jdGlvbihiLGMpe2lmKEFycmF5LmlzQXJyYXkoYikpcmV0dXJuIGI7aWYoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChiKSlyZXR1cm4gYShiLGMpO3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UiKX19KCksZz1hKCIuL2lucHV0IiksaD1jKGcpLGk9YSgiLi9maWx0ZXIiKSxqPWIualF1ZXJ5LGs9Yi5zdHJmdGltZTtoLnJlZ2lzdGVyKHtjbGFzc05hbWU6ImNyb3NzdGFsay1pbnB1dC1zbGlkZXIiLGZhY3Rvcnk6ZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKCl7dmFyIGE9aC5kYXRhKCJpb25SYW5nZVNsaWRlciIpLnJlc3VsdCxiPXZvaWQgMCxjPWguZGF0YSgiZGF0YS10eXBlIik7cmV0dXJuIGI9ImRhdGUiPT09Yz9mdW5jdGlvbihhKXtyZXR1cm4gZShuZXcgRGF0ZSgrYSkpfToiZGF0ZXRpbWUiPT09Yz9mdW5jdGlvbihhKXtyZXR1cm4rYS8xZTN9OmZ1bmN0aW9uKGEpe3JldHVybithfSwiZG91YmxlIj09PWguZGF0YSgiaW9uUmFuZ2VTbGlkZXIiKS5vcHRpb25zLnR5cGU/W2IoYS5mcm9tKSxiKGEudG8pXTpiKGEuZnJvbSl9dmFyIGQ9bmV3IGkuRmlsdGVySGFuZGxlKGIuZ3JvdXApLGc9e30saD1qKGEpLmZpbmQoImlucHV0IiksbD1oLmRhdGEoImRhdGEtdHlwZSIpLG09aC5kYXRhKCJ0aW1lLWZvcm1hdCIpLG49dm9pZCAwO2lmKCJkYXRlIj09PWwpbj1rLnV0YygpLGcucHJldHRpZnk9ZnVuY3Rpb24oYSl7cmV0dXJuIG4obSxuZXcgRGF0ZShhKSl9O2Vsc2UgaWYoImRhdGV0aW1lIj09PWwpe3ZhciBvPWguZGF0YSgidGltZXpvbmUiKTtuPW8/ay50aW1lem9uZShvKTprLGcucHJldHRpZnk9ZnVuY3Rpb24oYSl7cmV0dXJuIG4obSxuZXcgRGF0ZShhKSl9fWguaW9uUmFuZ2VTbGlkZXIoZyk7dmFyIHA9bnVsbDtyZXR1cm4gaC5vbigiY2hhbmdlLmNyb3NzdGFsa1NsaWRlcklucHV0IixmdW5jdGlvbihhKXtpZighaC5kYXRhKCJ1cGRhdGluZyIpJiYhaC5kYXRhKCJhbmltYXRpbmciKSl7Zm9yKHZhciBlPWMoKSxnPWYoZSwyKSxpPWdbMF0saj1nWzFdLGs9W10sbD0wO2w8Yi52YWx1ZXMubGVuZ3RoO2wrKyl7dmFyIG09Yi52YWx1ZXNbbF07bT49aSYmbTw9aiYmay5wdXNoKGIua2V5c1tsXSl9ay5zb3J0KCksZC5zZXQoaykscD1rfX0pLHtzdXNwZW5kOmZ1bmN0aW9uKCl7ZC5jbGVhcigpfSxyZXN1bWU6ZnVuY3Rpb24oKXtwJiZkLnNldChwKX19fX0pfSkuY2FsbCh0aGlzLCJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGY/c2VsZjoidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSx7Ii4vZmlsdGVyIjoyLCIuL2lucHV0Ijo2fV0sMTA6W2Z1bmN0aW9uKGEsYixjKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gZChhKXtpZihhJiZhLl9fZXNNb2R1bGUpcmV0dXJuIGE7dmFyIGI9e307aWYobnVsbCE9YSlmb3IodmFyIGMgaW4gYSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYSxjKSYmKGJbY109YVtjXSk7cmV0dXJuIGIuZGVmYXVsdD1hLGJ9ZnVuY3Rpb24gZShhKXtyZXR1cm4gYSYmYS5fX2VzTW9kdWxlP2E6e2RlZmF1bHQ6YX19ZnVuY3Rpb24gZihhLGIpe2lmKCEoYSBpbnN0YW5jZW9mIGIpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShjLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxjLlNlbGVjdGlvbkhhbmRsZT12b2lkIDA7dmFyIGc9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYil7Zm9yKHZhciBjPTA7YzxiLmxlbmd0aDtjKyspe3ZhciBkPWJbY107ZC5lbnVtZXJhYmxlPWQuZW51bWVyYWJsZXx8ITEsZC5jb25maWd1cmFibGU9ITAsInZhbHVlImluIGQmJihkLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxkLmtleSxkKX19cmV0dXJuIGZ1bmN0aW9uKGIsYyxkKXtyZXR1cm4gYyYmYShiLnByb3RvdHlwZSxjKSxkJiZhKGIsZCksYn19KCksaD1hKCIuL2V2ZW50cyIpLGk9ZShoKSxqPWEoIi4vZ3JvdXAiKSxrPWUoaiksbD1hKCIuL3V0aWwiKSxtPWQobCk7Yy5TZWxlY3Rpb25IYW5kbGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7dmFyIGI9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOm51bGwsYz1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06bnVsbDtmKHRoaXMsYSksdGhpcy5fZXZlbnRSZWxheT1uZXcgaS5kZWZhdWx0LHRoaXMuX2VtaXR0ZXI9bmV3IG0uU3Vic2NyaXB0aW9uVHJhY2tlcih0aGlzLl9ldmVudFJlbGF5KSx0aGlzLl9ncm91cD1udWxsLHRoaXMuX3Zhcj1udWxsLHRoaXMuX3Zhck9uQ2hhbmdlU3ViPW51bGwsdGhpcy5fZXh0cmFJbmZvPW0uZXh0ZW5kKHtzZW5kZXI6dGhpc30sYyksdGhpcy5zZXRHcm91cChiKX1yZXR1cm4gZyhhLFt7a2V5OiJzZXRHcm91cCIsdmFsdWU6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztpZih0aGlzLl9ncm91cCE9PWEmJih0aGlzLl9ncm91cHx8YSkmJih0aGlzLl92YXImJih0aGlzLl92YXIub2ZmKCJjaGFuZ2UiLHRoaXMuX3Zhck9uQ2hhbmdlU3ViKSx0aGlzLl92YXI9bnVsbCx0aGlzLl92YXJPbkNoYW5nZVN1Yj1udWxsKSx0aGlzLl9ncm91cD1hLGEpKXt0aGlzLl92YXI9KDAsay5kZWZhdWx0KShhKS52YXIoInNlbGVjdGlvbiIpO3ZhciBjPXRoaXMuX3Zhci5vbigiY2hhbmdlIixmdW5jdGlvbihhKXtiLl9ldmVudFJlbGF5LnRyaWdnZXIoImNoYW5nZSIsYSxiKX0pO3RoaXMuX3Zhck9uQ2hhbmdlU3ViPWN9fX0se2tleToiX21lcmdlRXh0cmFJbmZvIix2YWx1ZTpmdW5jdGlvbihhKXtyZXR1cm4gbS5leHRlbmQoe30sdGhpcy5fZXh0cmFJbmZvP3RoaXMuX2V4dHJhSW5mbzpudWxsLGE/YTpudWxsKX19LHtrZXk6InNldCIsdmFsdWU6ZnVuY3Rpb24oYSxiKXt0aGlzLl92YXImJnRoaXMuX3Zhci5zZXQoYSx0aGlzLl9tZXJnZUV4dHJhSW5mbyhiKSl9fSx7a2V5OiJjbGVhciIsdmFsdWU6ZnVuY3Rpb24oYSl7dGhpcy5fdmFyJiZ0aGlzLnNldCh2b2lkIDAsdGhpcy5fbWVyZ2VFeHRyYUluZm8oYSkpfX0se2tleToib24iLHZhbHVlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuX2VtaXR0ZXIub24oYSxiKX19LHtrZXk6Im9mZiIsdmFsdWU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5fZW1pdHRlci5vZmYoYSxiKX19LHtrZXk6ImNsb3NlIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX2VtaXR0ZXIucmVtb3ZlQWxsTGlzdGVuZXJzKCksdGhpcy5zZXRHcm91cChudWxsKX19LHtrZXk6InZhbHVlIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdmFyP3RoaXMuX3Zhci5nZXQoKTpudWxsfX1dKSxhfSgpfSx7Ii4vZXZlbnRzIjoxLCIuL2dyb3VwIjo0LCIuL3V0aWwiOjExfV0sMTE6W2Z1bmN0aW9uKGEsYixjKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gZChhLGIpe2lmKCEoYSBpbnN0YW5jZW9mIGIpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfWZ1bmN0aW9uIGUoYSl7Zm9yKHZhciBiPWFyZ3VtZW50cy5sZW5ndGgsYz1BcnJheShiPjE/Yi0xOjApLGQ9MTtkPGI7ZCsrKWNbZC0xXT1hcmd1bWVudHNbZF07Zm9yKHZhciBlPTA7ZTxjLmxlbmd0aDtlKyspe3ZhciBmPWNbZV07aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBmJiZudWxsIT09Zilmb3IodmFyIGcgaW4gZilmLmhhc093blByb3BlcnR5KGcpJiYoYVtnXT1mW2ddKX1yZXR1cm4gYX1mdW5jdGlvbiBmKGEpe2Zvcih2YXIgYj0xO2I8YS5sZW5ndGg7YisrKWlmKGFbYl08PWFbYi0xXSl0aHJvdyBuZXcgRXJyb3IoIkxpc3QgaXMgbm90IHNvcnRlZCBvciBjb250YWlucyBkdXBsaWNhdGUiKX1mdW5jdGlvbiBnKGEsYil7dmFyIGM9MCxkPTA7YXx8KGE9W10pLGJ8fChiPVtdKTt2YXIgZT1bXSxnPVtdO2ZvcihmKGEpLGYoYik7YzxhLmxlbmd0aCYmZDxiLmxlbmd0aDspYVtjXT09PWJbZF0/KGMrKyxkKyspOmFbY108YltkXT9lLnB1c2goYVtjKytdKTpnLnB1c2goYltkKytdKTtyZXR1cm4gYzxhLmxlbmd0aCYmKGU9ZS5jb25jYXQoYS5zbGljZShjKSkpLGQ8Yi5sZW5ndGgmJihnPWcuY29uY2F0KGIuc2xpY2UoZCkpKSx7cmVtb3ZlZDplLGFkZGVkOmd9fWZ1bmN0aW9uIGgoYSl7dmFyIGI9W10sYz12b2lkIDA7Zm9yKHZhciBkIGluIGEpe2lmKGEuaGFzT3duUHJvcGVydHkoZCkmJmIucHVzaChkKSwib2JqZWN0IiE9PWooYVtkXSl8fCJ1bmRlZmluZWQiPT10eXBlb2YgYVtkXS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJBbGwgZmllbGRzIG11c3QgYmUgYXJyYXlzIik7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBjJiZjIT09YVtkXS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJBbGwgZmllbGRzIG11c3QgYmUgYXJyYXlzIG9mIHRoZSBzYW1lIGxlbmd0aCIpO2M9YVtkXS5sZW5ndGh9Zm9yKHZhciBlPVtdLGY9dm9pZCAwLGc9MDtnPGM7ZysrKXtmPXt9O2Zvcih2YXIgaD0wO2g8Yi5sZW5ndGg7aCsrKWZbYltoXV09YVtiW2hdXVtnXTtlLnB1c2goZil9cmV0dXJuIGV9T2JqZWN0LmRlZmluZVByb3BlcnR5KGMsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGIpe2Zvcih2YXIgYz0wO2M8Yi5sZW5ndGg7YysrKXt2YXIgZD1iW2NdO2QuZW51bWVyYWJsZT1kLmVudW1lcmFibGV8fCExLGQuY29uZmlndXJhYmxlPSEwLCJ2YWx1ZSJpbiBkJiYoZC53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGEsZC5rZXksZCl9fXJldHVybiBmdW5jdGlvbihiLGMsZCl7cmV0dXJuIGMmJmEoYi5wcm90b3R5cGUsYyksZCYmYShiLGQpLGJ9fSgpLGo9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oYSl7cmV0dXJuIHR5cGVvZiBhfTpmdW5jdGlvbihhKXtyZXR1cm4gYSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmYS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmYSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGF9O2MuZXh0ZW5kPWUsYy5jaGVja1NvcnRlZD1mLGMuZGlmZlNvcnRlZExpc3RzPWcsYy5kYXRhZnJhbWVUb0QzPWg7Yy5TdWJzY3JpcHRpb25UcmFja2VyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShiKXtkKHRoaXMsYSksdGhpcy5fZW1pdHRlcj1iLHRoaXMuX3N1YnM9e319cmV0dXJuIGkoYSxbe2tleToib24iLHZhbHVlOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5fZW1pdHRlci5vbihhLGIpO3JldHVybiB0aGlzLl9zdWJzW2NdPWEsY319LHtrZXk6Im9mZiIsdmFsdWU6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLl9lbWl0dGVyLm9mZihhLGIpO3JldHVybiBjJiZkZWxldGUgdGhpcy5fc3Vic1tjXSxjfX0se2tleToicmVtb3ZlQWxsTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYj10aGlzLl9zdWJzO3RoaXMuX3N1YnM9e30sT2JqZWN0LmtleXMoYikuZm9yRWFjaChmdW5jdGlvbihjKXthLl9lbWl0dGVyLm9mZihiW2NdLGMpfSl9fV0pLGF9KCl9LHt9XSwxMjpbZnVuY3Rpb24oYSxiLGMpeyhmdW5jdGlvbihiKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gZChhKXtyZXR1cm4gYSYmYS5fX2VzTW9kdWxlP2E6e2RlZmF1bHQ6YX19ZnVuY3Rpb24gZShhLGIpe2lmKCEoYSBpbnN0YW5jZW9mIGIpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShjLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgZj0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihhKXtyZXR1cm4gdHlwZW9mIGF9OmZ1bmN0aW9uKGEpe3JldHVybiBhJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZhLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZhIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgYX0sZz1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxiKXtmb3IodmFyIGM9MDtjPGIubGVuZ3RoO2MrKyl7dmFyIGQ9YltjXTtkLmVudW1lcmFibGU9ZC5lbnVtZXJhYmxlfHwhMSxkLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gZCYmKGQud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLGQua2V5LGQpfX1yZXR1cm4gZnVuY3Rpb24oYixjLGQpe3JldHVybiBjJiZhKGIucHJvdG90eXBlLGMpLGQmJmEoYixkKSxifX0oKSxoPWEoIi4vZXZlbnRzIiksaT1kKGgpLGo9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGIsYyxkKXtlKHRoaXMsYSksdGhpcy5fZ3JvdXA9Yix0aGlzLl9uYW1lPWMsdGhpcy5fdmFsdWU9ZCx0aGlzLl9ldmVudHM9bmV3IGkuZGVmYXVsdH1yZXR1cm4gZyhhLFt7a2V5OiJnZXQiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZhbHVlfX0se2tleToic2V0Iix2YWx1ZTpmdW5jdGlvbihhLGMpe2lmKHRoaXMuX3ZhbHVlIT09YSl7dmFyIGQ9dGhpcy5fdmFsdWU7dGhpcy5fdmFsdWU9YTt2YXIgZT17fTtpZihjJiYib2JqZWN0Ij09PSgidW5kZWZpbmVkIj09dHlwZW9mIGM/InVuZGVmaW5lZCI6ZihjKSkpZm9yKHZhciBnIGluIGMpYy5oYXNPd25Qcm9wZXJ0eShnKSYmKGVbZ109Y1tnXSk7ZS5vbGRWYWx1ZT1kLGUudmFsdWU9YSx0aGlzLl9ldmVudHMudHJpZ2dlcigiY2hhbmdlIixlLHRoaXMpLGIuU2hpbnkmJmIuU2hpbnkub25JbnB1dENoYW5nZSYmYi5TaGlueS5vbklucHV0Q2hhbmdlKCIuY2xpZW50VmFsdWUtIisobnVsbCE9PXRoaXMuX2dyb3VwLm5hbWU/dGhpcy5fZ3JvdXAubmFtZSsiLSI6IiIpK3RoaXMuX25hbWUsInVuZGVmaW5lZCI9PXR5cGVvZiBhP251bGw6YSl9fX0se2tleToib24iLHZhbHVlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuX2V2ZW50cy5vbihhLGIpfX0se2tleToib2ZmIix2YWx1ZTpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLl9ldmVudHMub2ZmKGEsYil9fV0pLGF9KCk7Yy5kZWZhdWx0PWp9KS5jYWxsKHRoaXMsInVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOiJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSl9LHsiLi9ldmVudHMiOjF9XX0se30sWzVdKTsKLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y3Jvc3N0YWxrLm1pbi5qcy5tYXA="></script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>



<link href="data:text/css;charset=utf-8,body%20%7B%0Abackground%2Dcolor%3A%20%23fff%3B%0Amargin%3A%201em%20auto%3B%0Amax%2Dwidth%3A%20700px%3B%0Aoverflow%3A%20visible%3B%0Apadding%2Dleft%3A%202em%3B%0Apadding%2Dright%3A%202em%3B%0Afont%2Dfamily%3A%20%22Open%20Sans%22%2C%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2014px%3B%0Aline%2Dheight%3A%201%2E35%3B%0A%7D%0A%23header%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0A%23TOC%20%7B%0Aclear%3A%20both%3B%0Amargin%3A%200%200%2010px%2010px%3B%0Apadding%3A%204px%3B%0Awidth%3A%20400px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Aborder%2Dradius%3A%205px%3B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Afont%2Dsize%3A%2013px%3B%0Aline%2Dheight%3A%201%2E3%3B%0A%7D%0A%23TOC%20%2Etoctitle%20%7B%0Afont%2Dweight%3A%20bold%3B%0Afont%2Dsize%3A%2015px%3B%0Amargin%2Dleft%3A%205px%3B%0A%7D%0A%23TOC%20ul%20%7B%0Apadding%2Dleft%3A%2040px%3B%0Amargin%2Dleft%3A%20%2D1%2E5em%3B%0Amargin%2Dtop%3A%205px%3B%0Amargin%2Dbottom%3A%205px%3B%0A%7D%0A%23TOC%20ul%20ul%20%7B%0Amargin%2Dleft%3A%20%2D2em%3B%0A%7D%0A%23TOC%20li%20%7B%0Aline%2Dheight%3A%2016px%3B%0A%7D%0Atable%20%7B%0Amargin%3A%201em%20auto%3B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dcolor%3A%20%23DDDDDD%3B%0Aborder%2Dstyle%3A%20outset%3B%0Aborder%2Dcollapse%3A%20collapse%3B%0A%7D%0Atable%20th%20%7B%0Aborder%2Dwidth%3A%202px%3B%0Apadding%3A%205px%3B%0Aborder%2Dstyle%3A%20inset%3B%0A%7D%0Atable%20td%20%7B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dstyle%3A%20inset%3B%0Aline%2Dheight%3A%2018px%3B%0Apadding%3A%205px%205px%3B%0A%7D%0Atable%2C%20table%20th%2C%20table%20td%20%7B%0Aborder%2Dleft%2Dstyle%3A%20none%3B%0Aborder%2Dright%2Dstyle%3A%20none%3B%0A%7D%0Atable%20thead%2C%20table%20tr%2Eeven%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Ap%20%7B%0Amargin%3A%200%2E5em%200%3B%0A%7D%0Ablockquote%20%7B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Apadding%3A%200%2E25em%200%2E75em%3B%0A%7D%0Ahr%20%7B%0Aborder%2Dstyle%3A%20solid%3B%0Aborder%3A%20none%3B%0Aborder%2Dtop%3A%201px%20solid%20%23777%3B%0Amargin%3A%2028px%200%3B%0A%7D%0Adl%20%7B%0Amargin%2Dleft%3A%200%3B%0A%7D%0Adl%20dd%20%7B%0Amargin%2Dbottom%3A%2013px%3B%0Amargin%2Dleft%3A%2013px%3B%0A%7D%0Adl%20dt%20%7B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Aul%20%7B%0Amargin%2Dtop%3A%200%3B%0A%7D%0Aul%20li%20%7B%0Alist%2Dstyle%3A%20circle%20outside%3B%0A%7D%0Aul%20ul%20%7B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Apre%2C%20code%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0Aborder%2Dradius%3A%203px%3B%0Acolor%3A%20%23333%3B%0Awhite%2Dspace%3A%20pre%2Dwrap%3B%20%0A%7D%0Apre%20%7B%0Aborder%2Dradius%3A%203px%3B%0Amargin%3A%205px%200px%2010px%200px%3B%0Apadding%3A%2010px%3B%0A%7D%0Apre%3Anot%28%5Bclass%5D%29%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Acode%20%7B%0Afont%2Dfamily%3A%20Consolas%2C%20Monaco%2C%20%27Courier%20New%27%2C%20monospace%3B%0Afont%2Dsize%3A%2085%25%3B%0A%7D%0Ap%20%3E%20code%2C%20li%20%3E%20code%20%7B%0Apadding%3A%202px%200px%3B%0A%7D%0Adiv%2Efigure%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0Abackground%2Dcolor%3A%20%23FFFFFF%3B%0Apadding%3A%202px%3B%0Aborder%3A%201px%20solid%20%23DDDDDD%3B%0Aborder%2Dradius%3A%203px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Amargin%3A%200%205px%3B%0A%7D%0Ah1%20%7B%0Amargin%2Dtop%3A%200%3B%0Afont%2Dsize%3A%2035px%3B%0Aline%2Dheight%3A%2040px%3B%0A%7D%0Ah2%20%7B%0Aborder%2Dbottom%3A%204px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Apadding%2Dbottom%3A%202px%3B%0Afont%2Dsize%3A%20145%25%3B%0A%7D%0Ah3%20%7B%0Aborder%2Dbottom%3A%202px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Afont%2Dsize%3A%20120%25%3B%0A%7D%0Ah4%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23f7f7f7%3B%0Amargin%2Dleft%3A%208px%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Ah5%2C%20h6%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23ccc%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Aa%20%7B%0Acolor%3A%20%230033dd%3B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0Aa%3Ahover%20%7B%0Acolor%3A%20%236666ff%3B%20%7D%0Aa%3Avisited%20%7B%0Acolor%3A%20%23800080%3B%20%7D%0Aa%3Avisited%3Ahover%20%7B%0Acolor%3A%20%23BB00BB%3B%20%7D%0Aa%5Bhref%5E%3D%22http%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0Aa%5Bhref%5E%3D%22https%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0A%0Acode%20%3E%20span%2Ekw%20%7B%20color%3A%20%23555%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Edt%20%7B%20color%3A%20%23902000%3B%20%7D%20%0Acode%20%3E%20span%2Edv%20%7B%20color%3A%20%2340a070%3B%20%7D%20%0Acode%20%3E%20span%2Ebn%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Efl%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Ech%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Est%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Eco%20%7B%20color%3A%20%23888888%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%0Acode%20%3E%20span%2Eot%20%7B%20color%3A%20%23007020%3B%20%7D%20%0Acode%20%3E%20span%2Eal%20%7B%20color%3A%20%23ff0000%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Efu%20%7B%20color%3A%20%23900%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%20code%20%3E%20span%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%20%0A" rel="stylesheet" type="text/css" />

</head>

<body>




<h1 class="title toc-ignore">Plugins</h1>
<h4 class="author"><em>John Coene</em></h4>
<h4 class="date"><em>2018-08-25</em></h4>



<p><a href="http://sigmajs.org/">sigma.js</a> comes with countless <a href="https://github.com/jacomyal/sigma.js/tree/master/plugins">plugins</a>; the vast majority is available in the package.</p>
<div id="plugins-integrated" class="section level2">
<h2>Plugins integrated</h2>
<ul>
<li>Animate</li>
<li>foceAtlas2</li>
<li>Gexf</li>
<li>Drag nodes</li>
<li>Relative size</li>
<li>Custom edge shapes</li>
<li>Custom node shapes</li>
<li>Edge labels</li>
<li>Edge dots</li>
</ul>
</div>
<div id="example" class="section level2">
<h2>Example</h2>
<ul>
<li>foceAtlas2</li>
<li>No overlap</li>
<li>Custom edge shapes</li>
<li>Relative size</li>
<li>Drag nodes</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">nodes &lt;-<span class="st"> </span><span class="kw">sg_make_nodes</span>(<span class="dv">100</span>)
edges &lt;-<span class="st"> </span><span class="kw">sg_make_edges</span>(nodes, <span class="dv">75</span>)

<span class="co"># add type</span>
TYPES &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;dashed&quot;</span>, <span class="st">&quot;dotted&quot;</span>, <span class="st">&quot;tapered&quot;</span>, <span class="st">&quot;parallel&quot;</span>, <span class="st">&quot;curve&quot;</span>)
edges<span class="op">$</span>type &lt;-<span class="st"> </span><span class="kw">sample</span>(TYPES, <span class="kw">nrow</span>(edges), <span class="dt">replace =</span> <span class="ot">TRUE</span>)

<span class="kw">sigmajs</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">sg_nodes</span>(nodes, id, color) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">sg_edges</span>(edges, id, source, target, type) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">sg_force</span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="co"># start forceAtlas2</span>
<span class="st">  </span><span class="kw">sg_relative_size</span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="co"># size node relative to one another</span>
<span class="st">  </span><span class="kw">sg_drag_nodes</span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="co"># enable drag nodes</span>
<span class="st">  </span><span class="kw">sg_force_stop</span>(<span class="dv">10000</span>) <span class="co"># stop layout algo after 10 seconds</span></code></pre></div>
<div id="htmlwidget-275bee38e277a1ba5901" class="sigmajs html-widget" style="width:100%;height:288px;">
<button type="button" style="display:block;"></button>
</div>
<script type="application/json" data-for="htmlwidget-275bee38e277a1ba5901">{"x":{"kill":false,"data":{"nodes":[{"id":"1","color":"#B1E2A3","x":"10.133682","y":" 2.754865"},{"id":"2","color":"#AFE1A3","x":" 8.883733","y":" 3.275013"},{"id":"3","color":"#AEE0A3","x":"17.645315","y":" 8.283999"},{"id":"4","color":"#ADE0A3","x":" 7.080492","y":" 9.430775"},{"id":"5","color":"#ACDFA3","x":" 2.513085","y":"17.389489"},{"id":"6","color":"#ABDEA3","x":"13.572420","y":" 2.703049"},{"id":"7","color":"#AADEA3","x":" 3.645200","y":"11.281673"},{"id":"8","color":"#A9DDA3","x":" 5.234039","y":"19.065382"},{"id":"9","color":"#A8DDA3","x":"13.474276","y":"11.615733"},{"id":"10","color":"#A7DCA3","x":"13.747606","y":"11.294602"},{"id":"11","color":"#A6DBA3","x":" 3.729216","y":"12.979744"},{"id":"12","color":"#A5DBA3","x":" 4.466577","y":" 4.766679"},{"id":"13","color":"#A4DAA3","x":" 7.201100","y":" 1.047857"},{"id":"14","color":"#A3DAA4","x":"12.893857","y":" 7.947986"},{"id":"15","color":"#A2D9A4","x":" 9.826213","y":"19.024770"},{"id":"16","color":"#A1D8A4","x":"15.354447","y":"14.435300"},{"id":"17","color":"#A0D8A4","x":" 3.435881","y":"14.835413"},{"id":"18","color":"#9FD7A4","x":"15.962276","y":"13.225133"},{"id":"19","color":"#9ED7A4","x":" 5.333575","y":" 4.065861"},{"id":"20","color":"#9DD6A4","x":" 3.442500","y":" 3.650335"},{"id":"21","color":"#9CD5A4","x":" 1.812316","y":" 1.475970"},{"id":"22","color":"#9BD5A4","x":"11.260066","y":" 3.435228"},{"id":"23","color":"#9AD4A4","x":"17.189136","y":"13.488169"},{"id":"24","color":"#99D4A4","x":" 2.690524","y":"19.210856"},{"id":"25","color":"#98D3A4","x":"10.885807","y":" 3.917096"},{"id":"26","color":"#96D2A4","x":" 6.353953","y":" 8.368286"},{"id":"27","color":"#92CFA3","x":" 2.386781","y":" 4.763219"},{"id":"28","color":"#8ECCA1","x":" 2.740033","y":" 3.776200"},{"id":"29","color":"#8AC9A0","x":" 4.826263","y":"19.460637"},{"id":"30","color":"#86C69F","x":" 5.833237","y":"10.308886"},{"id":"31","color":"#82C39D","x":" 7.199689","y":" 7.413045"},{"id":"32","color":"#7EC09C","x":"13.873762","y":"19.758919"},{"id":"33","color":"#7ABD9B","x":"11.786989","y":" 5.494105"},{"id":"34","color":"#75BA99","x":" 4.825996","y":" 2.880810"},{"id":"35","color":"#71B798","x":"11.835565","y":"15.748678"},{"id":"36","color":"#6DB496","x":"11.884927","y":"19.170175"},{"id":"37","color":"#69B195","x":" 6.941442","y":" 2.186824"},{"id":"38","color":"#65AE94","x":" 2.207505","y":" 3.781564"},{"id":"39","color":"#61AB92","x":" 2.049947","y":"13.248771"},{"id":"40","color":"#5DA891","x":" 6.748243","y":" 9.362491"},{"id":"41","color":"#59A590","x":" 4.506745","y":" 1.955198"},{"id":"42","color":"#55A28E","x":" 7.657550","y":" 4.829276"},{"id":"43","color":"#509F8D","x":" 2.624566","y":" 2.029399"},{"id":"44","color":"#4C9C8B","x":"10.145449","y":" 3.319751"},{"id":"45","color":"#48998A","x":" 7.511892","y":" 6.748185"},{"id":"46","color":"#449689","x":" 3.800791","y":"13.786938"},{"id":"47","color":"#409387","x":" 6.687563","y":"17.898694"},{"id":"48","color":"#3C9086","x":"13.204933","y":" 9.646930"},{"id":"49","color":"#388D85","x":"11.041645","y":"14.013032"},{"id":"50","color":"#348A83","x":" 9.273341","y":"12.649356"},{"id":"51","color":"#318882","x":" 3.000410","y":" 6.513074"},{"id":"52","color":"#308681","x":"13.407465","y":"12.650904"},{"id":"53","color":"#2F8481","x":" 5.052553","y":"16.371983"},{"id":"54","color":"#2E8280","x":"19.741708","y":"10.456986"},{"id":"55","color":"#2D807F","x":"18.012309","y":" 5.764430"},{"id":"56","color":"#2D7E7E","x":"16.543462","y":"19.354947"},{"id":"57","color":"#2C7D7E","x":" 2.029572","y":"10.431391"},{"id":"58","color":"#2B7B7D","x":" 5.530360","y":"16.897263"},{"id":"59","color":"#2A797C","x":"17.299497","y":" 7.048565"},{"id":"60","color":"#29777B","x":"12.287085","y":" 8.920350"},{"id":"61","color":"#28757A","x":"11.794270","y":"13.510396"},{"id":"62","color":"#27747A","x":" 1.845747","y":"12.928314"},{"id":"63","color":"#267279","x":"13.552869","y":"12.382390"},{"id":"64","color":"#257078","x":"15.686444","y":" 3.029493"},{"id":"65","color":"#256E77","x":"17.545119","y":"13.139955"},{"id":"66","color":"#246C77","x":" 8.467196","y":" 5.365482"},{"id":"67","color":"#236A76","x":" 4.854746","y":"11.683589"},{"id":"68","color":"#226975","x":"11.436548","y":" 8.964359"},{"id":"69","color":"#216774","x":" 6.674775","y":" 3.920390"},{"id":"70","color":"#206574","x":"14.595749","y":" 5.667992"},{"id":"71","color":"#1F6373","x":"18.560621","y":"15.790861"},{"id":"72","color":"#1E6172","x":" 7.175468","y":"13.142138"},{"id":"73","color":"#1D6071","x":" 2.528670","y":"12.454679"},{"id":"74","color":"#1D5E70","x":"14.551953","y":" 8.464582"},{"id":"75","color":"#1C5C70","x":" 8.262042","y":" 6.772860"},{"id":"76","color":"#1C5F6F","x":"11.845461","y":"13.691149"},{"id":"77","color":"#1C636F","x":" 4.788789","y":" 6.001083"},{"id":"78","color":"#1C686F","x":" 6.469793","y":" 5.894324"},{"id":"79","color":"#1D6C6F","x":"13.376001","y":" 1.009815"},{"id":"80","color":"#1D706F","x":" 3.109677","y":" 8.458139"},{"id":"81","color":"#1D756E","x":"16.842309","y":" 3.886642"},{"id":"82","color":"#1E796E","x":"12.422979","y":"13.231088"},{"id":"83","color":"#1E7E6E","x":"18.707741","y":" 3.275056"},{"id":"84","color":"#1E826E","x":"10.519890","y":" 2.926840"},{"id":"85","color":"#1F866E","x":"15.420711","y":"18.082810"},{"id":"86","color":"#1F8B6D","x":"18.520122","y":"13.570190"},{"id":"87","color":"#1F8F6D","x":" 5.375420","y":" 7.381024"},{"id":"88","color":"#20946D","x":"17.345869","y":"11.660363"},{"id":"89","color":"#20986D","x":"13.457554","y":" 4.121154"},{"id":"90","color":"#209C6D","x":" 5.111664","y":"14.746092"},{"id":"91","color":"#21A16C","x":" 7.340674","y":"16.769241"},{"id":"92","color":"#21A56C","x":" 5.912803","y":" 3.873705"},{"id":"93","color":"#21AA6C","x":"19.563979","y":"10.546583"},{"id":"94","color":"#22AE6C","x":"13.272200","y":" 5.376046"},{"id":"95","color":"#22B26C","x":"10.838994","y":"13.464387"},{"id":"96","color":"#22B76B","x":" 9.023033","y":"13.044250"},{"id":"97","color":"#23BB6B","x":" 9.745379","y":"10.854288"},{"id":"98","color":"#23C06B","x":" 9.323644","y":"12.698961"},{"id":"99","color":"#23C46B","x":"15.539315","y":"16.904165"},{"id":"100","color":"#24C96B","x":" 8.205093","y":"16.312228"}],"edges":[{"id":"1","source":"56","target":"76","type":"tapered"},{"id":"2","source":"88","target":"23","type":"curve"},{"id":"3","source":"13","target":"30","type":"parallel"},{"id":"4","source":"98","target":"79","type":"parallel"},{"id":"5","source":"36","target":"47","type":"curve"},{"id":"6","source":"27","target":"21","type":"dashed"},{"id":"7","source":"56","target":"84","type":"dotted"},{"id":"8","source":"78","target":"15","type":"tapered"},{"id":"9","source":"27","target":"61","type":"curve"},{"id":"10","source":"94","target":"67","type":"dotted"},{"id":"11","source":"82","target":"94","type":"dashed"},{"id":"12","source":"92","target":"15","type":"dotted"},{"id":"13","source":"30","target":"46","type":"dotted"},{"id":"14","source":"12","target":"3","type":"parallel"},{"id":"15","source":"48","target":"47","type":"dotted"},{"id":"16","source":"20","target":"20","type":"dotted"},{"id":"17","source":"11","target":"59","type":"dotted"},{"id":"18","source":"24","target":"40","type":"tapered"},{"id":"19","source":"5","target":"89","type":"dotted"},{"id":"20","source":"80","target":"16","type":"tapered"},{"id":"21","source":"45","target":"53","type":"parallel"},{"id":"22","source":"22","target":"65","type":"tapered"},{"id":"23","source":"93","target":"56","type":"dotted"},{"id":"24","source":"92","target":"73","type":"curve"},{"id":"25","source":"70","target":"80","type":"tapered"},{"id":"26","source":"31","target":"89","type":"curve"},{"id":"27","source":"56","target":"97","type":"curve"},{"id":"28","source":"22","target":"19","type":"dotted"},{"id":"29","source":"17","target":"4","type":"dashed"},{"id":"30","source":"41","target":"56","type":"dashed"},{"id":"31","source":"85","target":"44","type":"curve"},{"id":"32","source":"88","target":"59","type":"parallel"},{"id":"33","source":"79","target":"32","type":"curve"},{"id":"34","source":"38","target":"67","type":"parallel"},{"id":"35","source":"78","target":"44","type":"curve"},{"id":"36","source":"55","target":"55","type":"tapered"},{"id":"37","source":"61","target":"94","type":"parallel"},{"id":"38","source":"28","target":"1","type":"curve"},{"id":"39","source":"32","target":"36","type":"dashed"},{"id":"40","source":"20","target":"35","type":"dotted"},{"id":"41","source":"29","target":"54","type":"dotted"},{"id":"42","source":"93","target":"57","type":"curve"},{"id":"43","source":"26","target":"92","type":"curve"},{"id":"44","source":"83","target":"77","type":"dotted"},{"id":"45","source":"44","target":"53","type":"dashed"},{"id":"46","source":"90","target":"48","type":"curve"},{"id":"47","source":"45","target":"44","type":"curve"},{"id":"48","source":"99","target":"96","type":"tapered"},{"id":"49","source":"50","target":"8","type":"parallel"},{"id":"50","source":"28","target":"45","type":"tapered"},{"id":"51","source":"43","target":"30","type":"dashed"},{"id":"52","source":"48","target":"82","type":"parallel"},{"id":"53","source":"83","target":"24","type":"dotted"},{"id":"54","source":"27","target":"89","type":"parallel"},{"id":"55","source":"48","target":"49","type":"dashed"},{"id":"56","source":"6","target":"13","type":"dashed"},{"id":"57","source":"86","target":"54","type":"dotted"},{"id":"58","source":"68","target":"49","type":"dashed"},{"id":"59","source":"81","target":"44","type":"curve"},{"id":"60","source":"50","target":"19","type":"dotted"},{"id":"61","source":"75","target":"58","type":"dotted"},{"id":"62","source":"93","target":"100","type":"tapered"},{"id":"63","source":"66","target":"64","type":"curve"},{"id":"64","source":"69","target":"63","type":"curve"},{"id":"65","source":"44","target":"40","type":"dotted"},{"id":"66","source":"32","target":"87","type":"curve"},{"id":"67","source":"100","target":"65","type":"dotted"},{"id":"68","source":"16","target":"84","type":"parallel"},{"id":"69","source":"22","target":"26","type":"parallel"},{"id":"70","source":"76","target":"90","type":"dotted"},{"id":"71","source":"61","target":"13","type":"curve"},{"id":"72","source":"10","target":"50","type":"parallel"},{"id":"73","source":"77","target":"96","type":"tapered"},{"id":"74","source":"5","target":"93","type":"tapered"},{"id":"75","source":"13","target":"17","type":"dotted"}]},"type":"canvas","button":{"event":"none","label":""},"crosstalk":{"crosstalk_key":null,"crosstalk_group":null},"force":[],"relativeSize":1,"dragNodes":true,"forceStopDelay":10000},"evals":[],"jsHooks":[]}</script>
</div>
<div id="custom-shapes" class="section level2">
<h2>Custom shapes</h2>
<p>Use custom shapes and image as nodes.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">IMG &lt;-<span class="st"> </span><span class="kw">c</span>(
    <span class="st">'https://avatars0.githubusercontent.com/u/163582?s=400&amp;v=4'</span>,
    <span class="st">'https://avatars1.githubusercontent.com/u/4196?s=400&amp;v=4'</span>,
    <span class="st">'https://avatars3.githubusercontent.com/u/129551?s=400&amp;v=4'</span>
)
SHAPES &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;circle&quot;</span>, <span class="st">&quot;square&quot;</span>, <span class="st">&quot;diamond&quot;</span>)

nodes<span class="op">$</span>url &lt;-<span class="st"> </span><span class="kw">sample</span>(IMG, <span class="kw">nrow</span>(nodes), <span class="dt">replace =</span> <span class="ot">TRUE</span>) <span class="co"># add images</span>
nodes<span class="op">$</span>type &lt;-<span class="st"> </span><span class="kw">sample</span>(SHAPES, <span class="kw">nrow</span>(nodes), <span class="dt">replace =</span> <span class="ot">TRUE</span>) <span class="co"># custom shapes</span>
nodes<span class="op">$</span>scale &lt;-<span class="st"> </span><span class="fl">1.3</span>
nodes<span class="op">$</span>clip &lt;-<span class="st"> </span><span class="fl">0.85</span>

<span class="kw">sigmajs</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">sg_nodes</span>(nodes, id, color, size, type) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">sg_edges</span>(edges, id, source, target) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">sg_layout</span>() <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">sg_add_images</span>(nodes, url, scale, clip) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">sg_settings</span>(<span class="dt">defaultNodeColor =</span> <span class="st">&quot;#0011ff&quot;</span>, <span class="dt">minNodeSize =</span> <span class="dv">8</span>, <span class="dt">maxNodeSize =</span> <span class="dv">16</span>) </code></pre></div>
<div id="htmlwidget-842a7b890de07961da77" class="sigmajs html-widget" style="width:100%;height:288px;">
<button type="button" style="display:block;"></button>
</div>
<script type="application/json" data-for="htmlwidget-842a7b890de07961da77">{"x":{"kill":false,"data":{"nodes":[{"id":"1","color":"#B1E2A3","size":"3","type":"diamond","x":"16.49282","y":"19.482909","image":{"url":"https://avatars1.githubusercontent.com/u/4196?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"2","color":"#AFE1A3","size":"3","type":"diamond","x":"25.67954","y":"20.050216","image":{"url":"https://avatars0.githubusercontent.com/u/163582?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"3","color":"#AEE0A3","size":"4","type":"square","x":"17.22301","y":"22.600451","image":{"url":"https://avatars0.githubusercontent.com/u/163582?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"4","color":"#ADE0A3","size":"3","type":"square","x":"12.02218","y":"16.250935","image":{"url":"https://avatars3.githubusercontent.com/u/129551?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"5","color":"#ACDFA3","size":"4","type":"circle","x":"18.57736","y":"11.641015","image":{"url":"https://avatars1.githubusercontent.com/u/4196?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"6","color":"#ABDEA3","size":"3","type":"diamond","x":"15.38516","y":"16.170120","image":{"url":"https://avatars1.githubusercontent.com/u/4196?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"7","color":"#AADEA3","size":"2","type":"diamond","x":"24.10869","y":"21.073802","image":{"url":"https://avatars3.githubusercontent.com/u/129551?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"8","color":"#A9DDA3","size":"4","type":"diamond","x":"25.83037","y":"12.106760","image":{"url":"https://avatars3.githubusercontent.com/u/129551?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"9","color":"#A8DDA3","size":"4","type":"diamond","x":"21.48552","y":"23.289174","image":{"url":"https://avatars0.githubusercontent.com/u/163582?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"10","color":"#A7DCA3","size":"5","type":"diamond","x":"24.83282","y":"12.945001","image":{"url":"https://avatars0.githubusercontent.com/u/163582?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"11","color":"#A6DBA3","size":"5","type":"square","x":"26.60066","y":"10.617890","image":{"url":"https://avatars1.githubusercontent.com/u/4196?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"12","color":"#A5DBA3","size":"5","type":"circle","x":"17.55785","y":"21.742545","image":{"url":"https://avatars1.githubusercontent.com/u/4196?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"13","color":"#A4DAA3","size":"5","type":"diamond","x":"14.39227","y":"15.765840","image":{"url":"https://avatars3.githubusercontent.com/u/129551?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"14","color":"#A3DAA4","size":"4","type":"circle","x":"25.75210","y":"21.367302","image":{"url":"https://avatars3.githubusercontent.com/u/129551?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"15","color":"#A2D9A4","size":"2","type":"circle","x":"21.02491","y":"14.904132","image":{"url":"https://avatars1.githubusercontent.com/u/4196?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"16","color":"#A1D8A4","size":"4","type":"diamond","x":"20.88747","y":" 7.482695","image":{"url":"https://avatars1.githubusercontent.com/u/4196?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"17","color":"#A0D8A4","size":"4","type":"circle","x":"13.09152","y":"15.923484","image":{"url":"https://avatars0.githubusercontent.com/u/163582?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"18","color":"#9FD7A4","size":"5","type":"circle","x":"27.69163","y":"18.192518","image":{"url":"https://avatars0.githubusercontent.com/u/163582?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"19","color":"#9ED7A4","size":"2","type":"diamond","x":"23.84689","y":"11.328371","image":{"url":"https://avatars0.githubusercontent.com/u/163582?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"20","color":"#9DD6A4","size":"2","type":"diamond","x":"24.83570","y":"15.155782","image":{"url":"https://avatars3.githubusercontent.com/u/129551?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"21","color":"#9CD5A4","size":"4","type":"circle","x":"17.03761","y":"14.533895","image":{"url":"https://avatars1.githubusercontent.com/u/4196?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"22","color":"#9BD5A4","size":"2","type":"circle","x":"22.69542","y":"11.442147","image":{"url":"https://avatars0.githubusercontent.com/u/163582?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"23","color":"#9AD4A4","size":"5","type":"square","x":"24.32367","y":" 8.866589","image":{"url":"https://avatars0.githubusercontent.com/u/163582?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"24","color":"#99D4A4","size":"3","type":"diamond","x":"20.91260","y":"19.348411","image":{"url":"https://avatars3.githubusercontent.com/u/129551?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"25","color":"#98D3A4","size":"2","type":"diamond","x":"25.16483","y":"16.906398","image":{"url":"https://avatars3.githubusercontent.com/u/129551?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"26","color":"#96D2A4","size":"3","type":"circle","x":"22.30605","y":"12.670564","image":{"url":"https://avatars1.githubusercontent.com/u/4196?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"27","color":"#92CFA3","size":"5","type":"square","x":"16.48209","y":"13.702133","image":{"url":"https://avatars0.githubusercontent.com/u/163582?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"28","color":"#8ECCA1","size":"2","type":"circle","x":"16.99001","y":"18.607111","image":{"url":"https://avatars1.githubusercontent.com/u/4196?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"29","color":"#8AC9A0","size":"5","type":"diamond","x":"14.88680","y":"22.365607","image":{"url":"https://avatars3.githubusercontent.com/u/129551?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"30","color":"#86C69F","size":"2","type":"square","x":"14.14570","y":"17.086414","image":{"url":"https://avatars1.githubusercontent.com/u/4196?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"31","color":"#82C39D","size":"4","type":"square","x":"18.70090","y":"13.420599","image":{"url":"https://avatars3.githubusercontent.com/u/129551?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"32","color":"#7EC09C","size":"4","type":"square","x":"15.17074","y":" 8.900402","image":{"url":"https://avatars0.githubusercontent.com/u/163582?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"33","color":"#7ABD9B","size":"4","type":"diamond","x":"27.27957","y":"13.668752","image":{"url":"https://avatars1.githubusercontent.com/u/4196?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"34","color":"#75BA99","size":"4","type":"diamond","x":"28.15007","y":"14.717910","image":{"url":"https://avatars1.githubusercontent.com/u/4196?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"35","color":"#71B798","size":"5","type":"diamond","x":"25.58652","y":"14.699290","image":{"url":"https://avatars3.githubusercontent.com/u/129551?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"36","color":"#6DB496","size":"2","type":"diamond","x":"14.22392","y":" 9.514563","image":{"url":"https://avatars3.githubusercontent.com/u/129551?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"37","color":"#69B195","size":"5","type":"diamond","x":"26.85487","y":"15.571894","image":{"url":"https://avatars3.githubusercontent.com/u/129551?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"38","color":"#65AE94","size":"4","type":"diamond","x":"11.56920","y":"14.429902","image":{"url":"https://avatars0.githubusercontent.com/u/163582?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"39","color":"#61AB92","size":"2","type":"square","x":"25.65556","y":"18.465712","image":{"url":"https://avatars1.githubusercontent.com/u/4196?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"40","color":"#5DA891","size":"4","type":"circle","x":"20.20086","y":"18.438240","image":{"url":"https://avatars3.githubusercontent.com/u/129551?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"41","color":"#59A590","size":"2","type":"diamond","x":"18.43613","y":" 8.010100","image":{"url":"https://avatars0.githubusercontent.com/u/163582?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"42","color":"#55A28E","size":"2","type":"square","x":"24.23716","y":"19.218034","image":{"url":"https://avatars3.githubusercontent.com/u/129551?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"43","color":"#509F8D","size":"5","type":"diamond","x":"14.61164","y":"18.090217","image":{"url":"https://avatars1.githubusercontent.com/u/4196?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"44","color":"#4C9C8B","size":"3","type":"circle","x":"19.26846","y":"17.404077","image":{"url":"https://avatars0.githubusercontent.com/u/163582?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"45","color":"#48998A","size":"3","type":"square","x":"17.87376","y":"17.753108","image":{"url":"https://avatars0.githubusercontent.com/u/163582?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"46","color":"#449689","size":"2","type":"square","x":"13.19249","y":"17.584580","image":{"url":"https://avatars1.githubusercontent.com/u/4196?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"47","color":"#409387","size":"5","type":"square","x":"13.98289","y":"10.488141","image":{"url":"https://avatars0.githubusercontent.com/u/163582?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"48","color":"#3C9086","size":"4","type":"square","x":"14.45569","y":"11.520989","image":{"url":"https://avatars3.githubusercontent.com/u/129551?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"49","color":"#388D85","size":"2","type":"diamond","x":"13.14084","y":"11.676569","image":{"url":"https://avatars0.githubusercontent.com/u/163582?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"50","color":"#348A83","size":"3","type":"square","x":"24.79609","y":"11.919982","image":{"url":"https://avatars3.githubusercontent.com/u/129551?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"51","color":"#318882","size":"5","type":"circle","x":"22.97013","y":"19.993728","image":{"url":"https://avatars0.githubusercontent.com/u/163582?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"52","color":"#308681","size":"2","type":"square","x":"24.36118","y":"22.453273","image":{"url":"https://avatars1.githubusercontent.com/u/4196?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"53","color":"#2F8481","size":"4","type":"circle","x":"18.25347","y":"16.867462","image":{"url":"https://avatars0.githubusercontent.com/u/163582?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"54","color":"#2E8280","size":"2","type":"diamond","x":"15.63570","y":"21.971951","image":{"url":"https://avatars0.githubusercontent.com/u/163582?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"55","color":"#2D807F","size":"4","type":"circle","x":"26.71837","y":"17.189229","image":{"url":"https://avatars3.githubusercontent.com/u/129551?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"56","color":"#2D7E7E","size":"2","type":"circle","x":"18.78212","y":" 9.117015","image":{"url":"https://avatars0.githubusercontent.com/u/163582?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"57","color":"#2C7D7E","size":"2","type":"circle","x":"20.06545","y":"11.353068","image":{"url":"https://avatars3.githubusercontent.com/u/129551?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"58","color":"#2B7B7D","size":"2","type":"circle","x":"12.90534","y":"19.276343","image":{"url":"https://avatars3.githubusercontent.com/u/129551?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"59","color":"#2A797C","size":"2","type":"circle","x":"25.88156","y":" 9.981811","image":{"url":"https://avatars1.githubusercontent.com/u/4196?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"60","color":"#29777B","size":"3","type":"square","x":"18.26465","y":"23.757308","image":{"url":"https://avatars1.githubusercontent.com/u/4196?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"61","color":"#28757A","size":"3","type":"circle","x":"15.01618","y":"14.401668","image":{"url":"https://avatars1.githubusercontent.com/u/4196?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"62","color":"#27747A","size":"5","type":"square","x":"28.12543","y":"16.443241","image":{"url":"https://avatars1.githubusercontent.com/u/4196?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"63","color":"#267279","size":"3","type":"circle","x":"14.25414","y":"20.416620","image":{"url":"https://avatars1.githubusercontent.com/u/4196?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"64","color":"#257078","size":"3","type":"diamond","x":"23.31025","y":"16.810628","image":{"url":"https://avatars0.githubusercontent.com/u/163582?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"65","color":"#256E77","size":"4","type":"diamond","x":"22.02737","y":"10.433027","image":{"url":"https://avatars3.githubusercontent.com/u/129551?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"66","color":"#246C77","size":"5","type":"circle","x":"23.27178","y":"17.694241","image":{"url":"https://avatars0.githubusercontent.com/u/163582?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"67","color":"#236A76","size":"2","type":"diamond","x":"12.50532","y":"14.074384","image":{"url":"https://avatars0.githubusercontent.com/u/163582?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"68","color":"#226975","size":"4","type":"square","x":"12.18369","y":"12.034690","image":{"url":"https://avatars0.githubusercontent.com/u/163582?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"69","color":"#216774","size":"4","type":"diamond","x":"13.50251","y":"20.788346","image":{"url":"https://avatars0.githubusercontent.com/u/163582?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"70","color":"#206574","size":"4","type":"circle","x":"22.85592","y":" 7.992744","image":{"url":"https://avatars1.githubusercontent.com/u/4196?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"71","color":"#1F6373","size":"5","type":"square","x":"22.48905","y":"21.819149","image":{"url":"https://avatars3.githubusercontent.com/u/129551?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"72","color":"#1E6172","size":"2","type":"square","x":"22.94208","y":"23.167571","image":{"url":"https://avatars3.githubusercontent.com/u/129551?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"73","color":"#1D6071","size":"4","type":"square","x":"22.81302","y":"14.463637","image":{"url":"https://avatars1.githubusercontent.com/u/4196?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"74","color":"#1D5E70","size":"5","type":"circle","x":"27.59436","y":"12.356261","image":{"url":"https://avatars1.githubusercontent.com/u/4196?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"75","color":"#1C5C70","size":"5","type":"diamond","x":"12.11963","y":"18.852876","image":{"url":"https://avatars3.githubusercontent.com/u/129551?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"76","color":"#1C5F6F","size":"3","type":"diamond","x":"17.38465","y":"10.056001","image":{"url":"https://avatars0.githubusercontent.com/u/163582?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"77","color":"#1C636F","size":"2","type":"circle","x":"20.55278","y":"21.239683","image":{"url":"https://avatars0.githubusercontent.com/u/163582?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"78","color":"#1C686F","size":"2","type":"diamond","x":"20.11081","y":"15.970585","image":{"url":"https://avatars0.githubusercontent.com/u/163582?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"79","color":"#1D6C6F","size":"2","type":"square","x":"15.93855","y":" 8.080204","image":{"url":"https://avatars0.githubusercontent.com/u/163582?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"80","color":"#1D706F","size":"5","type":"circle","x":"21.95223","y":" 7.650503","image":{"url":"https://avatars3.githubusercontent.com/u/129551?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"81","color":"#1D756E","size":"2","type":"diamond","x":"20.42268","y":"17.164314","image":{"url":"https://avatars3.githubusercontent.com/u/129551?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"82","color":"#1E796E","size":"2","type":"square","x":"14.12887","y":"12.708065","image":{"url":"https://avatars3.githubusercontent.com/u/129551?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"83","color":"#1E7E6E","size":"3","type":"circle","x":"21.02585","y":"20.367035","image":{"url":"https://avatars1.githubusercontent.com/u/4196?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"84","color":"#1E826E","size":"3","type":"circle","x":"19.76551","y":" 7.900494","image":{"url":"https://avatars1.githubusercontent.com/u/4196?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"85","color":"#1F866E","size":"3","type":"circle","x":"18.89760","y":"18.651601","image":{"url":"https://avatars3.githubusercontent.com/u/129551?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"86","color":"#1F8B6D","size":"4","type":"diamond","x":"15.92638","y":"21.110695","image":{"url":"https://avatars0.githubusercontent.com/u/163582?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"87","color":"#1F8F6D","size":"3","type":"diamond","x":"15.98759","y":" 9.406588","image":{"url":"https://avatars3.githubusercontent.com/u/129551?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"88","color":"#20946D","size":"5","type":"square","x":"25.10751","y":" 9.399021","image":{"url":"https://avatars3.githubusercontent.com/u/129551?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"89","color":"#20986D","size":"3","type":"circle","x":"17.78755","y":"12.829656","image":{"url":"https://avatars3.githubusercontent.com/u/129551?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"90","color":"#209C6D","size":"2","type":"circle","x":"15.98365","y":"10.969164","image":{"url":"https://avatars0.githubusercontent.com/u/163582?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"91","color":"#21A16C","size":"5","type":"diamond","x":"20.11224","y":"23.816974","image":{"url":"https://avatars0.githubusercontent.com/u/163582?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"92","color":"#21A56C","size":"3","type":"square","x":"21.91631","y":"13.928538","image":{"url":"https://avatars3.githubusercontent.com/u/129551?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"93","color":"#21AA6C","size":"2","type":"circle","x":"19.47450","y":"10.443180","image":{"url":"https://avatars1.githubusercontent.com/u/4196?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"94","color":"#22AE6C","size":"2","type":"square","x":"13.78059","y":"13.822285","image":{"url":"https://avatars0.githubusercontent.com/u/163582?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"95","color":"#22B26C","size":"3","type":"diamond","x":"27.02234","y":"19.585543","image":{"url":"https://avatars0.githubusercontent.com/u/163582?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"96","color":"#22B76B","size":"4","type":"circle","x":"19.81302","y":"21.830514","image":{"url":"https://avatars3.githubusercontent.com/u/129551?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"97","color":"#23BB6B","size":"5","type":"diamond","x":"19.75951","y":" 8.922372","image":{"url":"https://avatars0.githubusercontent.com/u/163582?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"98","color":"#23C06B","size":"4","type":"square","x":"16.80633","y":" 7.554219","image":{"url":"https://avatars0.githubusercontent.com/u/163582?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"99","color":"#23C46B","size":"3","type":"circle","x":"19.12347","y":"22.402593","image":{"url":"https://avatars3.githubusercontent.com/u/129551?s=400&v=4","scale":"1.3","clip":"0.85"}},{"id":"100","color":"#24C96B","size":"5","type":"diamond","x":"20.88348","y":"10.217210","image":{"url":"https://avatars3.githubusercontent.com/u/129551?s=400&v=4","scale":"1.3","clip":"0.85"}}],"edges":[{"id":"1","source":"56","target":"76"},{"id":"2","source":"88","target":"23"},{"id":"3","source":"13","target":"30"},{"id":"4","source":"98","target":"79"},{"id":"5","source":"36","target":"47"},{"id":"6","source":"27","target":"21"},{"id":"7","source":"56","target":"84"},{"id":"8","source":"78","target":"15"},{"id":"9","source":"27","target":"61"},{"id":"10","source":"94","target":"67"},{"id":"11","source":"82","target":"94"},{"id":"12","source":"92","target":"15"},{"id":"13","source":"30","target":"46"},{"id":"14","source":"12","target":"3"},{"id":"15","source":"48","target":"47"},{"id":"16","source":"20","target":"20"},{"id":"17","source":"11","target":"59"},{"id":"18","source":"24","target":"40"},{"id":"19","source":"5","target":"89"},{"id":"20","source":"80","target":"16"},{"id":"21","source":"45","target":"53"},{"id":"22","source":"22","target":"65"},{"id":"23","source":"93","target":"56"},{"id":"24","source":"92","target":"73"},{"id":"25","source":"70","target":"80"},{"id":"26","source":"31","target":"89"},{"id":"27","source":"56","target":"97"},{"id":"28","source":"22","target":"19"},{"id":"29","source":"17","target":"4"},{"id":"30","source":"41","target":"56"},{"id":"31","source":"85","target":"44"},{"id":"32","source":"88","target":"59"},{"id":"33","source":"79","target":"32"},{"id":"34","source":"38","target":"67"},{"id":"35","source":"78","target":"44"},{"id":"36","source":"55","target":"55"},{"id":"37","source":"61","target":"94"},{"id":"38","source":"28","target":"1"},{"id":"39","source":"32","target":"36"},{"id":"40","source":"20","target":"35"},{"id":"41","source":"29","target":"54"},{"id":"42","source":"93","target":"57"},{"id":"43","source":"26","target":"92"},{"id":"44","source":"83","target":"77"},{"id":"45","source":"44","target":"53"},{"id":"46","source":"90","target":"48"},{"id":"47","source":"45","target":"44"},{"id":"48","source":"99","target":"96"},{"id":"49","source":"50","target":"8"},{"id":"50","source":"28","target":"45"},{"id":"51","source":"43","target":"30"},{"id":"52","source":"48","target":"82"},{"id":"53","source":"83","target":"24"},{"id":"54","source":"27","target":"89"},{"id":"55","source":"48","target":"49"},{"id":"56","source":"6","target":"13"},{"id":"57","source":"86","target":"54"},{"id":"58","source":"68","target":"49"},{"id":"59","source":"81","target":"44"},{"id":"60","source":"50","target":"19"},{"id":"61","source":"75","target":"58"},{"id":"62","source":"93","target":"100"},{"id":"63","source":"66","target":"64"},{"id":"64","source":"69","target":"63"},{"id":"65","source":"44","target":"40"},{"id":"66","source":"32","target":"87"},{"id":"67","source":"100","target":"65"},{"id":"68","source":"16","target":"84"},{"id":"69","source":"22","target":"26"},{"id":"70","source":"76","target":"90"},{"id":"71","source":"61","target":"13"},{"id":"72","source":"10","target":"50"},{"id":"73","source":"77","target":"96"},{"id":"74","source":"5","target":"93"},{"id":"75","source":"13","target":"17"}]},"type":"canvas","button":{"event":"none","label":""},"crosstalk":{"crosstalk_key":null,"crosstalk_group":null},"customShapes":true,"settings":{"defaultNodeColor":"#0011ff","minNodeSize":8,"maxNodeSize":16}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="download" class="section level2">
<h2>Download</h2>
<p>Allow users to download the graph to SVG.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">nodes &lt;-<span class="st"> </span><span class="kw">sg_make_nodes</span>()
edges &lt;-<span class="st"> </span><span class="kw">sg_make_edges</span>(nodes)

<span class="kw">sigmajs</span>() <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">sg_nodes</span>(nodes, id, size, color) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">sg_edges</span>(edges, id, source, target) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">sg_export_svg</span>() <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">sg_layout</span>() <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">sg_button</span>(
    <span class="st">&quot;&lt;i class='fa fa-download'&gt;&lt;/i&gt;&quot;</span>, 
    <span class="st">&quot;export_svg&quot;</span>, 
    <span class="dt">class =</span> <span class="st">&quot;btn btn-success&quot;</span>
  )</code></pre></div>
<div id="htmlwidget-8bb8216bb9ef167f6db2" class="sigmajs html-widget" style="width:100%;height:288px;">
<button type="button" style="display:block;"></button>
</div>
<script type="application/json" data-for="htmlwidget-8bb8216bb9ef167f6db2">{"x":{"kill":false,"data":{"nodes":[{"id":"1","size":"4","color":"#B1E2A3","x":"14.92573","y":"3.127894"},{"id":"2","size":"4","color":"#A5DBA3","x":"14.39213","y":"8.710630"},{"id":"3","size":"4","color":"#9AD4A4","x":"12.55377","y":"4.882551"},{"id":"4","size":"2","color":"#76BA99","x":"17.68590","y":"4.168254"},{"id":"5","size":"3","color":"#48998A","x":"16.44810","y":"6.877447"},{"id":"6","size":"4","color":"#2D7E7E","x":"13.55223","y":"5.766840"},{"id":"7","size":"2","color":"#236B76","x":"13.60162","y":"4.212789"},{"id":"8","size":"5","color":"#1C686F","x":"14.73116","y":"7.229939"},{"id":"9","size":"5","color":"#20986D","x":"17.62744","y":"5.732030"},{"id":"10","size":"3","color":"#24C96B","x":"16.54833","y":"3.091349"}],"edges":[{"id":"1","source":"4","target":"9"},{"id":"2","source":"5","target":"8"},{"id":"3","source":"6","target":"6"},{"id":"4","source":"5","target":"9"},{"id":"5","source":"6","target":"7"},{"id":"6","source":"10","target":"10"},{"id":"7","source":"1","target":"1"},{"id":"8","source":"7","target":"1"},{"id":"9","source":"9","target":"9"},{"id":"10","source":"2","target":"8"},{"id":"11","source":"6","target":"3"},{"id":"12","source":"10","target":"4"},{"id":"13","source":"3","target":"7"},{"id":"14","source":"8","target":"6"},{"id":"15","source":"1","target":"10"}]},"type":"canvas","button":{"label":"<i class='fa fa-download'><\/i>","event":"export_svg","className":"btn btn-success"},"crosstalk":{"crosstalk_key":null,"crosstalk_group":null},"exportSVG":{"download":true,"filename":"graph.svg","size":1000,"width":1000,"height":1000,"labels":false,"data":false}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="neighbours" class="section level2">
<h2>Neighbours</h2>
<p>Highlight node neighbours on click.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">nodes &lt;-<span class="st"> </span><span class="kw">sg_make_nodes</span>(<span class="dv">50</span>)
edges &lt;-<span class="st"> </span><span class="kw">sg_make_edges</span>(nodes)

<span class="kw">sigmajs</span>() <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">sg_nodes</span>(nodes, id, size, color) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">sg_edges</span>(edges, id, source, target) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">sg_layout</span>() <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">sg_neighbours</span>()</code></pre></div>
<div id="htmlwidget-bd82070396113e54b31d" class="sigmajs html-widget" style="width:100%;height:288px;">
<button type="button" style="display:block;"></button>
</div>
<script type="application/json" data-for="htmlwidget-bd82070396113e54b31d">{"x":{"kill":false,"data":{"nodes":[{"id":"1","size":"4","color":"#B1E2A3","x":"-0.16763092","y":" 9.4954332"},{"id":"2","size":"5","color":"#AEE0A3","x":" 2.73931536","y":" 2.0938444"},{"id":"3","size":"3","color":"#ACDFA3","x":"-2.81990564","y":" 2.2696830"},{"id":"4","size":"4","color":"#AADEA3","x":"-0.34213593","y":" 6.8739488"},{"id":"5","size":"5","color":"#A8DDA3","x":" 5.29912205","y":" 4.6018135"},{"id":"6","size":"3","color":"#A6DBA3","x":" 1.53489479","y":" 3.7245161"},{"id":"7","size":"5","color":"#A4DAA3","x":"-1.19657482","y":" 7.2224346"},{"id":"8","size":"4","color":"#A2D9A4","x":" 1.30681200","y":" 5.0576257"},{"id":"9","size":"2","color":"#A0D8A4","x":" 4.02723208","y":" 4.8346490"},{"id":"10","size":"3","color":"#9ED6A4","x":" 3.96160746","y":" 0.1844249"},{"id":"11","size":"5","color":"#9CD5A4","x":" 4.25119227","y":" 2.8812033"},{"id":"12","size":"5","color":"#9AD4A4","x":"-3.77191898","y":" 3.7752853"},{"id":"13","size":"2","color":"#98D3A4","x":" 2.57411862","y":" 1.4403689"},{"id":"14","size":"5","color":"#91CEA2","x":" 1.40149233","y":"-1.5135801"},{"id":"15","size":"2","color":"#89C8A0","x":" 7.35165413","y":" 3.2542868"},{"id":"16","size":"5","color":"#81C29D","x":" 1.25957759","y":" 6.2484632"},{"id":"17","size":"4","color":"#78BC9A","x":"-1.33441401","y":" 5.3904811"},{"id":"18","size":"3","color":"#70B697","x":" 2.42415346","y":" 0.6808890"},{"id":"19","size":"4","color":"#68B095","x":"-0.80441622","y":" 4.3155398"},{"id":"20","size":"2","color":"#5FAA92","x":" 4.67663766","y":" 1.9091457"},{"id":"21","size":"2","color":"#57A48F","x":" 2.25078835","y":" 5.9017010"},{"id":"22","size":"4","color":"#4F9E8C","x":" 4.95907134","y":" 6.6383222"},{"id":"23","size":"4","color":"#469889","x":"-0.44212807","y":" 3.0763383"},{"id":"24","size":"3","color":"#3E9287","x":"-0.94331814","y":" 0.6615069"},{"id":"25","size":"5","color":"#368C84","x":" 1.23671743","y":" 0.8444680"},{"id":"26","size":"3","color":"#318782","x":"-0.61838666","y":" 5.0481493"},{"id":"27","size":"4","color":"#2F8380","x":" 4.98242195","y":" 9.2637256"},{"id":"28","size":"2","color":"#2D7F7F","x":"-1.21037855","y":" 2.3451181"},{"id":"29","size":"4","color":"#2B7C7D","x":"-1.61257538","y":" 3.6999793"},{"id":"30","size":"3","color":"#29787C","x":" 5.53997976","y":" 5.5578707"},{"id":"31","size":"2","color":"#28747A","x":"-2.75580288","y":" 5.3666626"},{"id":"32","size":"4","color":"#267178","x":" 2.18389772","y":"-0.8815699"},{"id":"33","size":"2","color":"#246D77","x":" 0.54097622","y":" 3.2566573"},{"id":"34","size":"2","color":"#226975","x":" 3.28607517","y":" 7.4813697"},{"id":"35","size":"3","color":"#206674","x":"-2.32223006","y":" 4.7300137"},{"id":"36","size":"2","color":"#1F6272","x":" 1.96158557","y":" 7.5853381"},{"id":"37","size":"3","color":"#1D5E71","x":" 0.03003162","y":" 8.1259331"},{"id":"38","size":"4","color":"#1C5E6F","x":"-2.55810237","y":" 4.0995473"},{"id":"39","size":"4","color":"#1C676F","x":" 7.31124730","y":" 2.1911150"},{"id":"40","size":"4","color":"#1D706F","x":" 6.74410677","y":" 4.1987231"},{"id":"41","size":"3","color":"#1E786E","x":" 5.97151856","y":" 7.4056800"},{"id":"42","size":"2","color":"#1E816E","x":" 1.23146172","y":"-0.1351617"},{"id":"43","size":"2","color":"#1F8A6D","x":"-0.31993280","y":" 2.1661308"},{"id":"44","size":"2","color":"#20936D","x":" 1.07716891","y":" 7.0257314"},{"id":"45","size":"5","color":"#209C6D","x":" 1.36463957","y":" 4.4727250"},{"id":"46","size":"4","color":"#21A56C","x":" 0.27924317","y":" 4.9304633"},{"id":"47","size":"3","color":"#22AE6C","x":" 2.72536879","y":"10.2004986"},{"id":"48","size":"5","color":"#22B76B","x":" 2.97964993","y":" 2.9204902"},{"id":"49","size":"4","color":"#23C06B","x":"-1.41550125","y":" 1.4767774"},{"id":"50","size":"2","color":"#24C96B","x":" 0.79808252","y":" 2.5196313"}],"edges":[{"id":"1","source":"43","target":"50"},{"id":"2","source":"6","target":"16"},{"id":"3","source":"31","target":"29"},{"id":"4","source":"7","target":"44"},{"id":"5","source":"23","target":"45"},{"id":"6","source":"11","target":"48"},{"id":"7","source":"2","target":"18"},{"id":"8","source":"24","target":"42"},{"id":"9","source":"40","target":"5"},{"id":"10","source":"5","target":"11"},{"id":"11","source":"45","target":"44"},{"id":"12","source":"20","target":"48"},{"id":"13","source":"21","target":"36"},{"id":"14","source":"13","target":"10"},{"id":"15","source":"42","target":"32"},{"id":"16","source":"33","target":"13"},{"id":"17","source":"3","target":"12"},{"id":"18","source":"18","target":"42"},{"id":"19","source":"22","target":"41"},{"id":"20","source":"7","target":"31"},{"id":"21","source":"50","target":"28"},{"id":"22","source":"17","target":"46"},{"id":"23","source":"37","target":"16"},{"id":"24","source":"8","target":"6"},{"id":"25","source":"18","target":"32"},{"id":"26","source":"43","target":"6"},{"id":"27","source":"22","target":"5"},{"id":"28","source":"44","target":"4"},{"id":"29","source":"46","target":"50"},{"id":"30","source":"26","target":"4"},{"id":"31","source":"29","target":"23"},{"id":"32","source":"39","target":"15"},{"id":"33","source":"9","target":"5"},{"id":"34","source":"48","target":"18"},{"id":"35","source":"14","target":"42"},{"id":"36","source":"29","target":"26"},{"id":"37","source":"34","target":"44"},{"id":"38","source":"9","target":"48"},{"id":"39","source":"1","target":"37"},{"id":"40","source":"30","target":"9"},{"id":"41","source":"23","target":"49"},{"id":"42","source":"31","target":"12"},{"id":"43","source":"28","target":"29"},{"id":"44","source":"11","target":"13"},{"id":"45","source":"35","target":"29"},{"id":"46","source":"8","target":"19"},{"id":"47","source":"6","target":"2"},{"id":"48","source":"18","target":"25"},{"id":"49","source":"36","target":"44"},{"id":"50","source":"35","target":"19"},{"id":"51","source":"21","target":"9"},{"id":"52","source":"14","target":"32"},{"id":"53","source":"16","target":"21"},{"id":"54","source":"25","target":"50"},{"id":"55","source":"17","target":"46"},{"id":"56","source":"38","target":"3"},{"id":"57","source":"34","target":"22"},{"id":"58","source":"43","target":"24"},{"id":"59","source":"38","target":"31"},{"id":"60","source":"38","target":"17"},{"id":"61","source":"7","target":"37"},{"id":"62","source":"21","target":"46"},{"id":"63","source":"38","target":"19"},{"id":"64","source":"26","target":"33"},{"id":"65","source":"36","target":"44"},{"id":"66","source":"21","target":"8"},{"id":"67","source":"33","target":"19"},{"id":"68","source":"48","target":"45"},{"id":"69","source":"29","target":"43"},{"id":"70","source":"13","target":"42"},{"id":"71","source":"15","target":"40"},{"id":"72","source":"50","target":"48"},{"id":"73","source":"3","target":"24"},{"id":"74","source":"49","target":"43"},{"id":"75","source":"23","target":"33"}]},"type":"canvas","button":{"event":"none","label":""},"crosstalk":{"crosstalk_key":null,"crosstalk_group":null},"neighbours":{"nodes":"#eee","edges":"#eee"}},"evals":[],"jsHooks":[]}</script>
</div>



<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
